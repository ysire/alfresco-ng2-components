/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("ng2-alfresco-core"),require("rxjs/Rx"),require("@angular/material"),require("@angular/forms"),require("@angular/common"),require("@angular/router"),require("rxjs/Observable"),require("@angular/cdk/keycodes"),require("rxjs/add/operator/toPromise"),require("@angular/flex-layout"),require("rxjs/Subject"),require("alfresco-js-api"),require("@angular/animations"),require("@angular/platform-browser"),require("rxjs/observable/fromEvent"),require("rxjs/observable/merge")):"function"==typeof define&&define.amd?define(["@angular/core","ng2-alfresco-core","rxjs/Rx","@angular/material","@angular/forms","@angular/common","@angular/router","rxjs/Observable","@angular/cdk/keycodes","rxjs/add/operator/toPromise","@angular/flex-layout","rxjs/Subject","alfresco-js-api","@angular/animations","@angular/platform-browser","rxjs/observable/fromEvent","rxjs/observable/merge"],t):"object"==typeof exports?exports["content-services"]=t(require("@angular/core"),require("ng2-alfresco-core"),require("rxjs/Rx"),require("@angular/material"),require("@angular/forms"),require("@angular/common"),require("@angular/router"),require("rxjs/Observable"),require("@angular/cdk/keycodes"),require("rxjs/add/operator/toPromise"),require("@angular/flex-layout"),require("rxjs/Subject"),require("alfresco-js-api"),require("@angular/animations"),require("@angular/platform-browser"),require("rxjs/observable/fromEvent"),require("rxjs/observable/merge")):e["content-services"]=t(e["@angular/core"],e["ng2-alfresco-core"],e["rxjs/Rx"],e["@angular/material"],e["@angular/forms"],e["@angular/common"],e["@angular/router"],e["rxjs/Observable"],e["@angular/cdk/keycodes"],e["rxjs/add/operator/toPromise"],e["@angular/flex-layout"],e["rxjs/Subject"],e["alfresco-js-api"],e["@angular/animations"],e["@angular/platform-browser"],e["rxjs/observable/fromEvent"],e["rxjs/observable/merge"])}(this,function(e,t,n,i,o,r,a,s,l,c,d,u,p,h,f,m,g){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=442)}([function(t,n){t.exports=e},function(e,t,n){"use strict";t.a=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},t.b=function(e,t){return function(n,i){t(n,i,e)}};Object.setPrototypeOf||Array,Object.assign},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=i},,function(e,t){e.exports=o},,,function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DataTableCellComponent",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{ngOnInit(){!this.value&&this.column&&this.column.key&&this.row&&this.data&&(this.value=this.data.getValue(this.row,this.column),this.tooltip||(this.tooltip=this.value))}};i.a([Object(o.Input)()],r.prototype,"data",void 0),i.a([Object(o.Input)()],r.prototype,"column",void 0),i.a([Object(o.Input)()],r.prototype,"row",void 0),i.a([Object(o.Input)()],r.prototype,"value",void 0),i.a([Object(o.Input)()],r.prototype,"tooltip",void 0),r=i.a([Object(o.Component)({selector:"adf-datatable-cell",changeDetection:o.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span [title]="tooltip" class="adf-datatable-cell-value">{{value}}</span>\n        </ng-container>',encapsulation:o.ViewEncapsulation.None,host:{class:"adf-datatable-cell"}})],r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(69);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var r=n(93);n.d(t,"UserInfoComponent",function(){return r.e}),n.d(t,"BpmUserService",function(){return r.a}),n.d(t,"EcmUserService",function(){return r.b}),n.d(t,"USER_INFO_DIRECTIVES",function(){return r.c}),n.d(t,"USER_INFO_PROVIDERS",function(){return r.d}),n.d(t,"UserInfoModule",function(){return r.f});var a=n(104);n.n(a);for(var o in a)["UserInfoComponent","BpmUserService","EcmUserService","USER_INFO_DIRECTIVES","USER_INFO_PROVIDERS","UserInfoModule","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return a[e]})}(o);var s=n(112);for(var o in s)["UserInfoComponent","BpmUserService","EcmUserService","USER_INFO_DIRECTIVES","USER_INFO_PROVIDERS","UserInfoModule","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return s[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ViewerComponent",function(){return d});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(16)),s=n(17),l=(n.n(s),n(18)),c=n(19);let d=class{constructor(e,t,n,i){this.apiService=e,this.logService=t,this.location=n,this.renditionService=i,this.urlFile="",this.fileNodeId=null,this.overlayMode=!1,this.showViewer=!0,this.showToolbar=!0,this.allowGoBack=!0,this.allowDownload=!0,this.allowPrint=!1,this.allowShare=!1,this.allowSidebar=!1,this.showSidebar=!1,this.sidebarPosition="right",this.goBack=new o.EventEmitter,this.download=new o.EventEmitter,this.print=new o.EventEmitter,this.share=new o.EventEmitter,this.showViewerChange=new o.EventEmitter,this.extensionChange=new o.EventEmitter,this.viewerType="unknown",this.downloadUrl=null,this.fileName="document",this.isLoading=!1,this.extensionTemplates=[],this.externalExtensions=[],this.extensions={image:["png","jpg","jpeg","gif","bpm"],media:["wav","mp4","mp3","webm","ogg"],text:["txt","xml","js","html","json"],pdf:["pdf"]},this.mimeTypes=[{mimeType:"application/x-javascript",type:"text"},{mimeType:"application/pdf",type:"pdf"}]}ngOnChanges(e){if(this.showViewer){if(!this.urlFile&&!this.blobFile&&!this.fileNodeId)throw new Error("Attribute urlFile or fileNodeId or blobFile is required");return new Promise((e,t)=>{if(this.blobFile)this.displayName=this.getDisplayName("Unknown"),this.isLoading=!0,this.mimeType=this.blobFile.type,this.viewerType=this.getViewerTypeByMimeType(this.mimeType),this.allowDownload=!1,this.extensionChange.emit(this.mimeType),this.isLoading=!1,this.scrollTop(),e();else if(this.urlFile){this.isLoading=!0;let t=this.getFilenameFromUrl(this.urlFile);this.displayName=this.getDisplayName(t),this.extension=this.getFileExtension(t),this.urlFileContent=this.urlFile,this.downloadUrl=this.urlFile,this.fileName=this.displayName,this.viewerType=this.getViewerTypeByExtension(this.extension),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByMimeType(this.mimeType)),this.extensionChange.emit(this.extension),this.isLoading=!1,this.scrollTop(),e()}else this.fileNodeId&&(this.isLoading=!0,this.apiService.getInstance().nodes.getNodeInfo(this.fileNodeId).then(t=>{this.mimeType=t.content.mimeType,this.displayName=this.getDisplayName(t.name),this.urlFileContent=this.apiService.getInstance().content.getContentUrl(t.id),this.extension=this.getFileExtension(t.name),this.fileName=t.name,this.downloadUrl=this.apiService.getInstance().content.getContentUrl(t.id,!0),this.viewerType=this.getViewerTypeByExtension(this.extension),"unknown"===this.viewerType&&(this.viewerType=this.getViewerTypeByMimeType(this.mimeType)),"unknown"===this.viewerType?this.displayAsPdf(t.id):this.isLoading=!1,this.extensionChange.emit(this.extension),this.scrollTop(),e()},e=>{this.isLoading=!1,t(e),this.logService.error("This node does not exist")}))})}}getDisplayName(e){return this.displayName||e}scrollTop(){window.scrollTo(0,1)}getViewerTypeByMimeType(e){if(e){if((e=e.toLowerCase()).startsWith("image/"))return"image";if(e.startsWith("text/"))return"text";if(e.startsWith("video/"))return"media";if(e.startsWith("audio/"))return"media";const t=this.mimeTypes.find(t=>t.mimeType===e);if(t)return t.type}return"unknown"}getViewerTypeByExtension(e){return e&&(e=e.toLowerCase()),this.isCustomViewerExtension(e)?"custom":this.extensions.image.indexOf(e)>=0?"image":this.extensions.media.indexOf(e)>=0?"media":this.extensions.text.indexOf(e)>=0?"text":this.extensions.pdf.indexOf(e)>=0?"pdf":"unknown"}onBackButtonClick(){if(this.overlayMode)this.close();else{const e=new r.BaseEvent;this.goBack.next(e),e.defaultPrevented||this.location.back()}}close(){this.otherMenu&&(this.otherMenu.hidden=!1),this.cleanup(),this.showViewer=!1,this.showViewerChange.emit(this.showViewer)}cleanup(){this.urlFileContent="",this.displayName="",this.fileNodeId=null,this.extension=null,this.mimeType=null}ngOnDestroy(){this.cleanup()}getFilenameFromUrl(e){let t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)}getFileExtension(e){return e.split(".").pop().toLowerCase()}isCustomViewerExtension(e){const t=this.externalExtensions||[];return!!(e&&t.length>0)&&(e=e.toLowerCase(),t.indexOf(e)>=0)}handleKeyboardEvent(e){27===e.keyCode&&this.overlayMode&&this.close()}downloadContent(){if(this.allowDownload&&this.downloadUrl&&this.fileName){const e=new r.BaseEvent;if(this.download.next(e),!e.defaultPrevented){const e=document.createElement("a");e.style.display="none",e.download=this.fileName,e.href=this.downloadUrl,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}}printContent(){if(this.allowPrint){const e=new r.BaseEvent;this.print.next(e)}}shareContent(){if(this.allowShare){const e=new r.BaseEvent;this.share.next(e)}}displayAsPdf(e){this.isLoading=!0,this.renditionService.getRendition(e,"pdf").subscribe(t=>{const n=t.entry.status.toString();"CREATED"===n?(this.isLoading=!1,this.showPdfRendition(e)):"NOT_CREATED"===n?this.renditionService.convert(e,"pdf").subscribe({complete:()=>{this.isLoading=!1,this.showPdfRendition(e)},error:e=>{this.isLoading=!1}}):this.isLoading=!1},e=>{this.isLoading=!1})}showPdfRendition(e){e&&(this.viewerType="pdf",this.urlFileContent=this.renditionService.getRenditionUrl(e,"pdf"))}};i.a([Object(o.ContentChild)(c.a)],d.prototype,"toolbar",void 0),i.a([Object(o.ContentChild)(l.a)],d.prototype,"sidebar",void 0),i.a([Object(o.ContentChild)(s.ViewerOpenWithComponent)],d.prototype,"mnuOpenWith",void 0),i.a([Object(o.ContentChild)(a.a)],d.prototype,"mnuMoreActions",void 0),i.a([Object(o.Input)()],d.prototype,"urlFile",void 0),i.a([Object(o.Input)()],d.prototype,"blobFile",void 0),i.a([Object(o.Input)()],d.prototype,"fileNodeId",void 0),i.a([Object(o.Input)()],d.prototype,"overlayMode",void 0),i.a([Object(o.Input)()],d.prototype,"showViewer",void 0),i.a([Object(o.Input)()],d.prototype,"showToolbar",void 0),i.a([Object(o.Input)()],d.prototype,"displayName",void 0),i.a([Object(o.Input)()],d.prototype,"allowGoBack",void 0),i.a([Object(o.Input)()],d.prototype,"allowDownload",void 0),i.a([Object(o.Input)()],d.prototype,"allowPrint",void 0),i.a([Object(o.Input)()],d.prototype,"allowShare",void 0),i.a([Object(o.Input)()],d.prototype,"allowSidebar",void 0),i.a([Object(o.Input)()],d.prototype,"showSidebar",void 0),i.a([Object(o.Input)()],d.prototype,"sidebarPosition",void 0),i.a([Object(o.Output)()],d.prototype,"goBack",void 0),i.a([Object(o.Output)()],d.prototype,"download",void 0),i.a([Object(o.Output)()],d.prototype,"print",void 0),i.a([Object(o.Output)()],d.prototype,"share",void 0),i.a([Object(o.Output)()],d.prototype,"showViewerChange",void 0),i.a([Object(o.Output)()],d.prototype,"extensionChange",void 0),i.a([Object(o.HostListener)("document:keydown",["$event"])],d.prototype,"handleKeyboardEvent",null),d=i.a([Object(o.Component)({selector:"adf-viewer",template:n(71),styles:[n(72)],host:{class:"adf-viewer"},encapsulation:o.ViewEncapsulation.None})],d)},function(e,t,n){"use strict";function i(){return[a.MatButtonModule,a.MatCardModule,a.MatDialogModule,a.MatIconModule,a.MatMenuModule,a.MatProgressBarModule,a.MatProgressSpinnerModule,a.MatTabsModule,a.MatTooltipModule,a.MatCheckboxModule,a.MatSlideToggleModule,a.MatInputModule,a.MatSelectModule,a.MatListModule,a.MatSidenavModule]}Object.defineProperty(t,"__esModule",{value:!0}),t.modules=i,n.d(t,"MaterialModule",function(){return s});var o=n(1),r=n(0),a=(n.n(r),n(4));n.n(a);let s=class{};s=o.a([Object(r.NgModule)({imports:i(),exports:i()})],s)},,function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{};r=i.a([Object(o.Component)({selector:"adf-viewer-more-actions",encapsulation:o.ViewEncapsulation.None,changeDetection:o.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-more-actions"},template:"<ng-content></ng-content>"})],r)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(){}return e=i([o.Component({selector:"adf-viewer-open-with",encapsulation:o.ViewEncapsulation.None,changeDetection:o.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-open-with"},template:"<ng-content></ng-content>"})],e)}();t.ViewerOpenWithComponent=r},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{};r=i.a([Object(o.Component)({selector:"adf-viewer-sidebar",encapsulation:o.ViewEncapsulation.None,changeDetection:o.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-sidebar"},template:"<ng-content></ng-content>"})],r)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{};r=i.a([Object(o.Component)({selector:"adf-viewer-toolbar",encapsulation:o.ViewEncapsulation.None,changeDetection:o.ChangeDetectionStrategy.OnPush,host:{class:"adf-viewer-toolbar"},template:"<ng-content></ng-content>"})],r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"LoginComponent",function(){return d});var i,o=n(1),r=n(0),a=(n.n(r),n(6)),s=(n.n(a),n(36)),l=n(37),c=(n.n(l),n(38));!function(e){e[e.Landing=0]="Landing",e[e.Checking=1]="Checking",e[e.Welcome=2]="Welcome"}(i||(i={}));let d=class{constructor(e,t,o,a,s,l,c,d){this._fb=e,this.authService=t,this.settingsService=o,this.translateService=a,this.logService=s,this.elementRef=l,this.router=c,this.userPreferences=d,this.isPasswordShow=!1,this.showRememberMe=!0,this.showLoginActions=!0,this.needHelpLink="",this.registerLink="",this.logoImageUrl=n(106),this.backgroundImageUrl=n(107),this.copyrightText="Â© 2016 Alfresco Software, Inc. All Rights Reserved.",this.successRoute=null,this.success=new r.EventEmitter,this.error=new r.EventEmitter,this.executeSubmit=new r.EventEmitter,this.isError=!1,this.actualLoginStep=i.Landing,this.LoginSteps=i,this.rememberMe=!0,this.minLength=2,this.initFormError(),this.initFormFieldsMessages()}ngOnInit(){this.hasCustomFiledsValidation()?this.form=this._fb.group(this.fieldsValidation):(this.initFormFieldsDefault(),this.initFormFieldsMessagesDefault()),this.form.valueChanges.subscribe(e=>this.onValueChanged(e))}onSubmit(e){if(!this.checkRequiredParams())return!1;this.settingsService.setProviders(this.providers),this.settingsService.csrfDisabled=this.disableCsrf,this.disableError();const t=new l.LoginSubmitEvent(this.form);if(this.executeSubmit.emit(t),t.defaultPrevented)return!1;this.performLogin(e)}onValueChanged(e){this.disableError();for(let t in this.formError)if(t){this.formError[t]="";if(this.form.controls[t].errors&&""!==e[t]||this.form.controls[t].dirty&&!this.form.controls[t].valid)for(let e in this.form.controls[t].errors)e&&(this.formError[t]+=this._message[t][e]+"")}}performLogin(e){this.actualLoginStep=i.Checking,this.authService.login(e.username,e.password,this.rememberMe).subscribe(t=>{const n=this.authService.getRedirectUrl();if(this.actualLoginStep=i.Welcome,this.userPreferences.setStoragePrefix(e.username),this.success.emit(new c.a(t,e.username,e.password)),n)return this.authService.setRedirectUrl(null),this.router.navigate([n]),!1;this.successRoute&&this.router.navigate([this.successRoute])},e=>{this.actualLoginStep=i.Landing,this.displayErrorMessage(e),this.enableError(),this.error.emit(new s.a(e))},()=>this.logService.info("Login done"))}displayErrorMessage(e){e.error&&e.error.crossDomain&&-1!==e.error.message.indexOf("Access-Control-Allow-Origin")?this.errorMsg=e.error.message:403!==e.status||-1===e.message.indexOf("Invalid CSRF-token")?403!==e.status||-1===e.message.indexOf("The system is currently in read-only mode")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CREDENTIALS":this.errorMsg="LOGIN.MESSAGES.LOGIN-ECM-LICENSE":this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CSRF"}checkRequiredParams(){if(void 0===this.providers||null===this.providers||""===this.providers){this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-PROVIDERS",this.enableError();let e;return e=this.translateService.get(this.errorMsg),this.error.emit(new s.a(e.value)),!1}return!0}addCustomFormError(e,t){this.formError[e]+=t}addCustomValidationError(e,t,n,i){i?this.translateService.get(n,i).subscribe(n=>{this._message[e][t]=n}):this._message[e][t]=n}toggleShowPassword(){this.isPasswordShow=!this.isPasswordShow,this.elementRef.nativeElement.querySelector("#password").type=this.isPasswordShow?"text":"password"}isErrorStyle(e){return!e.valid&&e.dirty&&!e.pristine}trimUsername(e){e.target.value=e.target.value.trim()}initFormError(){this.formError={username:"",password:""}}initFormFieldsMessages(){this._message={username:{},password:{}}}initFormFieldsMessagesDefault(){this._message={username:{required:"LOGIN.MESSAGES.USERNAME-REQUIRED"},password:{required:"LOGIN.MESSAGES.PASSWORD-REQUIRED"}},this.translateService.get("LOGIN.MESSAGES.USERNAME-MIN",{minLength:this.minLength}).subscribe(e=>{this._message.username.minlength=e})}initFormFieldsDefault(){this.form=this._fb.group({username:["",a.Validators.required],password:["",a.Validators.required]})}disableError(){this.isError=!1,this.initFormError()}enableError(){this.isError=!0}hasCustomFiledsValidation(){return void 0!==this.fieldsValidation}};o.a([Object(r.Input)()],d.prototype,"showRememberMe",void 0),o.a([Object(r.Input)()],d.prototype,"showLoginActions",void 0),o.a([Object(r.Input)()],d.prototype,"needHelpLink",void 0),o.a([Object(r.Input)()],d.prototype,"registerLink",void 0),o.a([Object(r.Input)()],d.prototype,"logoImageUrl",void 0),o.a([Object(r.Input)()],d.prototype,"backgroundImageUrl",void 0),o.a([Object(r.Input)()],d.prototype,"copyrightText",void 0),o.a([Object(r.Input)()],d.prototype,"providers",void 0),o.a([Object(r.Input)()],d.prototype,"fieldsValidation",void 0),o.a([Object(r.Input)()],d.prototype,"disableCsrf",void 0),o.a([Object(r.Input)()],d.prototype,"successRoute",void 0),o.a([Object(r.Output)()],d.prototype,"success",void 0),o.a([Object(r.Output)()],d.prototype,"error",void 0),o.a([Object(r.Output)()],d.prototype,"executeSubmit",void 0),d=o.a([Object(r.Component)({selector:"adf-login",template:n(108),styles:[n(109)],host:{"(blur)":"onBlur($event)"},encapsulation:r.ViewEncapsulation.None})],d)},function(e,t){e.exports=a},function(e,t,n){"use strict";class i{constructor(e,t){this.key=e,this.direction=t}}t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DataTableComponent",function(){return p});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(3)),s=(n.n(a),n(41)),l=(n.n(s),n(22)),c=n(40),d=n(42),u=n(43);n.n(u);let p=class{constructor(e,t){this.elementRef=e,this.rows=[],this.selectionMode="single",this.multiselect=!1,this.actions=!1,this.actionsPosition="right",this.contextMenu=!1,this.allowDropFiles=!1,this.rowStyleClass="",this.showHeader=!0,this.rowClick=new o.EventEmitter,this.rowDblClick=new o.EventEmitter,this.showRowContextMenu=new o.EventEmitter,this.showRowActionsMenu=new o.EventEmitter,this.executeRowAction=new o.EventEmitter,this.loading=!1,this.noPermission=!1,this.isSelectAllChecked=!1,this.selection=new Array,this.schema=[],this.rowMenuCache={},t&&(this.differ=t.find([]).create(null)),this.click$=new a.Observable(e=>this.clickObserver=e).share()}ngAfterContentInit(){this.setTableSchema()}ngOnChanges(e){this.initAndSubscribeClickStream(),this.isPropertyChanged(e.data)?this.isTableEmpty()?this.initTable():this.data=e.data.currentValue:this.isPropertyChanged(e.rows)?this.isTableEmpty()?this.initTable():this.setTableRows(e.rows.currentValue):e.selectionMode&&!e.selectionMode.isFirstChange()&&(this.resetSelection(),this.emitRowSelectionEvent("row-unselect",null))}ngDoCheck(){this.differ.diff(this.rows)&&this.setTableRows(this.rows)}isPropertyChanged(e){return!(!e||!e.currentValue)}convertToRowsData(e){return e.map(e=>new c.b(e))}initAndSubscribeClickStream(){this.unsubscribeClickStream();let e=this.click$.buffer(this.click$.debounceTime(250)).map(e=>e).filter(e=>1===e.length);this.singleClickStreamSub=e.subscribe(e=>{let t=e[0];this.rowClick.emit(t),t.defaultPrevented||this.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-click",{detail:t,bubbles:!0}))});let t=this.click$.buffer(this.click$.debounceTime(250)).map(e=>e).filter(e=>e.length>=2);this.multiClickStreamSub=t.subscribe(e=>{let t=e[0];this.rowDblClick.emit(t),t.defaultPrevented||this.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:t,bubbles:!0}))})}unsubscribeClickStream(){this.singleClickStreamSub&&this.singleClickStreamSub.unsubscribe(),this.multiClickStreamSub&&this.multiClickStreamSub.unsubscribe()}initTable(){this.data=new c.c(this.rows,this.schema),this.rowMenuCache={}}isTableEmpty(){return void 0===this.data||null===this.data}setTableRows(e){this.data&&this.data.setRows(this.convertToRowsData(e))}setTableSchema(){this.columnList&&this.columnList.columns&&(this.schema=this.columnList.columns.map(e=>e)),this.data&&this.schema&&this.schema.length>0&&this.data.setColumns(this.schema)}onRowClick(e,t){if(t&&t.preventDefault(),e){if(this.data&&(this.isSingleSelectionMode()&&(this.resetSelection(),this.selectRow(e,!0),this.emitRowSelectionEvent("row-select",e)),this.isMultiSelectionMode())){const n=t&&(t.metaKey||t.ctrlKey),i=!n||!e.isSelected,o=i?"row-select":"row-unselect";n||this.resetSelection(),this.selectRow(e,i),this.emitRowSelectionEvent(o,e)}const n=new s.DataRowEvent(e,t,this);this.clickObserver.next(n)}}resetSelection(){if(this.data){const e=this.data.getRows();e&&e.length>0&&e.forEach(e=>e.isSelected=!1),this.selection.splice(0)}this.isSelectAllChecked=!1}onRowDblClick(e,t){t&&t.preventDefault();let n=new s.DataRowEvent(e,t,this);this.clickObserver.next(n)}onRowKeyUp(e,t){const n=new CustomEvent("row-keyup",{detail:{row:e,keyboardEvent:t,sender:this},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n),n.defaultPrevented?t.preventDefault():"Enter"===t.key&&this.onKeyboardNavigate(e,t)}onKeyboardNavigate(e,t){t&&t.preventDefault();const n=new s.DataRowEvent(e,t,this);this.rowDblClick.emit(n),this.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:n,bubbles:!0}))}onColumnHeaderClick(e){if(e&&e.sortable){let t=this.data.getSorting(),n="asc";t&&e.key===t.key&&(n="asc"===t.direction?"desc":"asc"),this.data.setSorting(new l.a(e.key,n))}}onSelectAllClick(e){if(this.isSelectAllChecked=e.checked,this.multiselect){let t=this.data.getRows();if(t&&t.length>0)for(let n=0;n<t.length;n++)this.selectRow(t[n],e.checked);const n=e.checked?"row-select":"row-unselect",i=this.selection.length>0?this.selection[0]:null;this.emitRowSelectionEvent(n,i)}}onCheckboxChange(e,t){const n=t.checked;this.selectRow(e,n);const i=n?"row-select":"row-unselect";this.emitRowSelectionEvent(i,e)}onImageLoadingError(e){if(e&&this.fallbackThumbnail){e.target.src=this.fallbackThumbnail}}isIconValue(e,t){if(e&&t){let n=e.getValue(t.key);return n&&n.startsWith("material-icons://")}return!1}asIconValue(e,t){if(this.isIconValue(e,t)){return(e.getValue(t.key)||"").replace("material-icons://","")}return null}iconAltTextKey(e){return e?"ICONS."+e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,""):""}isColumnSorted(e,t){if(e&&t){let n=this.data.getSorting();return n&&n.key===e.key&&n.direction===t}return!1}getContextMenuActions(e,t){let n=new d.DataCellEvent(e,t,[]);return this.showRowContextMenu.emit(n),n.value.actions}getRowActions(e,t){const n=e.getValue("id");if(!this.rowMenuCache[n]){let i=new d.DataCellEvent(e,t,[]);this.showRowActionsMenu.emit(i),this.rowMenuCache[n]=i.value.actions}return this.rowMenuCache[n]}onExecuteRowAction(e,t){t.disabled||t.disabled?event.stopPropagation():this.executeRowAction.emit(new u.DataRowActionEvent(e,t))}rowAllowsDrop(e){return!0===e.isDropTarget}hasSelectionMode(){return this.isSingleSelectionMode()||this.isMultiSelectionMode()}isSingleSelectionMode(){return this.selectionMode&&"single"===this.selectionMode.toLowerCase()}isMultiSelectionMode(){return this.selectionMode&&"multiple"===this.selectionMode.toLowerCase()}getRowStyle(e){return e.cssClass=e.cssClass?e.cssClass:"",this.rowStyleClass=this.rowStyleClass?this.rowStyleClass:"",`${e.cssClass} ${this.rowStyleClass}`}selectRow(e,t){if(e){e.isSelected=t;const n=this.selection.indexOf(e);t?n<0&&this.selection.push(e):n>-1&&this.selection.splice(n,1)}}getCellTooltip(e,t){if(e&&t&&t.formatTooltip){const n=t.formatTooltip(e,t);if(n)return n}return null}emitRowSelectionEvent(e,t){const n=new CustomEvent(e,{detail:{row:t,selection:this.selection},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n)}};i.a([Object(o.ContentChild)(r.DataColumnListComponent)],p.prototype,"columnList",void 0),i.a([Object(o.Input)()],p.prototype,"data",void 0),i.a([Object(o.Input)()],p.prototype,"rows",void 0),i.a([Object(o.Input)()],p.prototype,"selectionMode",void 0),i.a([Object(o.Input)()],p.prototype,"multiselect",void 0),i.a([Object(o.Input)()],p.prototype,"actions",void 0),i.a([Object(o.Input)()],p.prototype,"actionsPosition",void 0),i.a([Object(o.Input)()],p.prototype,"fallbackThumbnail",void 0),i.a([Object(o.Input)()],p.prototype,"contextMenu",void 0),i.a([Object(o.Input)()],p.prototype,"allowDropFiles",void 0),i.a([Object(o.Input)()],p.prototype,"rowStyle",void 0),i.a([Object(o.Input)()],p.prototype,"rowStyleClass",void 0),i.a([Object(o.Input)()],p.prototype,"showHeader",void 0),i.a([Object(o.Output)()],p.prototype,"rowClick",void 0),i.a([Object(o.Output)()],p.prototype,"rowDblClick",void 0),i.a([Object(o.Output)()],p.prototype,"showRowContextMenu",void 0),i.a([Object(o.Output)()],p.prototype,"showRowActionsMenu",void 0),i.a([Object(o.Output)()],p.prototype,"executeRowAction",void 0),i.a([Object(o.Input)()],p.prototype,"loading",void 0),i.a([Object(o.Input)()],p.prototype,"noPermission",void 0),p=i.a([Object(o.Component)({selector:"adf-datatable",styles:[n(118)],template:n(120),encapsulation:o.ViewEncapsulation.None})],p)},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.contentService=e}ngOnChanges(e){let t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")}};i.a([Object(o.Input)()],r.prototype,"urlFile",void 0),i.a([Object(o.Input)()],r.prototype,"blobFile",void 0),i.a([Object(o.Input)()],r.prototype,"nameFile",void 0),r=i.a([Object(o.Component)({selector:"adf-img-viewer",template:n(74),styles:[n(75)],host:{class:"adf-img-viewer"},encapsulation:o.ViewEncapsulation.None})],r)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=function(){function e(e){this.contentService=e}return e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},i([r.Input(),o("design:type",String)],e.prototype,"urlFile",void 0),i([r.Input(),o("design:type",Object)],e.prototype,"blobFile",void 0),i([r.Input(),o("design:type",String)],e.prototype,"mimeType",void 0),i([r.Input(),o("design:type",String)],e.prototype,"nameFile",void 0),e=i([r.Component({selector:"adf-media-player",template:n(77),styles:[n(78)],host:{class:"adf-media-player"},encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",["function"==typeof(t=void 0!==a.ContentService&&a.ContentService)&&t||Object])],e);var t}();t.MediaPlayerComponent=s},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(28));n.n(r);let a=class{constructor(e,t){this.renderingQueueServices=e,this.logService=t,this.showToolbar=!0,this.allowThumbnails=!1,this.currentScaleMode="auto",this.MAX_AUTO_SCALE=1.25,this.DEFAULT_SCALE_DELTA=1.1,this.MIN_SCALE=.25,this.MAX_SCALE=10,this.onDocumentScroll=this.onDocumentScroll.bind(this)}ngOnChanges(e){if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required");return this.urlFile?new Promise((e,t)=>{this.executePdf(this.urlFile,e,t)}):new Promise((e,t)=>{let n=new FileReader;n.onload=(()=>{this.executePdf(n.result,e,t)}),n.readAsArrayBuffer(this.blobFile)})}executePdf(e,t,n){let i=this.getPDFJS().getDocument(e);i.onProgress=(e=>{let t=e.loaded/e.total;this.loadingPercent=Math.round(100*t)}),i.then(e=>{this.currentPdfDocument=e,this.totalPages=e.numPages,this.page=1,this.displayPage=1,this.initPDFViewer(this.currentPdfDocument),this.currentPdfDocument.getPage(1).then(()=>{this.scalePage("auto"),t()},e=>{n(e)})},e=>{n(e)})}getPDFJS(){return PDFJS}initPDFViewer(e){PDFJS.verbosity=1,PDFJS.disableWorker=!1;let t=document.getElementById("viewer-pdf-container"),n=document.getElementById("viewer-viewerPdf");window.document.addEventListener("scroll",this.onDocumentScroll,!0),this.pdfViewer=new PDFJS.PDFViewer({container:t,viewer:n,renderingQueue:this.renderingQueueServices}),this.renderingQueueServices.setViewer(this.pdfViewer),this.pdfViewer.setDocument(e)}ngOnDestroy(){window.document.removeEventListener("scroll",this.onDocumentScroll,!0)}scalePage(e){if(this.currentScaleMode=e,this.pdfViewer){let t,n,i=document.getElementById("viewer-main-container"),o=document.getElementById("viewer-pdf-container");i&&i.clientWidth<=o.clientWidth?(t=i.clientWidth,n=i.clientHeight):(t=o.clientWidth,n=o.clientHeight);let r,a=this.pdfViewer._pages[this.pdfViewer._currentPageNumber-1],s=(t-20)/a.width*a.scale,l=(n-20)/a.width*a.scale;switch(this.currentScaleMode){case"page-actual":r=1;break;case"page-width":r=s;break;case"page-height":r=l;break;case"page-fit":r=Math.min(s,l);break;case"auto":let t;t=this.isLandscape?Math.min(l,s):s,r=Math.min(this.MAX_AUTO_SCALE,t);break;default:return void this.logService.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.")}this.setScaleUpdatePages(r)}}setScaleUpdatePages(e){this.isSameScale(this.currentScale,e)||(this.currentScale=e,this.pdfViewer._pages.forEach(function(t){t.update(e)}),this.pdfViewer.update())}isSameScale(e,t){return t===e}isLandscape(e,t){return e>t}onResize(){this.scalePage(this.currentScaleMode)}pageFit(){"page-fit"!==this.currentScaleMode?this.scalePage("page-fit"):this.scalePage("auto")}zoomIn(e){let t=this.currentScale;do{t=(t*this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(this.MAX_SCALE,t)}while(--e>0&&t<this.MAX_SCALE);this.currentScaleMode="auto",this.setScaleUpdatePages(t)}zoomOut(e){let t=this.currentScale;do{t=(t/this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(this.MIN_SCALE,t)}while(--e>0&&t>this.MIN_SCALE);this.currentScaleMode="auto",this.setScaleUpdatePages(t)}previousPage(){this.pdfViewer&&this.page>1&&(this.page--,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)}nextPage(){this.pdfViewer&&this.page<this.totalPages&&(this.page++,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)}inputPage(e){let t=parseInt(e,10);!isNaN(t)&&t>0&&t<=this.totalPages?(this.page=t,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page):this.displayPage=this.page}watchScroll(e){let t=this.getVisibleElement(e);t&&(this.page=t.id,this.displayPage=this.page)}getVisibleElement(e){return this.pdfViewer._pages.find(t=>this.isOnScreen(t,e))}isOnScreen(e,t){let n={};n.top=t.scrollTop,n.bottom=n.top+t.scrollHeight;let i={};return i.top=e.div.offsetTop,i.bottom=i.top+e.viewport.height,i.top<=n.bottom&&i.bottom>=n.top}handleKeyboardEvent(e){let t=e.keyCode;39===t?this.nextPage():37===t&&this.previousPage()}onDocumentScroll(e){e&&e.target&&this.watchScroll(e.target)}};i.a([Object(o.Input)()],a.prototype,"urlFile",void 0),i.a([Object(o.Input)()],a.prototype,"blobFile",void 0),i.a([Object(o.Input)()],a.prototype,"nameFile",void 0),i.a([Object(o.Input)()],a.prototype,"showToolbar",void 0),i.a([Object(o.Input)()],a.prototype,"allowThumbnails",void 0),i.a([Object(o.HostListener)("document:keydown",["$event"])],a.prototype,"handleKeyboardEvent",null),a=i.a([Object(o.Component)({selector:"adf-pdf-viewer",template:n(80),styles:[n(81),n(83)],providers:[r.RenderingQueueServices],host:{class:"adf-pdf-viewer"},encapsulation:o.ViewEncapsulation.None})],a)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(){this.renderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},this.CLEANUP_TIMEOUT=3e4,this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return e.prototype.setViewer=function(e){this.pdfViewer=e},e.prototype.setThumbnailViewer=function(e){this.pdfThumbnailViewer=e},e.prototype.isHighestPriority=function(e){return this.highestPriorityPage===e.renderingId},e.prototype.renderHighestPriority=function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),this.CLEANUP_TIMEOUT))},e.prototype.getHighestPriority=function(e,t,n){var i=e.views,o=i.length;if(0===o)return!1;for(var r=0;r<o;++r){var a=i[r].view;if(!this.isViewFinished(a))return a}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}return null},e.prototype.isViewFinished=function(e){return e.renderingState===this.renderingStates.FINISHED},e.prototype.renderView=function(e){switch(e.renderingState){case this.renderingStates.FINISHED:return!1;case this.renderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case this.renderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case this.renderingStates.INITIAL:this.highestPriorityPage=e.renderingId;var t=function(){this.renderHighestPriority()}.bind(this);e.draw().then(t,t)}return!0},e=i([o.Injectable()],e)}();t.RenderingQueueServices=r},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(85));n.n(r);let a=class{constructor(e){this.http=e}ngOnChanges(e){let t=e.blobFile;if(t&&t.currentValue)return this.readBlob(t.currentValue);let n=e.urlFile;if(n&&n.currentValue)return this.getUrlContent(n.currentValue);if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")}getUrlContent(e){return new Promise((t,n)=>{this.http.get(e,{responseType:"text"}).subscribe(e=>{this.content=e,t()},e=>{n(e)})})}readBlob(e){return new Promise((t,n)=>{let i=new FileReader;i.onload=(()=>{this.content=i.result,t()}),i.onerror=(e=>{n(e)}),i.readAsText(e)})}};i.a([Object(o.Input)()],a.prototype,"urlFile",void 0),i.a([Object(o.Input)()],a.prototype,"blobFile",void 0),a=i.a([Object(o.Component)({selector:"adf-txt-viewer",template:n(86),styles:[n(87)],host:{class:"adf-txt-viewer"},encapsulation:o.ViewEncapsulation.None})],a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{};r=i.a([Object(o.Component)({selector:"adf-viewer-unknown-format",template:n(89),styles:[n(90)]})],r)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(12),s=function(){function e(e){this.viewerComponent=e}return e.prototype.ngAfterContentInit=function(){var e=this;this.templateModel={template:this.template,isVisible:!1},this.viewerComponent.extensionTemplates.push(this.templateModel),this.viewerComponent.extensionChange.subscribe(function(t){e.templateModel.isVisible=e.isVisible(t)}),this.supportedExtensions instanceof Array&&this.supportedExtensions.forEach(function(t){e.viewerComponent.externalExtensions.push(t)})},e.prototype.isVisible=function(e){var t;return this.supportedExtensions&&this.supportedExtensions instanceof Array&&(t=this.supportedExtensions.find(function(t){return t.toLowerCase()===e})),!!t},i([r.ContentChild(r.TemplateRef),o("design:type",Object)],e.prototype,"template",void 0),i([r.Input(),o("design:type",String)],e.prototype,"urlFileContent",void 0),i([r.Input(),o("design:type",String)],e.prototype,"extension",void 0),i([r.Input(),o("design:type",Array)],e.prototype,"supportedExtensions",void 0),e=i([r.Directive({selector:"adf-viewer-extension"}),o("design:paramtypes",["function"==typeof(t=void 0!==a.ViewerComponent&&a.ViewerComponent)&&t||Object])],e);var t}();t.ViewerExtensionDirective=s},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(1),o=n(0),r=(n.n(o),n(95)),a=n(96);let s=class{constructor(e,t,i){this.ecmUserService=e,this.bpmUserService=t,this.authService=i,this.ecmBackgroundImage=n(97),this.bpmBackgroundImage=n(98),this.menuPositionX="after",this.menuPositionY="below",this.showName=!0,this.namePosition="right",this.anonymousImageUrl=n(99)}ngOnInit(){this.getUserInfo()}getUserInfo(){this.loadEcmUserInfo(),this.loadBpmUserInfo()}isLoggedIn(){return this.authService.isLoggedIn()}loadEcmUserInfo(){this.authService.isEcmLoggedIn()?this.ecmUserService.getCurrentUserInfo().subscribe(e=>{this.ecmUser=new a.a(e),this.getEcmAvatar()}):(this.ecmUser=null,this.ecmUserImage=null)}loadBpmUserInfo(){this.authService.isBpmLoggedIn()?(this.bpmUserService.getCurrentUserInfo().subscribe(e=>{this.bpmUser=new r.a(e)}),this.bpmUserImage=this.bpmUserService.getCurrentUserProfileImage()):(this.bpmUser=null,this.bpmUserImage=null)}stopClosing(e){e.stopPropagation()}getEcmAvatar(){this.ecmUserImage=this.ecmUserService.getUserProfileImage(this.ecmUser.avatarId)}showOnRight(){return"right"===this.namePosition}};i.a([Object(o.Input)()],s.prototype,"ecmBackgroundImage",void 0),i.a([Object(o.Input)()],s.prototype,"bpmBackgroundImage",void 0),i.a([Object(o.Input)()],s.prototype,"menuPositionX",void 0),i.a([Object(o.Input)()],s.prototype,"menuPositionY",void 0),i.a([Object(o.Input)()],s.prototype,"showName",void 0),i.a([Object(o.Input)()],s.prototype,"namePosition",void 0),s=i.a([Object(o.Component)({selector:"adf-userinfo, ng2-alfresco-userinfo",styles:[n(100)],template:n(102),encapsulation:o.ViewEncapsulation.None})],s)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(3));n.n(r);let a=class{constructor(e,t){this.apiService=e,this.logService=t}getCurrentUserInfo(){return r.Observable.fromPromise(this.apiService.getInstance().activiti.profileApi.getProfile()).map(e=>e).catch(e=>this.handleError(e))}getCurrentUserProfileImage(){return this.apiService.getInstance().activiti.profileApi.getProfilePictureUrl()}handleError(e){return this.logService.error(e),r.Observable.throw(e||"Server error")}};a=i.a([Object(o.Injectable)()],a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(3));n.n(r);let a=class{constructor(e,t,n){this.apiService=e,this.contentService=t,this.logService=n}getUserInfo(e){return r.Observable.fromPromise(this.apiService.getInstance().core.peopleApi.getPerson(e)).map(e=>e.entry).catch(e=>this.handleError(e))}getCurrentUserInfo(){return this.getUserInfo("-me-")}getUserProfileImage(e){if(e){let t={entry:{id:e}};return this.contentService.getContentUrl(t)}}handleError(e){return this.logService.error(e),r.Observable.throw(e||"Server error")}};a=i.a([Object(o.Injectable)()],a)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(20),s=function(){function e(e){this.alfrescoLoginComponent=e}return e.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.headerTemplate=this.template},i([r.ContentChild(r.TemplateRef),o("design:type",Object)],e.prototype,"template",void 0),e=i([r.Directive({selector:"login-header"}),o("design:paramtypes",["function"==typeof(t=void 0!==a.LoginComponent&&a.LoginComponent)&&t||Object])],e);var t}();t.LoginHeaderDirective=s},function(e,t,n){"use strict";class i{constructor(e){this.err=e}}t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._defaultPrevented=!1,this._values=e}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}();t.LoginSubmitEvent=i},function(e,t,n){"use strict";class i{constructor(e,t,n){this.token=e,this.username=t,this.password=n}}t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.alfrescoLoginComponent=e}ngAfterContentInit(){this.alfrescoLoginComponent.footerTemplate=this.template}};i.a([Object(o.ContentChild)(o.TemplateRef)],r.prototype,"template",void 0),r=i.a([Object(o.Directive)({selector:"login-footer"})],r)},function(e,t,n){"use strict";var i=n(9),o=(n.n(i),n(2)),r=(n.n(o),n(22));class a{static generateSchema(e){let t=[];if(e&&e.length){let n=e[0];if("object"==typeof n)for(let e in n)n.hasOwnProperty(e)&&t.push({type:"text",key:e,title:e,sortable:!1})}return t}constructor(e=[],t=[]){if(this._rows=[],this._columns=[],e&&e.length>0&&(this._rows=e.map(e=>new s(e))),t&&t.length>0){this._columns=t.map(e=>new l(e));let e=this._columns.filter(e=>e.sortable);e.length>0&&this.sort(e[0].key,"asc")}}getRows(){return this._rows}setRows(e){this._rows=e||[],this.sort()}getColumns(){return this._columns}setColumns(e){this._columns=e||[]}getValue(e,t){if(!e)throw new Error("Row not found");if(!t)throw new Error("Column not found");let n=e.getValue(t.key);if("date"===t.type)try{return this.formatDate(t,n)}catch(e){console.error(`Error parsing date ${n} to format ${t.format}`)}if("icon"===t.type){return e.getValue(t.key)}return n}formatDate(e,t){if("date"===e.type){const n=e.format||"medium";if("timeAgo"===n){return(new o.TimeAgoPipe).transform(t)}return new i.DatePipe("en-US").transform(t,n)}return t}getSorting(){return this._sorting}setSorting(e){this._sorting=e,e&&e.key&&this._rows.sort((t,n)=>{let i=t.getValue(e.key);i=i?i instanceof Date?i.valueOf().toString():i.toString():"";let o=n.getValue(e.key);return o=o?o instanceof Date?o.valueOf().toString():o.toString():"","asc"===e.direction?i.localeCompare(o):o.localeCompare(i)})}sort(e,t){let n=this._sorting||new r.a;e&&(n.key=e,n.direction=t||"asc"),this.setSorting(n)}}t.c=a;class s{constructor(e,t=!1){if(this.obj=e,this.isSelected=t,!e)throw new Error("Object source not found")}getValue(e){return o.ObjectUtils.getValue(this.obj,e)}hasValue(e){return void 0!==this.getValue(e)}}t.b=s;class l{constructor(e){this.key=e.key,this.type=e.type||"text",this.format=e.format,this.sortable=e.sortable,this.title=e.title,this.srTitle=e.srTitle,this.cssClass=e.cssClass,this.template=e.template}}t.a=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,i){var o=e.call(this)||this;return o.value=t,o.event=n,o.sender=i,o}return i(t,e),t}(n(2).BaseUIEvent);t.DataRowEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);n.n(i);class o extends i.BaseEvent{constructor(e,t,n){super(),this.value=new r(e,t,n)}}t.DataCellEvent=o;class r{constructor(e,t,n){this.row=e,this.col=t,this.actions=n||[]}}t.DataCellEventModel=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var i=e.call(this)||this;return i.value=new r(t,n),i}return i(t,e),Object.defineProperty(t.prototype,"args",{get:function(){return this.value},enumerable:!0,configurable:!0}),t}(n(2).BaseEvent);t.DataRowActionEvent=o;var r=function(){return function(e,t){this.row=e,this.action=t}}();t.DataRowActionModel=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DateCellComponent",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(10));let a=class extends r.DataTableCellComponent{};a=i.a([Object(o.Component)({selector:"adf-date-cell",changeDetection:o.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span [title]="tooltip">{{value}}</span>\n        </ng-container>\n    ',encapsulation:o.ViewEncapsulation.None,host:{class:"adf-date-cell"}})],a)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(){}return e=i([o.Component({selector:"adf-empty-list",styles:[n(121)],template:n(123),encapsulation:o.ViewEncapsulation.None})],e)}();t.EmptyListComponent=r;var a=function(){function e(){}return e=i([o.Directive({selector:"[adf-empty-list-header]"})],e)}();t.EmptyListHeaderDirective=a;var s=function(){function e(){}return e=i([o.Directive({selector:"[adf-empty-list-body]"})],e)}();t.EmptyListBodyDirective=s;var l=function(){function e(){}return e=i([o.Directive({selector:"[adf-empty-list-footer]"})],e)}();t.EmptyListFooterDirective=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FileSizeCellComponent",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(10));let a=class extends r.DataTableCellComponent{};a=i.a([Object(o.Component)({selector:"adf-filesize-cell",changeDetection:o.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span [title]="tooltip">{{ value | adfFileSize }}</span>\n        </ng-container>\n    ',encapsulation:o.ViewEncapsulation.None,host:{class:"adf-filesize-cell"}})],a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"LocationCellComponent",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(10));let a=class extends r.DataTableCellComponent{constructor(){super(...arguments),this.displayText=""}ngOnInit(){if(!this.value&&this.column&&this.column.key&&this.row&&this.data){const e=this.data.getValue(this.row,this.column);if(e&&e.name&&e.elements){this.value=e,this.displayText=e.name.split("/").pop(),this.tooltip||(this.tooltip=e.name);const t=e.elements[e.elements.length-1];this.link=[this.column.format,t.id]}}}};i.a([Object(o.Input)()],a.prototype,"link",void 0),i.a([Object(o.Input)()],a.prototype,"displayText",void 0),a=i.a([Object(o.Component)({selector:"adf-location-cell",changeDetection:o.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <a href="" [title]="tooltip" [routerLink]="link">\n                {{ displayText }}\n            </a>\n        </ng-container>\n    ',encapsulation:o.ViewEncapsulation.None,host:{class:"adf-location-cell"}})],a)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(23),s=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.loadingTemplate=this.template)},i([r.ContentChild(r.TemplateRef),o("design:type",Object)],e.prototype,"template",void 0),e=i([r.Directive({selector:"loading-content-template"}),o("design:paramtypes",["function"==typeof(t=void 0!==a.DataTableComponent&&a.DataTableComponent)&&t||Object])],e);var t}();t.LoadingContentTemplateDirective=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"NoContentTemplateDirective",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.dataTable=e}ngAfterContentInit(){this.dataTable&&(this.dataTable.noContentTemplate=this.template)}};i.a([Object(o.ContentChild)(o.TemplateRef)],r.prototype,"template",void 0),r=i.a([Object(o.Directive)({selector:"no-content-template"})],r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"NoPermissionTemplateDirective",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.dataTable=e}ngAfterContentInit(){this.dataTable&&(this.dataTable.noPermissionTemplate=this.template)}};i.a([Object(o.ContentChild)(o.TemplateRef)],r.prototype,"template",void 0),r=i.a([Object(o.Directive)({selector:"no-permission-template"})],r)},,,,,,,function(e,t,n){"use strict";function i(){return[a.MatButtonModule,a.MatChipsModule,a.MatDialogModule,a.MatIconModule,a.MatInputModule,a.MatListModule,a.MatProgressSpinnerModule,a.MatRippleModule,a.MatMenuModule,a.MatOptionModule,a.MatSelectModule]}Object.defineProperty(t,"__esModule",{value:!0}),t.modules=i,n.d(t,"MaterialModule",function(){return s});var o=n(1),r=n(0),a=(n.n(r),n(4));n.n(a);let s=class{};s=o.a([Object(r.NgModule)({imports:i(),exports:i()})],s)},function(e,t){e.exports=s},function(e,t){e.exports=l},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(70);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12);n.d(t,"ViewerComponent",function(){return i.ViewerComponent});var o=n(25);n.d(t,"ImgViewerComponent",function(){return o.a});var r=n(26);n.n(r);for(var a in r)["ViewerComponent","ImgViewerComponent","default"].indexOf(a)<0&&function(e){n.d(t,e,function(){return r[e]})}(a);var s=n(27);n.d(t,"PdfViewerComponent",function(){return s.a});var l=n(29);n.d(t,"TxtViewerComponent",function(){return l.a});var c=n(30);n.d(t,"UnknownFormatComponent",function(){return c.a});var d=n(16);n.d(t,"ViewerMoreActionsComponent",function(){return d.a});var u=n(17);n.n(u);for(var a in u)["ViewerComponent","ImgViewerComponent","PdfViewerComponent","TxtViewerComponent","UnknownFormatComponent","ViewerMoreActionsComponent","default"].indexOf(a)<0&&function(e){n.d(t,e,function(){return u[e]})}(a);var p=n(18);n.d(t,"ViewerSidebarComponent",function(){return p.a});var h=n(19);n.d(t,"ViewerToolbarComponent",function(){return h.a});var f=n(31);n.n(f);for(var a in f)["ViewerComponent","ImgViewerComponent","PdfViewerComponent","TxtViewerComponent","UnknownFormatComponent","ViewerMoreActionsComponent","ViewerSidebarComponent","ViewerToolbarComponent","default"].indexOf(a)<0&&function(e){n.d(t,e,function(){return f[e]})}(a);var m=n(92);n.d(t,"declarations",function(){return m.b}),n.d(t,"ViewerModule",function(){return m.a})},function(e,t){e.exports='<div *ngIf="showViewer"\n    class="adf-viewer-container"\n    [class.adf-viewer-overlay-container]="overlayMode"\n    [class.adf-viewer-inline-container]="!overlayMode">\n\n    <div class="adf-viewer-content">\n        <ng-content select="adf-viewer-toolbar"></ng-content>\n        <ng-container *ngIf="showToolbar && !toolbar">\n            <adf-toolbar color="default" class="adf-viewer-toolbar">\n\n                <adf-toolbar-title>\n                    <button *ngIf="allowGoBack"\n                        class="adf-viewer-close-button"\n                        data-automation-id="toolbar-back"\n                        mat-icon-button\n                        matTooltip="{{ \'ADF_VIEWER.ACTIONS.BACK\' | translate }}"\n                        (click)="onBackButtonClick()">\n                        <mat-icon>arrow_back</mat-icon>\n                    </button>\n                    <img class="adf-viewer__mimeicon" [src]="mimeType | adfMimeTypeIcon">\n                    <span id="adf-viewer-display-name">{{ displayName }}</span>\n                </adf-toolbar-title>\n\n                <ng-container *ngIf="mnuOpenWith">\n                    <button\n                        mat-button\n                        [matMenuTriggerFor]="mnuOpenWith"\n                        data-automation-id="toolbar-open-with">\n                        <span>{{ \'ADF_VIEWER.ACTIONS.OPEN_WITH\' | translate }}</span>\n                        <mat-icon>arrow_drop_down</mat-icon>\n                    </button>\n                    <mat-menu #mnuOpenWith="matMenu" [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-open-with"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n                <adf-toolbar-divider></adf-toolbar-divider>\n\n                <button\n                    *ngIf="allowDownload"\n                    mat-icon-button\n                    matTooltip="{{ \'ADF_VIEWER.ACTIONS.DOWNLOAD\' | translate }}"\n                    data-automation-id="toolbar-download"\n                    (click)="downloadContent()">\n                    <mat-icon>file_download</mat-icon>\n                </button>\n\n                <button\n                    *ngIf="allowPrint"\n                    mat-icon-button\n                    matTooltip="{{ \'ADF_VIEWER.ACTIONS.PRINT\' | translate }}"\n                    data-automation-id="toolbar-print"\n                    (click)="printContent()">\n                    <mat-icon>print</mat-icon>\n                </button>\n\n                <button\n                    *ngIf="allowShare"\n                    mat-icon-button\n                    matTooltip="{{ \'ADF_VIEWER.ACTIONS.SHARE\' | translate }}"\n                    data-automation-id="toolbar-share"\n                    (click)="shareContent()">\n                    <mat-icon>share</mat-icon>\n                </button>\n\n                <ng-container *ngIf="mnuMoreActions">\n                    <button\n                        mat-icon-button\n                        [matMenuTriggerFor]="mnuMoreActions"\n                        matTooltip="{{ \'ADF_VIEWER.ACTIONS.MORE_ACTIONS\' | translate }}"\n                        data-automation-id="toolbar-more-actions">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #mnuMoreActions="matMenu" [overlapTrigger]="false">\n                        <ng-content select="adf-viewer-more-actions"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n                <ng-container *ngIf="allowSidebar">\n                    <adf-toolbar-divider></adf-toolbar-divider>\n\n                    <button\n                        mat-icon-button\n                        matTooltip="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                        data-automation-id="toolbar-sidebar"\n                        [color]="showSidebar ? \'accent\' : \'default\'"\n                        (click)="showSidebar = !showSidebar">\n                        <mat-icon>info_outline</mat-icon>\n                    </button>\n                </ng-container>\n\n            </adf-toolbar>\n        </ng-container>\n\n        <ng-container *ngIf="isLoading">\n            <div class="adf-viewer__loading-screen">\n                <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                <div>\n                    <mat-spinner></mat-spinner>\n                </div>\n            </div>\n        </ng-container>\n\n        <div *ngIf="!isLoading" class="adf-viewer-layout">\n\n            <ng-container *ngIf="showSidebar && sidebarPosition === \'left\'">\n                <div class="adf-viewer__sidebar adf-viewer__sidebar-left">\n                    <ng-content select="adf-viewer-sidebar"></ng-content>\n                    <ng-container *ngIf="!sidebar">\n                        \x3c!-- todo: default info drawer --\x3e\n                    </ng-container>\n                </div>\n            </ng-container>\n\n            <div class="adf-viewer-layout-content">\n                <div class="adf-viewer-content-container" [ngSwitch]="viewerType">\n\n                    <ng-container *ngSwitchCase="\'pdf\'">\n                        <adf-pdf-viewer [blobFile]="blobFile" [urlFile]="urlFileContent" [nameFile]="displayName"></adf-pdf-viewer>\n                    </ng-container>\n\n                    <ng-container *ngSwitchCase="\'image\'">\n                        <adf-img-viewer [urlFile]="urlFileContent" [nameFile]="displayName" [blobFile]="blobFile"></adf-img-viewer>\n                    </ng-container>\n\n                    <ng-container *ngSwitchCase="\'media\'">\n                        <adf-media-player [urlFile]="urlFileContent" [mimeType]="mimeType" [blobFile]="blobFile" [nameFile]="displayName"></adf-media-player>\n                    </ng-container>\n\n                    <ng-container *ngSwitchCase="\'text\'">\n                        <adf-txt-viewer [urlFile]="urlFileContent" [blobFile]="blobFile"></adf-txt-viewer>\n                    </ng-container>\n\n                    <ng-container *ngSwitchCase="\'custom\'">\n                        <span *ngFor="let extensionTemplate of extensionTemplates">\n                            <ng-template\n                                *ngIf="extensionTemplate.isVisible"\n                                [ngTemplateOutlet]="extensionTemplate.template"\n                                [ngTemplateOutletContext]="{ urlFileContent: urlFileContent, extension:extension }">\n                            </ng-template>\n                        </span>\n                    </ng-container>\n\n                    <ng-container *ngSwitchDefault>\n                        <adf-viewer-unknown-format></adf-viewer-unknown-format>\n                    </ng-container>\n\n                </div>\n            </div>\n\n            <ng-container *ngIf="showSidebar && sidebarPosition !== \'left\'">\n                <div class="adf-viewer__sidebar adf-viewer__sidebar-right">\n                    <ng-content select="adf-viewer-sidebar"></ng-content>\n                    <ng-container *ngIf="!sidebar">\n                        \x3c!-- todo: default info drawer --\x3e\n                    </ng-container>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){var i=n(73);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-viewer__mimeicon {\n  vertical-align: middle; }\n\n.adf-viewer-container .adf-viewer-layout-content {\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5;\n  position: relative;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  flex: 1; }\n  .adf-viewer-container .adf-viewer-layout-content > div {\n    display: flex;\n    flex-flow: row wrap;\n    margin: 0 auto;\n    align-items: stretch; }\n\n.adf-viewer-container .adf-viewer-layout {\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5;\n  display: flex;\n  flex-direction: row;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative; }\n\n.adf-viewer-container .adf-viewer-content {\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5;\n  flex: 1; }\n\n.adf-viewer-overlay-container .adf-viewer-content {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  z-index: 1000; }\n\n.adf-viewer-inline-container {\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5; }\n\n.adf-viewer-content-container {\n  display: flex;\n  justify-content: center; }\n\n.adf-viewer-unknown-content {\n  align-items: center;\n  display: flex; }\n\n.adf-viewer__loading-screen {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: 85vh; }\n  .adf-viewer__loading-screen .mat-spinner {\n    margin: 0 auto; }\n\n.adf-viewer__sidebar {\n  width: 350px;\n  display: block;\n  padding: 8px 0;\n  background-color: #fafafa;\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.27);\n  border-left: 1px solid rgba(0, 0, 0, 0.07); }\n"},function(e,t){e.exports='<div class="image-container">\n    <img id="viewer-image" [src]="urlFile" [alt]="nameFile" />\n</div>\n'},function(e,t,n){var i=n(76);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-img-viewer .image-container {\n  display: flex;\n  flex: 1;\n  text-align: center;\n  flex-direction: row;\n  justify-content: center;\n  height: 90vh; }\n  .adf-img-viewer .image-container img {\n    width: 100%;\n    object-fit: contain; }\n"},function(e,t){e.exports='<video controls>\n    <source [src]="urlFile" [type]="mimeType" />\n</video>\n'},function(e,t,n){var i=n(79);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-media-player video {\n  display: flex;\n  flex: 1;\n  max-height: 90vh; }\n"},function(e,t){e.exports='<div id="viewer-pdf-container" class="viewer-pdf-container" (window:resize)="onResize()">\n    <div id="viewer-viewerPdf" class="pdfViewer">\n        <div id="loader-container" class="loader-container">\n            <div class="loader-item">\n                <mat-progress-bar mode="indeterminate"></mat-progress-bar>\n            </div >\n        </div>\n    </div>\n</div>\n\n<div class="adf-pdf-viewer__toolbar" *ngIf="showToolbar">\n    <adf-toolbar>\n\n        <ng-container *ngIf="allowThumbnails">\n            <button mat-icon-button>\n                <mat-icon>dashboard</mat-icon>\n            </button>\n            <adf-toolbar-divider></adf-toolbar-divider>\n        </ng-container>\n\n        <button\n            id="viewer-previous-page-button"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="previousPage()">\n            <mat-icon>keyboard_arrow_up</mat-icon>\n        </button>\n\n        <button\n            id="viewer-next-page-button"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="nextPage()">\n            <mat-icon>keyboard_arrow_down</mat-icon>\n        </button>\n\n        <div>\n            {{ \'ADF_VIEWER.PAGE_LABEL.SHOWING\' | translate }}\n            <input #page\n                class="adf-pdf-viewer__toolbar-page-selector"\n                type="text"\n                pattern="-?[0-9]*(\\.[0-9]+)?"\n                value="{{ displayPage }}"\n                (keyup.enter)="inputPage(page.value)">\n            {{ \'ADF_VIEWER.PAGE_LABEL.OF\' | translate }} {{ totalPages }}\n        </div>\n\n        <adf-toolbar-divider></adf-toolbar-divider>\n\n        <button\n            id="viewer-zoom-in-button"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n            mat-icon-button\n            (click)="zoomIn()">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id="viewer-zoom-out-button"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n            mat-icon-button\n            (click)="zoomOut()">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <button\n            id="viewer-scale-page-button"\n            attr.aria-label="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n            mat-icon-button\n            (click)="pageFit()">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n\n    </adf-toolbar>\n</div>\n'},function(e,t,n){var i=n(82);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-pdf-viewer .loader-container {\n  display: -webkit-box;\n  /* OLD - iOS 6-, Safari 3.1-6 */\n  display: -moz-box;\n  /* OLD - Firefox 19- (buggy but mostly works) */\n  display: -webkit-flex;\n  /* NEW - Chrome */\n  display: flex;\n  /* NEW, Spec - Opera 12.1, Firefox 20+ */\n  -webkit-box-flex-direction: row;\n  -moz-box-flex-direction: row;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  height: 100%; }\n\n.adf-pdf-viewer .loader-item {\n  margin: auto;\n  max-height: 100px;\n  max-width: 300px; }\n\n.adf-pdf-viewer__toolbar {\n  position: absolute;\n  bottom: 60px;\n  left: 50%;\n  transform: translateX(-50%); }\n  .adf-pdf-viewer__toolbar-page-selector {\n    font-size: 16px;\n    padding: 4px 0;\n    text-align: right;\n    width: 33px;\n    margin-right: 4px;\n    height: 20px;\n    outline-width: 1px;\n    outline-color: gray; }\n"},function(e,t,n){var i=n(84);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-pdf-viewer .textLayer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.2;\n  line-height: 1.0;\n  border: 1px solid gray; }\n  .adf-pdf-viewer .textLayer > div {\n    color: transparent;\n    position: absolute;\n    white-space: pre;\n    cursor: text;\n    -webkit-transform-origin: 0% 0%;\n    -moz-transform-origin: 0% 0%;\n    -o-transform-origin: 0% 0%;\n    -ms-transform-origin: 0% 0%;\n    transform-origin: 0% 0%; }\n  .adf-pdf-viewer .textLayer .highlight {\n    margin: -1px;\n    padding: 1px;\n    background-color: #b400aa;\n    border-radius: 4px; }\n    .adf-pdf-viewer .textLayer .highlight.begin {\n      border-radius: 4px 0px 0px 4px; }\n    .adf-pdf-viewer .textLayer .highlight.end {\n      border-radius: 0px 4px 4px 0px; }\n    .adf-pdf-viewer .textLayer .highlight.middle {\n      border-radius: 0px; }\n    .adf-pdf-viewer .textLayer .highlight.selected {\n      background-color: darkgreen; }\n  .adf-pdf-viewer .textLayer::selection {\n    background: blue; }\n  .adf-pdf-viewer .textLayer::-moz-selection {\n    background: blue; }\n  .adf-pdf-viewer .textLayer .endOfContent {\n    display: block;\n    position: absolute;\n    left: 0px;\n    top: 100%;\n    right: 0px;\n    bottom: 0px;\n    z-index: -1;\n    cursor: default;\n    user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none; }\n    .adf-pdf-viewer .textLayer .endOfContent.active {\n      top: 0px; }\n\n.adf-pdf-viewer .annotationLayer section {\n  position: absolute; }\n\n.adf-pdf-viewer .annotationLayer .linkAnnotation > a {\n  position: absolute;\n  font-size: 1em;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\") 0 0 repeat; }\n  .adf-pdf-viewer .annotationLayer .linkAnnotation > a:hover {\n    opacity: 0.2;\n    background: #ff0;\n    box-shadow: 0px 2px 10px #ff0; }\n\n.adf-pdf-viewer .annotationLayer .textAnnotation img {\n  position: absolute;\n  cursor: pointer; }\n\n.adf-pdf-viewer .annotationLayer .popupWrapper {\n  position: absolute;\n  width: 20em; }\n\n.adf-pdf-viewer .annotationLayer .popup {\n  position: absolute;\n  z-index: 200;\n  max-width: 20em;\n  background-color: #FFFF99;\n  box-shadow: 0px 2px 5px #333;\n  border-radius: 2px;\n  padding: 0.6em;\n  margin-left: 5px;\n  cursor: pointer;\n  word-wrap: break-word; }\n  .adf-pdf-viewer .annotationLayer .popup h1 {\n    font-size: 1em;\n    border-bottom: 1px solid #000000;\n    padding-bottom: 0.2em; }\n  .adf-pdf-viewer .annotationLayer .popup p {\n    padding-top: 0.2em; }\n\n.adf-pdf-viewer .annotationLayer .highlightAnnotation,\n.adf-pdf-viewer .annotationLayer .underlineAnnotation,\n.adf-pdf-viewer .annotationLayer .squigglyAnnotation,\n.adf-pdf-viewer .annotationLayer .strikeoutAnnotation,\n.adf-pdf-viewer .annotationLayer .fileAttachmentAnnotation {\n  cursor: pointer; }\n\n.adf-pdf-viewer .pdfViewer canvasWrapper {\n  overflow: hidden; }\n\n.adf-pdf-viewer .pdfViewer .page {\n  direction: ltr;\n  width: 816px;\n  height: 1056px;\n  margin: 1px auto -8px auto;\n  position: relative;\n  overflow: visible;\n  border: 9px solid transparent;\n  background-clip: content-box;\n  background-color: white; }\n  .adf-pdf-viewer .pdfViewer .page canvas {\n    margin: 0;\n    display: block; }\n  .adf-pdf-viewer .pdfViewer .page .loadingIcon {\n    position: absolute;\n    display: block;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0; }\n\n.adf-pdf-viewer .pdfViewer.removePageBorders .page {\n  margin: 0px auto 10px auto;\n  border: none; }\n\n.adf-pdf-viewer .pdfViewer .loadingIcon {\n  width: 100px;\n  height: 100px;\n  left: 50% !important;\n  top: 50% !important;\n  margin-top: -50px;\n  margin-left: -50px;\n  font-size: 5px;\n  text-indent: -9999em;\n  border-top: 1.1em solid rgba(3, 0, 2, 0.2);\n  border-right: 1.1em solid rgba(3, 0, 2, 0.2);\n  border-bottom: 1.1em solid rgba(3, 0, 2, 0.2);\n  border-left: 1.1em solid #030002;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation: load8 1.1s infinite linear;\n  animation: load8 1.1s infinite linear;\n  border-radius: 50%; }\n  .adf-pdf-viewer .pdfViewer .loadingIcon:after {\n    border-radius: 50%; }\n\n.adf-pdf-viewer * {\n  padding: 0;\n  margin: 0; }\n\n.adf-pdf-viewer .hidden, .adf-pdf-viewer [hidden] {\n  display: none !important; }\n\n@-webkit-keyframes load8 {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@keyframes load8 {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n.viewer-pdf-container {\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  top: 32px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  outline: none; }\n\nhtml[dir='ltr'] .viewer-pdf-container {\n  box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.05); }\n\nhtml[dir='rtl'] .viewer-pdf-container {\n  box-shadow: inset -1px 0 0 rgba(255, 255, 255, 0.05); }\n"},function(e,t){e.exports=c},function(e,t){e.exports='<pre class="adf-txt-viewer-content">\n    {{content}}\n</pre>\n'},function(e,t,n){var i=n(88);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-txt-viewer {\n  background-color: white;\n  width: 100vw;\n  overflow: hidden;\n  overflow-y: scroll;\n  margin-bottom: 42px; }\n"},function(e,t){e.exports='<div class="adf-viewer__unknown-format-view">\n    <div>\n        <mat-icon class="icon">wifi_tethering</mat-icon>\n        <div class="label">{{ \'ADF_VIEWER.UNKNOWN_FORMAT\' | translate }}</div>\n    </div>\n</div>\n'},function(e,t,n){var i=n(91);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-viewer__unknown-format-view {\n  height: 90vh;\n  text-align: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center; }\n"},function(e,t,n){"use strict";t.b=function(){return[g.ViewerComponent,s.a,d.a,l.MediaPlayerComponent,c.a,v.ViewerExtensionDirective,u.a,m.a,f.a,h.ViewerOpenWithComponent,p.a]},n.d(t,"a",function(){return y});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(13)),s=n(25),l=n(26),c=(n.n(l),n(27)),d=n(29),u=n(30),p=n(16),h=n(17),f=(n.n(h),n(18)),m=n(19),g=n(12),v=n(31),b=(n.n(v),n(28));n.n(b);let y=class{};y=i.a([Object(o.NgModule)({imports:[r.CoreModule,a.MaterialModule],declarations:[g.ViewerComponent,s.a,d.a,l.MediaPlayerComponent,c.a,v.ViewerExtensionDirective,u.a,m.a,f.a,h.ViewerOpenWithComponent,p.a],providers:[b.RenderingQueueServices,{provide:r.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-viewer",source:"assets/ng2-alfresco-viewer"}}],exports:[g.ViewerComponent,s.a,d.a,l.MediaPlayerComponent,c.a,v.ViewerExtensionDirective,u.a,m.a,f.a,h.ViewerOpenWithComponent,p.a]})],y)},function(e,t,n){"use strict";var i=n(94);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b}),n.d(t,"c",function(){return i.c}),n.d(t,"d",function(){return i.d}),n.d(t,"e",function(){return i.e}),n.d(t,"f",function(){return i.f})},function(e,t,n){"use strict";var i=n(32);n.d(t,"e",function(){return i.a});var o=n(33);n.d(t,"a",function(){return o.a});var r=n(34);n.d(t,"b",function(){return r.a});var a=n(103);n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return a.b}),n.d(t,"f",function(){return a.c})},function(e,t,n){"use strict";class i{constructor(e){e&&(this.apps=e.apps,this.capabilities=e.capabilities,this.company=e.company,this.created=e.created,this.email=e.email,this.externalId=e.externalId,this.firstName=e.firstName,this.lastName=e.lastName,this.fullname=e.fullname,this.fullNameDisplay=e?this.formatValue(e.firstName).trim()+" "+this.formatValue(e.lastName).trim():null,this.groups=e.groups,this.id=e.id,this.lastUpdate=e.lastUpdate,this.latestSyncTimeStamp=e.latestSyncTimeStamp,this.password=e.password,this.pictureId=e.pictureId,this.status=e.status,this.tenantId=e.tenantId,this.tenantName=e.tenantName,this.tenantPictureId=e.tenantPictureId,this.type=e.type)}formatValue(e){return e&&"null"!==e?e:""}}t.a=i},function(e,t,n){"use strict";class i{constructor(e){this.id=e&&e.id||null,this.firstName=e&&e.firstName,this.lastName=e&&e.lastName,this.fullNameDisplay=e?this.formatValue(e.firstName).trim()+" "+this.formatValue(e.lastName).trim():null,this.description=e&&e.description||null,this.avatarId=e&&e.avatarId||null,this.email=e&&e.email||null,this.skypeId=e&&e.skypeId,this.googleId=e&&e.googleId,this.instantMessageId=e&&e.instantMessageId,this.jobTitle=e&&e.jobTitle||null,this.location=e&&e.location||null,this.company=e&&e.company,this.mobile=e&&e.mobile,this.telephone=e&&e.telephone,this.statusUpdatedAt=e&&e.statusUpdatedAt,this.userStatus=e&&e.userStatus,this.enabled=e&&e.enabled,this.emailNotificationsEnabled=e&&e.emailNotificationsEnabled}formatValue(e){return e&&"null"!==e?e:""}}t.a=i},function(e,t,n){e.exports=n.p+"core/userinfo/assets/images/ecm-background.84de3762880d8e6b7d94ab283b026d3a.png"},function(e,t,n){e.exports=n.p+"core/userinfo/assets/images/bpm-background.ee4a55539eeb9762ca6b7b037664b192.png"},function(e,t,n){e.exports=n.p+"core/userinfo/assets/images/anonymous.6de44e6eb9dc32187635b13868e6b2fc.gif"},function(e,t,n){var i=n(101);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports='<div id="userinfo_container"\n    [class.adf-userinfo-name-right]="showOnRight()"\n    class="adf-userinfo-container" *ngIf="isLoggedIn()">\n    <span *ngIf="ecmUser && showName" id="adf-userinfo-ecm-name-display"\n          class="adf-userinfo-name">{{ecmUser.fullNameDisplay}}</span>\n    <span *ngIf="bpmUser && !ecmUser && showName" id="adf-userinfo-bpm-name-display"\n          class="adf-userinfo-name">{{bpmUser.fullNameDisplay}}</span>\n    <button mat-button [matMenuTriggerFor]="menu" class="adf-userinfo-menu_button">\n        <div class="adf-userinfo-button-profile" id="user-profile" data-automation-id="user-profile">\n            <div *ngIf="bpmUser && !ecmUser" id="bpm-user-image">\n                <div [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                <div *ngIf="bpmUser.pictureId" class="adf-userinfo-profile-container">\n                    <img id="logged-user-img" [src]="bpmUserImage" alt="user-info-profile-button"\n                        class="adf-userinfo-profile-image"/>\n                </div>\n            </div>\n            <div *ngIf="ecmUser" id="ecm-user-image">\n                    <div [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                    <div *ngIf="ecmUser.avatarId" class="adf-userinfo-profile-container">\n                        <img id="logged-user-img" [src]="ecmUserImage" alt="user-info-profile-button"\n                            class="adf-userinfo-profile-image"/>\n                    </div>\n            </div>\n    </div>\n</button>\n    <mat-menu #menu="matMenu" id="user-profile-lists" [xPosition]="menuPositionX" [yPosition]="menuPositionY" [overlapTrigger]="false" class="adf-userinfo-menu">\n        <mat-tab-group id="tab-group-env" (click)="stopClosing($event)"\n            class="adf-userinfo-tab" [class.adf-hide-tab]="!bpmUser || !ecmUser">\n            <mat-tab id="ecm-panel" label="{{ \'USER_PROFILE.TAB.CS\' | translate }}" *ngIf="ecmUser">\n                <mat-card class="adf-userinfo-card">\n                    <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + ecmBackgroundImage + \')\'">\n                        <div [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                        <div  *ngIf="ecmUser.avatarId" class="adf-userinfo-profile-container adf-hide-small">\n                            <img class="adf-userinfo-profile-picture" id="ecm-user-detail-image"\n                                alt="ecm-profile-image" [src]="ecmUserImage" />\n                        </div>\n                       <div class="adf-userinfo-title" id="ecm-username">{{ecmUser.fullNameDisplay}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class="adf-userinfo-supporting-text">\n                                <div class="adf-userinfo-detail">\n                                    <span id="ecm-full-name" class="adf-userinfo__detail-title">{{ecmUser.fullNameDisplay}}</span>\n                                    <span class="adf-userinfo__detail-profile" id="ecm-email"> {{ecmUser.email}} </span>\n                                </div>\n                                <div class="adf-userinfo-detail">\n                                    <span class="adf-userinfo__secondary-info">\n                                        {{ \'USER_PROFILE.LABELS.ECM.JOB_TITLE\' | translate }}\n                                        <span id="ecm-job-title" class="adf-userinfo__detail-profile"> {{ ecmUser.jobTitle ? ecmUser.jobTitle : \'N/A\' }} </span>\n                                    </span>\n                                </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n            <mat-tab id="bpm-panel" label="{{ \'USER_PROFILE.TAB.PS\' | translate }}" *ngIf="bpmUser">\n            <mat-card class="adf-userinfo-card">\n                <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                    <div [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                    <img *ngIf="bpmUser.pictureId" class="adf-userinfo-profile-picture adf-hide-small" id="bpm-user-detail-image"\n                            alt="bpm-profile-image" [src]="bpmUserImage"/>\n                   <div class="adf-userinfo-title" id="bpm-username">{{bpmUser.fullNameDisplay}}</div>\n                </mat-card-header>\n                <mat-card-content>\n                    <div class="adf-userinfo-supporting-text">\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-full-name" class="adf-userinfo__detail-title">{{ bpmUser.fullNameDisplay }}</span>\n                                <span class="adf-userinfo__detail-profile" id="bpm-email"> {{bpmUser.email}} </span>\n                            </div>\n                            <div class="adf-userinfo-detail">\n                                <span id="bpm-tenant" class="adf-userinfo__secondary-info">\n                                    {{ \'USER_PROFILE.LABELS.BPM.TENANT\' | translate }}\n                                    <span class="adf-userinfo__detail-profile">{{ bpmUser.tenantName ? bpmUser.tenantName : \'\' }}</span>\n                                </span>\n                            </div>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n            </mat-tab>\n        </mat-tab-group>\n    </mat-menu>\n</div>\n'},function(e,t,n){"use strict";n.d(t,"c",function(){return p});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(13)),s=n(32),l=n(33),c=n(34);const d=[s.a];t.a=d;const u=[c.a,l.a];t.b=u;let p=class{};p=i.a([Object(o.NgModule)({imports:[r.CoreModule,a.MaterialModule],declarations:[...d],providers:[...u,{provide:r.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-userinfo",source:"assets/ng2-alfresco-userinfo"}}],exports:[...d]})],p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(105))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(35);n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var r=n(39);n.d(t,"LoginFooterDirective",function(){return r.a});var a=n(20);n.d(t,"LoginComponent",function(){return a.LoginComponent});var s=n(36);n.d(t,"LoginErrorEvent",function(){return s.a});var l=n(37);n.n(l);for(var o in l)["LoginFooterDirective","LoginComponent","LoginErrorEvent","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return l[e]})}(o);var c=n(38);n.d(t,"LoginSuccessEvent",function(){return c.a});var d=n(111);n.d(t,"LoginModule",function(){return d.a})},function(e,t,n){e.exports=n.p+"core/login/assets/images/alfresco-logo.2db246e1d7e6fca3effb566e92e51f42.svg"},function(e,t,n){e.exports=n.p+"core/login/assets/images/background.fa3544aac8d4255bcb78b25374bd0fe4.svg"},function(e,t){e.exports='<div class="adf-login-content" [style.background-image]="\'url(\' + backgroundImageUrl + \')\'">\n     <div class="ie11FixerParent">\n         <div class="ie11FixerChild">\n\n            <mat-card class="adf-login-card-wide">\n                <form [formGroup]="form" (submit)="onSubmit(form.value)">\n\n                    <mat-card-header>\n                        <mat-card-title>\n                            <div class="adf-alfresco-logo">\n                                \x3c!--HEADER TEMPLATE--\x3e\n                                <ng-template *ngIf="headerTemplate"\n                                            ngFor [ngForOf]="[data]"\n                                            [ngForTemplate]="headerTemplate">\n                                </ng-template>\n                                <img *ngIf="!headerTemplate" class="adf-img-logo" [src]="logoImageUrl"\n                                    alt="{{\'LOGIN.LOGO\' | translate }}">\n                            </div>\n                        </mat-card-title>\n                    </mat-card-header>\n\n                    <mat-card-content class="adf-login-controls">\n\n                        \x3c!--ERRORS AREA--\x3e\n                        <div class="adf-error-container">\n                            <div *ngIf="isError" id="login-error" data-automation-id="login-error"\n                                class="error  adf-error-message">\n                                <mat-icon class="error-icon">warning</mat-icon>\n                                <span class="login-error-message">{{errorMsg | translate }}</span>\n                            </div>\n                        </div>\n\n                        \x3c!--USERNAME FIELD--\x3e\n                        <div class="adf-login__field" [ngClass]="{\'is-invalid\': isErrorStyle(form.controls.username)}">\n                            <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                <input matInput placeholder="{{\'LOGIN.LABEL.USERNAME\' | translate }}"\n                                    type="text"\n                                    class="adf-full-width"\n                                    [formControl]="form.controls[\'username\']"\n                                    autocapitalize="none"\n                                    id="username"\n                                    data-automation-id="username"\n                                    (blur)="trimUsername($event)"\n                                    tabindex="1">\n                            </mat-form-field>\n\n                            <span class="adf-login-validation" for="username" *ngIf="formError.username">\n                                <span id="username-error" class="adf-login-error" data-automation-id="username-error">{{formError.username | translate }}</span>\n                            </span>\n                        </div>\n\n                        \x3c!--PASSWORD FIELD--\x3e\n                        <div class="adf-login__field">\n                            <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                <input matInput placeholder="{{\'LOGIN.LABEL.PASSWORD\' | translate }}"\n                                    type="password"\n                                    [formControl]="form.controls[\'password\']"\n                                    id="password"\n                                    data-automation-id="password"\n                                    tabindex="2">\n                                <mat-icon *ngIf="isPasswordShow" matSuffix class="adf-login-password-icon"\n                                        data-automation-id="hide_password" (click)="toggleShowPassword()">visibility\n                                </mat-icon>\n                                <mat-icon *ngIf="!isPasswordShow" matSuffix class="adf-login-password-icon"\n                                        data-automation-id="show_password" (click)="toggleShowPassword()">visibility_off\n                                </mat-icon>\n                            </mat-form-field>\n                            <span class="adf-login-validation" for="password" *ngIf="formError.password">\n                                <span id="password-required" class="adf-login-error"\n                                    data-automation-id="password-required">{{formError.password | translate }}</span>\n                            </span>\n                        </div>\n\n                        \x3c!--CUSTOM CONTENT--\x3e\n                        <ng-content></ng-content>\n\n                        <br>\n                        <button type="submit" id="login-button" tabindex="3"\n                                class="adf-login-button"\n                                mat-raised-button color="primary"\n                                [class.isChecking]="actualLoginStep === LoginSteps.Checking"\n                                [class.isWelcome]="actualLoginStep === LoginSteps.Welcome"\n                                data-automation-id="login-button" [disabled]="!form.valid">\n\n                            <span *ngIf="actualLoginStep === LoginSteps.Landing" class="adf-login-button-label">{{ \'LOGIN.BUTTON.LOGIN\' | translate }}</span>\n\n                            <div *ngIf="actualLoginStep === LoginSteps.Checking" class="adf-interactive-login-label">\n                                <span class="adf-login-button-label">{{ \'LOGIN.BUTTON.CHECKING\' | translate }}</span>\n                                <mat-spinner id="checking-spinner" class="adf-login-checking-spinner" diameter="30"></mat-spinner>\n                            </div>\n\n                            <div *ngIf="actualLoginStep === LoginSteps.Welcome" class="adf-interactive-login-label">\n                                <span class="adf-login-button-label">{{ \'LOGIN.BUTTON.WELCOME\' | translate }}</span>\n                                <mat-icon class="welcome-icon">done</mat-icon>\n                            </div>\n\n                        </button>\n                        <div *ngIf="showRememberMe" class="adf-login__remember-me">\n                            <mat-checkbox id="adf-login-remember" color="primary" class="adf-login-rememberme" [checked]="rememberMe"\n                                        (change)="rememberMe = !rememberMe">{{ \'LOGIN.LABEL.REMEMBER\' | translate }}\n                            </mat-checkbox>\n                        </div>\n                    </mat-card-content>\n                    <mat-card-actions *ngIf="footerTemplate || showLoginActions">\n\n                        <div class="adf-login-action-container">\n                            \x3c!--FOOTER TEMPLATE--\x3e\n                            <ng-template *ngIf="footerTemplate"\n                                        ngFor [ngForOf]="[data]"\n                                        [ngForTemplate]="footerTemplate">\n                            </ng-template>\n                            <div class="adf-login-action" *ngIf="!footerTemplate && showLoginActions">\n                                <div id="adf-login-action-left" class="adf-login-action-left">\n                                    <a href="{{needHelpLink}}">{{\'LOGIN.ACTION.HELP\' | translate }}</a>\n                                </div>\n                                <div id="adf-login-action-right" class="adf-login-action-right">\n                                    <a href="{{registerLink}}">{{\'LOGIN.ACTION.REGISTER\' | translate }}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </mat-card-actions>\n\n                </form>\n            </mat-card>\n\n            <div class="copyright" data-automation-id="login-copyright">\n                {{ copyrightText }}\n            </div>\n\n        </div>\n     </div>\n</div>\n'},function(e,t,n){var i=n(110);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(1),o=n(0),r=(n.n(o),n(21)),a=(n.n(r),n(2)),s=(n.n(a),n(13)),l=n(20),c=n(39),d=n(35);n.n(d);let u=class{};u=i.a([Object(o.NgModule)({imports:[r.RouterModule,a.CoreModule,s.MaterialModule],declarations:[l.LoginComponent,c.a,d.LoginHeaderDirective],providers:[{provide:a.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-login",source:"assets/ng2-alfresco-login"}}],exports:[[l.LoginComponent,c.a,d.LoginHeaderDirective]]})],u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(113);n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(114)),i(n(42)),i(n(43)),i(n(10)),i(n(23)),i(n(44)),i(n(45)),i(n(46)),i(n(47)),i(n(48)),i(n(49)),i(n(50)),i(n(124))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(115);n.n(i);n.o(i,"DataTableAdapter")&&n.d(t,"DataTableAdapter",function(){return i.DataTableAdapter});var o=n(40);n.d(t,"ObjectDataColumn",function(){return o.a}),n.d(t,"ObjectDataRow",function(){return o.b}),n.d(t,"ObjectDataTableAdapter",function(){return o.c});var r=n(116);n.n(r);n.o(r,"DataRow")&&n.d(t,"DataRow",function(){return r.DataRow});var a=n(41);n.n(a);n.o(a,"DataRowEvent")&&n.d(t,"DataRowEvent",function(){return a.DataRowEvent});var s=n(117);n.n(s);n.o(s,"DataColumn")&&n.d(t,"DataColumn",function(){return s.DataColumn});var l=n(22);n.d(t,"DataSorting",function(){return l.a})},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){var i=n(119);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports='<table\n    *ngIf="data"\n    class="full-width adf-data-table">\n\n    <thead *ngIf="showHeader">\n    <tr>\n        \x3c!-- Actions (left) --\x3e\n        <th *ngIf="actions && actionsPosition === \'left\'" class="actions-column">\n            <span class="sr-only">Actions</span>\n        </th>\n        \x3c!-- Columns --\x3e\n        <th *ngIf="multiselect">\n            <mat-checkbox [checked]="isSelectAllChecked" (change)="onSelectAllClick($event)"></mat-checkbox>\n        </th>\n        <th class="adf-data-table-cell--{{col.type || \'text\'}} {{col.cssClass}}"\n            *ngFor="let col of data.getColumns()"\n            [class.sortable]="col.sortable"\n            [attr.data-automation-id]="\'auto_id_\' + col.key"\n            [class.adf-data-table__header--sorted-asc]="isColumnSorted(col, \'asc\')"\n            [class.adf-data-table__header--sorted-desc]="isColumnSorted(col, \'desc\')"\n            (click)="onColumnHeaderClick(col)"\n            (keyup.enter)="onColumnHeaderClick(col)"\n            role="button"\n            tabindex="0"\n            title="{{ col.title | translate }}">\n            <span *ngIf="col.srTitle" class="sr-only">{{ col.srTitle | translate }}</span>\n            <span *ngIf="col.title">{{ col.title | translate}}</span>\n        </th>\n        \x3c!-- Actions (right) --\x3e\n        <th *ngIf="actions && actionsPosition === \'right\'" class="actions-column">\n            <span class="sr-only">Actions</span>\n        </th>\n    </tr>\n    </thead>\n\n    <tbody>\n    <ng-container *ngIf="!loading && !noPermission">\n        <tr *ngFor="let row of data.getRows(); let idx = index"\n            role="button"\n            [class.is-selected]="row.isSelected"\n            [adf-upload]="allowDropFiles && rowAllowsDrop(row)" [adf-upload-data]="row"\n            [ngStyle]="rowStyle"\n            [ngClass]="getRowStyle(row)"\n            (keyup)="onRowKeyUp(row, $event)">\n\n            \x3c!-- Actions (left) --\x3e\n            <td *ngIf="actions && actionsPosition === \'left\'">\n                <button mat-icon-button [matMenuTriggerFor]="menu"\n                    [attr.data-automation-id]="\'action_menu_\' + idx">\n                    <mat-icon>more_vert</mat-icon>\n                </button>\n                <mat-menu #menu="matMenu">\n                    <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                        [attr.data-automation-id]="action.title"\n                        [disabled]="action.disabled"\n                        (click)="onExecuteRowAction(row, action)">\n                        <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                        <span>{{ action.title | translate }}</span>\n                    </button>\n                </mat-menu>\n            </td>\n\n            <td *ngIf="multiselect">\n                <mat-checkbox\n                    [checked]="row.isSelected"\n                    (change)="onCheckboxChange(row, $event)">\n                </mat-checkbox>\n            </td>\n            <td *ngFor="let col of data.getColumns()"\n                class="adf-data-table-cell adf-data-table-cell--{{col.type || \'text\'}} {{col.cssClass}}"\n                tabindex="0"\n                (click)="onRowClick(row, $event)"\n                [context-menu]="getContextMenuActions(row, col)"\n                [context-menu-enabled]="contextMenu">\n                <div *ngIf="!col.template" class="cell-container">\n                    <ng-container [ngSwitch]="col.type">\n                        <div *ngSwitchCase="\'image\'" class="cell-value">\n                            <mat-icon *ngIf="isIconValue(row, col)">{{ asIconValue(row, col) }}</mat-icon>\n                            <mat-icon *ngIf="!isIconValue(row, col) && row.isSelected" svgIcon="selected" >\n                            </mat-icon>\n\n                            <img *ngIf="!isIconValue(row, col) && !row.isSelected"\n                                 alt="{{ iconAltTextKey(data.getValue(row, col)) | translate }}"\n                                 src="{{ data.getValue(row, col) }}"\n                                 (error)="onImageLoadingError($event)">\n                        </div>\n                        <div *ngSwitchCase="\'icon\'"  class="cell-value">\n                            <span class="sr-only">{{ iconAltTextKey(data.getValue(row, col)) | translate }}</span>\n                            <mat-icon>{{ data.getValue(row, col) }}</mat-icon>\n                        </div>\n                        <div *ngSwitchCase="\'date\'"  class="cell-value"\n                            [attr.data-automation-id]="\'date_\' + data.getValue(row, col)">\n                            <adf-date-cell\n                                [data]="data"\n                                [column]="col"\n                                [row]="row"\n                                [tooltip]="getCellTooltip(row, col)">\n                            </adf-date-cell>\n                        </div>\n                        <div *ngSwitchCase="\'location\'" class="cell-value"\n                            [attr.data-automation-id]="\'location\' + data.getValue(row, col)">\n                            <adf-location-cell\n                                [data]="data"\n                                [column]="col"\n                                [row]="row"\n                                [tooltip]="getCellTooltip(row, col)">\n                            </adf-location-cell>\n                        </div>\n                        <div *ngSwitchCase="\'fileSize\'" class="cell-value"\n                            [attr.data-automation-id]="\'fileSize_\' + data.getValue(row, col)">\n                            <adf-filesize-cell\n                                [data]="data"\n                                [column]="col"\n                                [row]="row"\n                                [tooltip]="getCellTooltip(row, col)">\n                            </adf-filesize-cell>\n                        </div>\n                        <div *ngSwitchCase="\'text\'" class="cell-value"\n                            [attr.data-automation-id]="\'text_\' + data.getValue(row, col)">\n                            <adf-datatable-cell\n                                [data]="data"\n                                [column]="col"\n                                [row]="row"\n                                [tooltip]="getCellTooltip(row, col)">\n                            </adf-datatable-cell>\n                        </div>\n                    <span *ngSwitchDefault class="cell-value">\n                    \x3c!-- empty cell for unknown column type --\x3e\n                    </span>\n                    </ng-container>\n                </div>\n                <div *ngIf="col.template" class="cell-container">\n                    <ng-container\n                        [ngTemplateOutlet]="col.template"\n                        [ngTemplateOutletContext]="{ $implicit: { data: data, row: row, col: col }, value: data.getValue(row, col) }">\n                    </ng-container>\n                </div>\n            </td>\n\n            \x3c!-- Actions (right) --\x3e\n            <td *ngIf="actions && actionsPosition === \'right\'" class="alfresco-datatable__actions-cell">\n                <button mat-icon-button [matMenuTriggerFor]="menu"\n                    [attr.data-automation-id]="\'action_menu_\' + idx">\n                    <mat-icon>more_vert</mat-icon>\n                </button>\n                <mat-menu #menu="matMenu">\n                    <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                        [attr.data-automation-id]="action.title"\n                        [disabled]="action.disabled"\n                        (click)="onExecuteRowAction(row, action)">\n                        <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                        <span>{{ action.title | translate }}</span>\n                    </button>\n                </mat-menu>\n            </td>\n\n        </tr>\n        <tr *ngIf="data.getRows().length === 0">\n            <td class="adf-no-content-container"\n                [attr.colspan]="1 + data.getColumns().length">\n                <ng-template *ngIf="noContentTemplate"\n                             ngFor [ngForOf]="[data]"\n                             [ngForTemplate]="noContentTemplate">\n                </ng-template>\n                <ng-content select="adf-empty-list"></ng-content>\n            </td>\n        </tr>\n    </ng-container>\n    <tr *ngIf="!loading && noPermission" class="adf-no-permission__row">\n        <td class="adf-no-permission__cell">\n            <ng-template *ngIf="noPermissionTemplate"\n                         ngFor [ngForOf]="[data]"\n                         [ngForTemplate]="noPermissionTemplate">\n            </ng-template>\n        </td>\n    </tr>\n    <tr *ngIf="loading">\n        <td class="adf-loading-content-container"\n            [attr.colspan]="1 + data.getColumns().length">\n            <ng-template *ngIf="loadingTemplate"\n                         ngFor [ngForOf]="[data]"\n                         [ngForTemplate]="loadingTemplate">\n            </ng-template>\n        </td>\n    </tr>\n    </tbody>\n</table>\n'},function(e,t,n){var i=n(122);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-empty-list_template {\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 20px; }\n"},function(e,t){e.exports='<div class="adf-empty-list_template">\n    <ng-content select="[adf-empty-list-header]"></ng-content>\n    <ng-content select="[adf-empty-list-body]"></ng-content>\n    <ng-content select="[adf-empty-list-footer]"></ng-content>\n    <ng-content></ng-content>\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(21),a=n(2),s=n(13),l=n(10),c=n(23),d=n(44),u=n(45),p=n(46),h=n(47),f=n(48),m=n(49),g=n(50),v=function(){function e(){}return e=i([o.NgModule({imports:[r.RouterModule,a.CoreModule,s.MaterialModule],declarations:[c.DataTableComponent,u.EmptyListComponent,u.EmptyListHeaderDirective,u.EmptyListBodyDirective,u.EmptyListFooterDirective,l.DataTableCellComponent,d.DateCellComponent,p.FileSizeCellComponent,h.LocationCellComponent,m.NoContentTemplateDirective,g.NoPermissionTemplateDirective,f.LoadingContentTemplateDirective],providers:[{provide:a.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-datatable",source:"assets/ng2-alfresco-datatable"}}],exports:[c.DataTableComponent,u.EmptyListComponent,u.EmptyListHeaderDirective,u.EmptyListBodyDirective,u.EmptyListFooterDirective,l.DataTableCellComponent,d.DateCellComponent,p.FileSizeCellComponent,h.LocationCellComponent,m.NoContentTemplateDirective,g.NoPermissionTemplateDirective,f.LoadingContentTemplateDirective]})],e)}();t.DataTableModule=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PaginationStrategy",function(){return i}),n.d(t,"DocumentListComponent",function(){return h});var i,o=n(1),r=n(11),a=n(0),s=(n.n(a),n(2)),l=(n.n(s),n(3)),c=(n.n(l),n(472)),d=(n.n(c),n(188)),u=n(149),p=(n.n(u),n(190));!function(e){e[e.Finite=0]="Finite",e[e.Infinite=1]="Infinite"}(i||(i={}));let h=f=class{constructor(e,t,o,r,s,c){this.documentListService=e,this.ngZone=t,this.elementRef=o,this.apiService=r,this.appConfig=s,this.preferences=c,this.permissionsStyle=[],this.locationFormat="/",this.navigate=!0,this.navigationMode=f.DOUBLE_CLICK_NAVIGATION,this.thumbnails=!1,this.selectionMode="single",this.multiselect=!1,this.enablePagination=!0,this.contentActions=!1,this.contentActionsPosition="right",this.contextMenuActions=!1,this.pageSize=f.DEFAULT_PAGE_SIZE,this.emptyFolderImageUrl=n(473),this.allowDropFiles=!1,this.loading=!1,this.paginationStrategy=i.Finite,this.infiniteLoading=!1,this.noPermission=!1,this.selection=new Array,this.skipCount=0,this.rowFilter=null,this.imageResolver=null,this.currentFolderId=null,this.folderNode=null,this.node=null,this.nodeClick=new a.EventEmitter,this.nodeDblClick=new a.EventEmitter,this.folderChange=new a.EventEmitter,this.preview=new a.EventEmitter,this.ready=new a.EventEmitter,this.error=new a.EventEmitter,this.actions=[],this.contextActionHandler=new l.Subject,this.layoutPresets={},this.currentNodeAllowableOperations=[],this.CREATE_PERMISSION="create",this.defaultPageSizes=[5,10,15,20],this.supportedPageSizes=s.get("document-list.supportedPageSizes",this.defaultPageSizes)}getContextActions(e){if(e&&e.entry){let t=this.getNodeActions(e);if(t&&t.length>0)return t.map(t=>({model:t,node:e,subject:this.contextActionHandler}))}return null}contextActionCallback(e){e&&this.executeContentAction(e.node,e.model)}get hasCustomLayout(){return this.columnList&&this.columnList.columns&&this.columnList.columns.length>0}getDefaultPageSize(){let e=this.preferences.paginationSize;const t=this.supportedPageSizes||this.defaultPageSizes;return t&&t.length>0&&t.indexOf(e)<0&&(e=t[0]),e}ngOnInit(){this.pageSize=this.getDefaultPageSize(),this.loadLayoutPresets(),this.data=new d.ShareDataTableAdapter(this.documentListService,null,this.getDefaultSorting()),this.data.thumbnails=this.thumbnails,this.data.permissionsStyle=this.permissionsStyle,this.rowFilter&&this.data.setFilter(this.rowFilter),this.imageResolver&&this.data.setImageResolver(this.imageResolver),this.contextActionHandler.subscribe(e=>this.contextActionCallback(e)),this.enforceSingleClickNavigationForMobile()}ngAfterContentInit(){let e=[];this.hasCustomLayout&&(e=this.columnList.columns.map(e=>e)),this.data?e&&e.length>0&&this.data.setColumns(e):this.data=new d.ShareDataTableAdapter(this.documentListService,e,this.getDefaultSorting());let t=this.data.getColumns();t&&0!==t.length||this.setupDefaultColumns(this.currentFolderId)}ngOnChanges(e){e.folderNode&&e.folderNode.currentValue?this.loadFolder():e.currentFolderId&&e.currentFolderId.currentValue?(e.currentFolderId.previousValue!==e.currentFolderId.currentValue&&(this.resetPagination(),this.folderNode=null),this.hasCustomLayout||this.setupDefaultColumns(e.currentFolderId.currentValue),this.loadFolderByNodeId(e.currentFolderId.currentValue)):this.data&&(e.node&&e.node.currentValue?(this.resetSelection(),this.data.loadPage(e.node.currentValue)):e.rowFilter?(this.data.setFilter(e.rowFilter.currentValue),this.currentFolderId&&this.loadFolderNodesByFolderNodeId(this.currentFolderId,this.pageSize,this.skipCount)):e.imageResolver&&this.data.setImageResolver(e.imageResolver.currentValue))}reload(e=!1){this.ngZone.run(()=>{this.resetSelection(),this.folderNode?this.loadFolder(e):this.currentFolderId?this.loadFolderByNodeId(this.currentFolderId):this.node&&(this.data.loadPage(this.node),this.ready.emit())})}isEmptyTemplateDefined(){return!(!this.dataTable||!this.emptyFolderTemplate)}isNoPermissionTemplateDefined(){return!(!this.dataTable||!this.noPermissionTemplate)}isMobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}isEmpty(){return!this.data||0===this.data.getRows().length}isPaginationEnabled(){return this.enablePagination&&!this.isEmpty()}isPaginationNeeded(){return this.paginationStrategy===i.Finite}getNodeActions(e){let t=null;if(e&&e.entry&&(e.entry.isFile&&(t="document"),e.entry.isFolder&&(t="folder"),t)){let n=t.toLowerCase(),i=this.actions.filter(e=>e.target.toLowerCase()===n).map(e=>new u.ContentActionModel(e));return i.forEach(t=>{this.checkPermission(e,t)}),i}return[]}checkPermission(e,t){if(t.permission&&this.hasPermissions(e)){e.entry.allowableOperations.find(e=>e===t.permission)||!0!==t.disableWithNoPermission||(t.disabled=!0)}return t}hasPermissions(e){return!!e.entry.allowableOperations}onShowContextMenu(e){e&&this.contextMenuActions&&e.preventDefault()}performNavigation(e){return!!this.canNavigateFolder(e)&&(this.currentFolderId=e.entry.id,this.folderNode=e.entry,this.skipCount=0,this.currentNodeAllowableOperations=e.entry.allowableOperations?e.entry.allowableOperations:[],this.loadFolder(),this.folderChange.emit(new p.NodeEntryEvent(e.entry)),!0)}executeContentAction(e,t){if(e&&e.entry&&t){let n;n="function"==typeof t.handler?t.handler(e,this,t.permission):l.Observable.of(!0),"function"==typeof t.execute&&n.subscribe(()=>{t.execute(e)})}}loadFolder(e=!1){e?this.infiniteLoading=!0:this.loading=!0;let t=this.folderNode?this.folderNode.id:this.currentFolderId;t&&this.loadFolderNodesByFolderNodeId(t,this.pageSize,this.skipCount,e).catch(e=>this.error.emit(e))}loadFolderByNodeId(e){this.loading=!0,this.resetSelection(),"-trashcan-"===e?this.loadTrashcan():"-sharedlinks-"===e?this.loadSharedLinks():"-sites-"===e?this.loadSites():"-mysites-"===e?this.loadMemberSites():"-favorites-"===e?this.loadFavorites():"-recent-"===e?this.loadRecent():this.documentListService.getFolderNode(e).then(e=>(this.folderNode=e,this.currentFolderId=e.id,this.skipCount=0,this.currentNodeAllowableOperations=e.allowableOperations?e.allowableOperations:[],this.loadFolderNodesByFolderNodeId(e.id,this.pageSize,this.skipCount))).catch(e=>{403===JSON.parse(e.message).error.statusCode&&(this.loading=!1,this.noPermission=!0),this.error.emit(e)})}loadFolderNodesByFolderNodeId(e,t,n,i=!1){return new Promise((o,r)=>{this.resetSelection(),this.documentListService.getFolder(null,{maxItems:t,skipCount:n,rootFolderId:e}).subscribe(a=>{this.isCurrentPageEmpty(a,n)?(this.updateSkipCount(n-t),this.loadFolderNodesByFolderNodeId(e,t,n-t).then(()=>o(!0),e=>r(e))):(this.data.loadPage(a,i),this.pagination=a.list.pagination,this.loading=!1,this.infiniteLoading=!1,this.ready.emit(),o(!0))},e=>{r(e)})})}resetSelection(){this.dataTable.resetSelection(),this.selection=[]}resetPagination(){this.skipCount=0}loadTrashcan(){const e={include:["path","properties"],maxItems:this.pageSize,skipCount:this.skipCount};this.apiService.nodesApi.getDeletedNodes(e).then(e=>this.onPageLoaded(e)).catch(e=>this.error.emit(e))}loadSharedLinks(){const e={include:["properties","allowableOperations","path"],maxItems:this.pageSize,skipCount:this.skipCount};this.apiService.sharedLinksApi.findSharedLinks(e).then(e=>this.onPageLoaded(e)).catch(e=>this.error.emit(e))}loadSites(){const e={include:["properties"],maxItems:this.pageSize,skipCount:this.skipCount};this.apiService.sitesApi.getSites(e).then(e=>this.onPageLoaded(e)).catch(e=>this.error.emit(e))}loadMemberSites(){const e={include:["properties"],maxItems:this.pageSize,skipCount:this.skipCount};this.apiService.peopleApi.getSiteMembership("-me-",e).then(e=>{let t={list:{entries:e.list.entries.map(({entry:{site:e}})=>({entry:e})),pagination:e.list.pagination}};this.onPageLoaded(t)}).catch(e=>this.error.emit(e))}loadFavorites(){const e={maxItems:this.pageSize,skipCount:this.skipCount,where:"(EXISTS(target/file) OR EXISTS(target/folder))",include:["properties","allowableOperations","path"]};this.apiService.favoritesApi.getFavorites("-me-",e).then(e=>{let t={list:{entries:e.list.entries.map(({entry:{target:e}})=>({entry:e.file||e.folder})).map(({entry:e})=>(e.properties={"cm:title":e.title,"cm:description":e.description},{entry:e})),pagination:e.list.pagination}};this.onPageLoaded(t)}).catch(e=>this.error.emit(e))}loadRecent(){this.apiService.peopleApi.getPerson("-me-").then(e=>{const t=e.entry.id,n={query:{query:"*",language:"afts"},filterQueries:[{query:"cm:modified:[NOW/DAY-30DAYS TO NOW/DAY+1DAY]"},{query:`cm:modifier:${t} OR cm:creator:${t}`},{query:'TYPE:"content" AND -TYPE:"app:filelink" AND -TYPE:"fm:post"'}],include:["path","properties","allowableOperations"],sort:[{type:"FIELD",field:"cm:modified",ascending:!1}],paging:{maxItems:this.pageSize,skipCount:this.skipCount}};return this.apiService.searchApi.search(n)}).then(e=>this.onPageLoaded(e)).catch(e=>this.error.emit(e))}onPageLoaded(e){e&&(this.data.loadPage(e),this.pagination=e.list.pagination,this.loading=!1,this.ready.emit())}isCurrentPageEmpty(e,t){return!this.hasNodeEntries(e)&&this.hasPages(t)}hasPages(e){return e>0&&this.isPaginationEnabled()}hasNodeEntries(e){return e&&e.list&&e.list.entries&&e.list.entries.length>0}setupDefaultColumns(e="default"){if(this.data){const t=this.getLayoutPreset(e);this.data.setColumns(t)}}onPreviewFile(e){e&&this.preview.emit(new p.NodeEntityEvent(e))}onNodeClick(e){const t=new CustomEvent("node-click",{detail:{sender:this,node:e},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(t);const n=new p.NodeEntityEvent(e);this.nodeClick.emit(n),n.defaultPrevented||this.navigate&&this.navigationMode===f.SINGLE_CLICK_NAVIGATION&&e&&e.entry&&(e.entry.isFile&&this.onPreviewFile(e),e.entry.isFolder&&this.performNavigation(e))}onNodeDblClick(e){const t=new CustomEvent("node-dblclick",{detail:{sender:this,node:e},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(t);const n=new p.NodeEntityEvent(e);this.nodeDblClick.emit(n),n.defaultPrevented||this.navigate&&this.navigationMode===f.DOUBLE_CLICK_NAVIGATION&&e&&e.entry&&(e.entry.isFile&&this.onPreviewFile(e),e.entry.isFolder&&this.performNavigation(e))}onNodeSelect(e){this.selection=e.selection.map(e=>e.node);const t=new CustomEvent("node-select",{detail:{node:e.row.node,selection:this.selection},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(t)}onNodeUnselect(e){this.selection=e.selection.map(e=>e.node);const t=new CustomEvent("node-unselect",{detail:{node:e.row.node,selection:this.selection},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(t)}onShowRowContextMenu(e){if(this.contextMenuActions){let t=e.value,n=t.row.node;n&&(t.actions=this.getContextActions(n)||[])}}onShowRowActionsMenu(e){if(this.contentActions){let t=e.value,n=t.row.node;n&&(t.actions=this.getNodeActions(n)||[])}}onExecuteRowAction(e){if(this.contentActions){let t=e.value,n=t.row.node,i=t.action;this.executeContentAction(n,i)}}onChangePageSize(e){this.preferences.paginationSize=e.maxItems,this.pageSize=e.maxItems,this.skipCount=0,this.reload()}onChangePageNumber(e){this.pageSize=e.maxItems,this.skipCount=e.skipCount,this.reload()}onNextPage(e){this.skipCount=e.skipCount,this.reload()}loadNextBatch(e){this.skipCount=e.skipCount,this.reload(!0)}onPrevPage(e){this.skipCount=e.skipCount,this.reload()}enforceSingleClickNavigationForMobile(){this.isMobile()&&(this.navigationMode=f.SINGLE_CLICK_NAVIGATION)}getDefaultSorting(){let e;if(this.sorting){const[t,n]=this.sorting;e=new r.DataSorting(t,n)}return e}canNavigateFolder(e){return!this.isCustomSource(this.currentFolderId)&&!!(e&&e.entry&&e.entry.isFolder)}isCustomSource(e){return["-trashcan-","-sharedlinks-","-sites-","-mysites-","-favorites-","-recent-"].indexOf(e)>-1}updateSkipCount(e){this.skipCount=e}hasCurrentNodePermission(e){let t=!1;if(this.currentNodeAllowableOperations.length>0){t=!!this.currentNodeAllowableOperations.find(t=>t===e)}return t}hasCreatePermission(){return this.hasCurrentNodePermission(this.CREATE_PERMISSION)}loadLayoutPresets(){const e=this.appConfig.get("document-list.presets",null);this.layoutPresets=e?Object.assign({},c.presetsDefaultModel,e):c.presetsDefaultModel}getLayoutPreset(e="default"){return(this.layoutPresets[e]||this.layoutPresets.default).map(e=>new r.ObjectDataColumn(e))}};h.SINGLE_CLICK_NAVIGATION="click",h.DOUBLE_CLICK_NAVIGATION="dblclick",h.DEFAULT_PAGE_SIZE=20,o.a([Object(a.ContentChild)(s.DataColumnListComponent)],h.prototype,"columnList",void 0),o.a([Object(a.Input)()],h.prototype,"permissionsStyle",void 0),o.a([Object(a.Input)()],h.prototype,"locationFormat",void 0),o.a([Object(a.Input)()],h.prototype,"navigate",void 0),o.a([Object(a.Input)()],h.prototype,"navigationMode",void 0),o.a([Object(a.Input)()],h.prototype,"thumbnails",void 0),o.a([Object(a.Input)()],h.prototype,"selectionMode",void 0),o.a([Object(a.Input)()],h.prototype,"multiselect",void 0),o.a([Object(a.Input)()],h.prototype,"enablePagination",void 0),o.a([Object(a.Input)()],h.prototype,"contentActions",void 0),o.a([Object(a.Input)()],h.prototype,"contentActionsPosition",void 0),o.a([Object(a.Input)()],h.prototype,"contextMenuActions",void 0),o.a([Object(a.Input)()],h.prototype,"pageSize",void 0),o.a([Object(a.Input)()],h.prototype,"emptyFolderImageUrl",void 0),o.a([Object(a.Input)()],h.prototype,"allowDropFiles",void 0),o.a([Object(a.Input)()],h.prototype,"sorting",void 0),o.a([Object(a.Input)()],h.prototype,"rowStyle",void 0),o.a([Object(a.Input)()],h.prototype,"rowStyleClass",void 0),o.a([Object(a.Input)()],h.prototype,"loading",void 0),o.a([Object(a.Input)()],h.prototype,"paginationStrategy",void 0),o.a([Object(a.Input)()],h.prototype,"supportedPageSizes",void 0),o.a([Object(a.Input)()],h.prototype,"rowFilter",void 0),o.a([Object(a.Input)()],h.prototype,"imageResolver",void 0),o.a([Object(a.Input)()],h.prototype,"currentFolderId",void 0),o.a([Object(a.Input)()],h.prototype,"folderNode",void 0),o.a([Object(a.Input)()],h.prototype,"node",void 0),o.a([Object(a.Output)()],h.prototype,"nodeClick",void 0),o.a([Object(a.Output)()],h.prototype,"nodeDblClick",void 0),o.a([Object(a.Output)()],h.prototype,"folderChange",void 0),o.a([Object(a.Output)()],h.prototype,"preview",void 0),o.a([Object(a.Output)()],h.prototype,"ready",void 0),o.a([Object(a.Output)()],h.prototype,"error",void 0),o.a([Object(a.ViewChild)(r.DataTableComponent)],h.prototype,"dataTable",void 0),o.a([Object(a.HostListener)("contextmenu",["$event"])],h.prototype,"onShowContextMenu",null),h=f=o.a([Object(a.Component)({selector:"adf-document-list",styles:[n(474)],template:n(476),encapsulation:a.ViewEncapsulation.None})],h);var f},function(e,t){e.exports=d},function(e,t){e.exports=u},,,,,,,function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=n(3),l=function(){function e(e){this.apiService=e}return e.prototype.getRating=function(e,t){return s.Observable.fromPromise(this.apiService.getInstance().core.ratingsApi.getRating(e,t)).map(function(e){return e}).catch(this.handleError)},e.prototype.postRating=function(e,t,n){var i={id:t,myRating:n};return s.Observable.fromPromise(this.apiService.getInstance().core.ratingsApi.rate(e,i)).map(function(e){return e}).catch(this.handleError)},e.prototype.deleteRating=function(e,t){return s.Observable.fromPromise(this.apiService.getInstance().core.ratingsApi.removeRating(e,t)).map(function(e){return e}).catch(this.handleError)},e.prototype.handleError=function(e){return console.error(e),s.Observable.throw(e||"Server error")},e=i([r.Injectable(),o("design:paramtypes",["function"==typeof(t=void 0!==a.AlfrescoApiService&&a.AlfrescoApiService)&&t||Object])],e);var t}();t.RatingService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){e&&(this.type=e.type||null,this.action=e.action||null,this.permission=e.permission||null)}}t.PermissionModel=i},function(e,t){e.exports=p},function(e,t){e.exports=h},,,,,,,,,,,,function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e){this.disableWithNoPermission=!1,this.disabled=!1,e&&(this.icon=e.icon,this.title=e.title,this.handler=e.handler,this.execute=e.execute,this.target=e.target,this.permission=e.permission,this.disableWithNoPermission=e.disableWithNoPermission,this.disabled=e.disabled)}}();t.ContentActionModel=o;var r=function(e){function t(t){var n=e.call(this,t)||this;return n.target="document",n}return i(t,e),t}(o);t.DocumentActionModel=r;var a=function(e){function t(t){var n=e.call(this,t)||this;return n.target="folder",n}return i(t,e),t}(o);t.FolderActionModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DocumentActionsService",function(){return l});var i=n(1),o=n(0),r=(n.n(o),n(58)),a=(n.n(r),n(3)),s=(n.n(a),n(135));let l=class{constructor(e,t,n){this.nodeActionsService=e,this.documentListService=t,this.contentService=n,this.permissionEvent=new a.Subject,this.error=new a.Subject,this.success=new a.Subject,this.handlers={},this.setupActionHandlers()}getHandler(e){if(e){let t=e.toLowerCase();return this.handlers[t]||null}return null}setHandler(e,t){if(e){let n=e.toLowerCase();return this.handlers[n]=t,!0}return!1}canExecuteAction(e){return this.documentListService&&e&&!0===e.entry.isFile}setupActionHandlers(){this.handlers.download=this.download.bind(this),this.handlers.copy=this.copyNode.bind(this),this.handlers.move=this.moveNode.bind(this),this.handlers.delete=this.deleteNode.bind(this)}download(e){if(this.canExecuteAction(e)&&this.contentService){let t=document.createElement("a");return document.body.appendChild(t),t.setAttribute("download","download"),t.href=this.contentService.getContentUrl(e),t.click(),document.body.removeChild(t),r.Observable.of(!0)}return r.Observable.of(!1)}copyNode(e,t,n){const i=this.nodeActionsService.copyContent(e.entry,n);return this.prepareHandlers(i,"content","copy",t,n),i}moveNode(e,t,n){const i=this.nodeActionsService.moveContent(e.entry,n);return this.prepareHandlers(i,"content","move",t,n),i}prepareHandlers(e,t,n,i,o){e.subscribe(e=>{i&&"function"==typeof i.reload&&i.reload(),this.success.next(e)},this.error.next.bind(this.error))}deleteNode(e,t,n){let i;if(this.canExecuteAction(e))return this.contentService.hasPermission(e.entry,n)?((i=this.documentListService.deleteNode(e.entry.id)).subscribe(()=>{t&&"function"==typeof t.reload&&t.reload(),this.success.next(e.entry.id)}),i):(this.permissionEvent.next(new s.PermissionModel({type:"content",action:"delete",permission:n})),r.Observable.throw(new Error("No permission to delete")))}};l=i.a([Object(o.Injectable)()],l)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=n(3),l=n(135),c=n(152),d=n(153),u=function(){function e(e,t,n){this.nodeActionsService=e,this.documentListService=t,this.contentService=n,this.permissionEvent=new s.Subject,this.error=new s.Subject,this.success=new s.Subject,this.handlers={},this.setupActionHandlers()}return e.prototype.getHandler=function(e){if(e){var t=e.toLowerCase();return this.handlers[t]||null}return null},e.prototype.setHandler=function(e,t){if(e){var n=e.toLowerCase();return this.handlers[n]=t,!0}return!1},e.prototype.canExecuteAction=function(e){return this.documentListService&&e&&!0===e.entry.isFolder},e.prototype.setupActionHandlers=function(){this.handlers.copy=this.copyNode.bind(this),this.handlers.move=this.moveNode.bind(this),this.handlers.delete=this.deleteNode.bind(this)},e.prototype.copyNode=function(e,t,n){var i=this.nodeActionsService.copyFolder(e.entry,n);return this.prepareHandlers(i,"folder","copy",t,n),i},e.prototype.moveNode=function(e,t,n){var i=this.nodeActionsService.moveFolder(e.entry,n);return this.prepareHandlers(i,"folder","move",t,n),i},e.prototype.prepareHandlers=function(e,t,n,i,o){var r=this;e.subscribe(function(e){i&&"function"==typeof i.reload&&i.reload(),r.success.next(e)},this.error.next.bind(this.error))},e.prototype.deleteNode=function(e,t,n){var i,o=this;if(this.canExecuteAction(e))return this.contentService.hasPermission(e.entry,n)?((i=this.documentListService.deleteNode(e.entry.id)).subscribe(function(){t&&"function"==typeof t.reload&&t.reload(),o.success.next(e.entry.id)}),i):(this.permissionEvent.next(new l.PermissionModel({type:"folder",action:"delete",permission:n})),s.Observable.throw(new Error("No permission to delete")))},e=i([r.Injectable(),o("design:paramtypes",["function"==typeof(t=void 0!==d.NodeActionsService&&d.NodeActionsService)&&t||Object,"function"==typeof(n=void 0!==c.DocumentListService&&c.DocumentListService)&&n||Object,"function"==typeof(u=void 0!==a.AlfrescoContentService&&a.AlfrescoContentService)&&u||Object])],e);var t,n,u}();t.FolderActionsService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DocumentListService",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(3));n.n(r);let a=s=class{constructor(e,t,n,i,o){this.contentService=t,this.apiService=n,this.logService=i,this.thumbnailService=o}getNodesPromise(e,t){let n=s.ROOT_ID;t&&t.rootFolderId&&(n=t.rootFolderId);let i={includeSource:!0,include:["path","properties","allowableOperations"]};return e&&(i.relativePath=e),t&&(t.maxItems&&(i.maxItems=t.maxItems),t.skipCount&&(i.skipCount=t.skipCount)),this.apiService.getInstance().nodes.getNodeChildren(n,i)}deleteNode(e){return r.Observable.fromPromise(this.apiService.getInstance().nodes.deleteNode(e))}copyNode(e,t){return r.Observable.fromPromise(this.apiService.getInstance().nodes.copyNode(e,{targetParentId:t})).catch(e=>this.handleError(e))}moveNode(e,t){return r.Observable.fromPromise(this.apiService.getInstance().nodes.moveNode(e,{targetParentId:t})).catch(e=>this.handleError(e))}createFolder(e,t){return r.Observable.fromPromise(this.apiService.getInstance().nodes.createFolder(e,"/",t)).catch(e=>this.handleError(e))}getFolder(e,t){return r.Observable.fromPromise(this.getNodesPromise(e,t)).map(e=>e).catch(e=>this.handleError(e))}getFolderNode(e){return this.apiService.getInstance().nodes.getNodeInfo(e,{includeSource:!0,include:["path","properties","allowableOperations"]})}getDocumentThumbnailUrl(e){return this.thumbnailService.getDocumentThumbnailUrl(e)}getMimeTypeIcon(e){return this.thumbnailService.getMimeTypeIcon(e)}getDefaultMimeTypeIcon(){return this.thumbnailService.getDefaultMimeTypeIcon()}hasPermission(e,t){return this.contentService.hasPermission(e,t)}handleError(e){return this.logService.error(e),r.Observable.throw(e||"Server error")}};a.ROOT_ID="-root-",a=s=i.a([Object(o.Injectable)()],a);var s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"NodeActionsService",function(){return s});var i=n(1),o=n(0),r=(n.n(o),n(3)),a=(n.n(r),n(154));let s=class{constructor(e,t,n){this.dialog=e,this.documentListService=t,this.contentService=n}copyContent(e,t){return this.doFileOperation("copy","content",e,t)}copyFolder(e,t){return this.doFileOperation("copy","folder",e,t)}moveContent(e,t){return this.doFileOperation("move","content",e,t)}moveFolder(e,t){return this.doFileOperation("move","folder",e,t)}doFileOperation(e,t,n,i){const s=new r.Subject;if(this.contentService.hasPermission(n,i)){const i={title:`${e} ${n.name} to ...`,currentFolderId:n.parentId,rowFilter:this.rowFilter.bind(this,n.id),imageResolver:this.imageResolver.bind(this),select:new o.EventEmitter};return this.dialog.open(a.ContentNodeSelectorComponent,{data:i,panelClass:"adf-content-node-selector-dialog",width:"630px"}),i.select.subscribe(i=>{const o=i[0];this.documentListService[`${e}Node`].call(this.documentListService,n.id,o.id).subscribe(s.next.bind(s,`OPERATION.SUCCES.${t.toUpperCase()}.${e.toUpperCase()}`),s.error.bind(s)),this.dialog.closeAll()}),s}return s.error(new Error(JSON.stringify({error:{statusCode:403}}))),s}rowFilter(e,t){const n=t.node.entry;return n.id!==e&&!n.isFile}imageResolver(e,t){const n=e.node.entry;return this.contentService.hasPermission(n,"create")?null:this.documentListService.getMimeTypeIcon("disable/folder")}};s=i.a([Object(o.Injectable)()],s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ContentNodeSelectorComponent",function(){return l});var i=n(1),o=n(0),r=(n.n(o),n(4)),a=(n.n(r),n(2)),s=(n.n(a),n(125));let l=class{constructor(e,t,n,i){this.contentNodeSelectorService=e,this.contentService=t,this.containingDialog=i,this.nodes=null,this.searchTerm="",this.showingSearchResults=!1,this.loadingSearchResults=!1,this.inDialog=!1,this.chosenNode=null,this.folderIdToShow=null,this.skipCount=0,this.currentFolderId=null,this.rowFilter=null,this.imageResolver=null,this.pageSize=10,this.select=new o.EventEmitter,n&&(this.title=n.title,this.select=n.select,this.currentFolderId=n.currentFolderId,this.rowFilter=n.rowFilter,this.imageResolver=n.imageResolver),this.containingDialog&&(this.inDialog=!0)}ngOnInit(){this.folderIdToShow=this.currentFolderId,this.paginationStrategy=s.PaginationStrategy.Infinite}siteChanged(e){this.siteId=e.guid,this.updateResults()}search(e){this.searchTerm=e,this.updateResults()}needBreadcrumbs(){const e=!this.showingSearchResults,t=this.showingSearchResults&&this.chosenNode;return e||t}get breadcrumbFolderNode(){return this.showingSearchResults&&this.chosenNode?this.chosenNode:this.documentList.folderNode}clear(){this.searchTerm="",this.nodes=null,this.skipCount=0,this.chosenNode=null,this.showingSearchResults=!1,this.folderIdToShow=this.currentFolderId}updateResults(){0===this.searchTerm.length?this.folderIdToShow=this.siteId||this.currentFolderId:this.startNewSearch()}startNewSearch(){this.nodes=null,this.skipCount=0,this.chosenNode=null,this.folderIdToShow=null,this.querySearch()}getNextPageOfSearch(e){this.skipCount=e.skipCount,this.querySearch()}querySearch(){this.isSearchTermLongEnough()&&(this.loadingSearchResults=!0,this.contentNodeSelectorService.search(this.searchTerm,this.siteId,this.skipCount,this.pageSize).subscribe(this.showSearchResults.bind(this)))}showSearchResults(e){this.showingSearchResults=!0,this.loadingSearchResults=!1,this.nodes?this.documentList.data.loadPage(e,!0):this.nodes=e,this.pagination=e.list.pagination,this.highlight()}isSearchTermLongEnough(){return this.searchTerm.length>3}highlight(){setTimeout(()=>{this.highlighter.highlight(this.searchTerm)},0)}onNodeSelect(e){this.attemptNodeSelection(e.detail.node.entry)}onFolderChange(){this.showingSearchResults=!1}onFolderLoaded(){this.attemptNodeSelection(this.documentList.folderNode)}attemptNodeSelection(e){this.contentService.hasPermission(e,"create")?this.chosenNode=e:this.resetChosenNode()}resetChosenNode(){this.chosenNode=null}choose(){this.select.next([this.chosenNode])}close(){this.containingDialog.close()}};i.a([Object(o.Input)()],l.prototype,"title",void 0),i.a([Object(o.Input)()],l.prototype,"currentFolderId",void 0),i.a([Object(o.Input)()],l.prototype,"rowFilter",void 0),i.a([Object(o.Input)()],l.prototype,"imageResolver",void 0),i.a([Object(o.Input)()],l.prototype,"pageSize",void 0),i.a([Object(o.Output)()],l.prototype,"select",void 0),i.a([Object(o.ViewChild)(s.DocumentListComponent)],l.prototype,"documentList",void 0),i.a([Object(o.ViewChild)(a.HighlightDirective)],l.prototype,"highlighter",void 0),l=i.a([Object(o.Component)({selector:"adf-content-node-selector",styles:[n(477)],template:n(479),encapsulation:o.ViewEncapsulation.None}),i.b(2,Object(o.Optional)()),i.b(2,Object(o.Inject)(r.MAT_DIALOG_DATA)),i.b(3,Object(o.Optional)())],l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"BreadcrumbComponent",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(){this.folderNode=null,this.root=null,this.rootId=null,this.route=[],this.navigate=new o.EventEmitter}get hasRoot(){return!!this.root}ngOnChanges(e){if(e.folderNode){const t=e.folderNode.currentValue;this.route=this.parseRoute(t)}}parseRoute(e){if(e&&e.path){const t=(e.path.elements||[]).slice();t.push({id:e.id,name:e.name});const n=this.getElementPosition(t,this.rootId);return n>0&&t.splice(0,n),-1===n&&this.rootId&&(t[0].id=this.rootId),this.root&&(t[0].name=this.root),t}return[]}getElementPosition(e,t){let n=-1;return e&&e.length>0&&t&&(n=e.findIndex(e=>e.id===t)),n}onRoutePathClick(e,t){t&&t.preventDefault(),e&&(this.navigate.emit(e),this.target&&this.target.loadFolderByNodeId(e.id))}};i.a([Object(o.Input)()],r.prototype,"folderNode",void 0),i.a([Object(o.Input)()],r.prototype,"root",void 0),i.a([Object(o.Input)()],r.prototype,"rootId",void 0),i.a([Object(o.Input)()],r.prototype,"target",void 0),i.a([Object(o.Output)()],r.prototype,"navigate",void 0),r=i.a([Object(o.Component)({selector:"adf-breadcrumb",template:n(480),styles:[n(481)],encapsulation:o.ViewEncapsulation.None,host:{class:"adf-breadcrumb"}})],r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FileUploadingListComponent",function(){return s});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(3));n.n(a);let s=class{constructor(e,t,n,i){this.uploadService=e,this.nodesApi=t,this.notificationService=n,this.translateService=i,this.FileUploadStatus=r.FileUploadStatus,this.files=[]}cancelFile(e){this.uploadService.cancelUpload(e)}removeFile(e){this.deleteNode(e).subscribe(()=>{e.status===r.FileUploadStatus.Error&&this.notifyError(e),this.uploadService.cancelUpload(e)})}cancelAllFiles(){this.getUploadingFiles().forEach(e=>this.uploadService.cancelUpload(e));const e=this.files.filter(e=>e.status===r.FileUploadStatus.Complete).map(e=>this.deleteNode(e));a.Observable.forkJoin(...e).subscribe(e=>{const t=e.filter(e=>e.status===r.FileUploadStatus.Error);t.length&&this.notifyError(...t),this.uploadService.cancelUpload(...e)})}isUploadCompleted(){return!this.isUploadCancelled()&&Boolean(this.files.length)&&!this.files.some(({status:e})=>e===r.FileUploadStatus.Starting||e===r.FileUploadStatus.Progress||e===r.FileUploadStatus.Pending)}isUploadCancelled(){return!!this.files.length&&this.files.every(({status:e})=>e===r.FileUploadStatus.Aborted||e===r.FileUploadStatus.Cancelled||e===r.FileUploadStatus.Deleted)}deleteNode(e){const{id:t}=e.data.entry;return this.nodesApi.deleteNode(t,{permanent:!0}).map(()=>(e.status=r.FileUploadStatus.Deleted,e)).catch(t=>(e.status=r.FileUploadStatus.Error,a.Observable.of(e)))}notifyError(...e){let t=null;(t=1===e.length?this.translateService.get("FILE_UPLOAD.MESSAGES.REMOVE_FILE_ERROR",{fileName:e[0].name}):this.translateService.get("FILE_UPLOAD.MESSAGES.REMOVE_FILES_ERROR",{total:e.length})).subscribe(e=>this.notificationService.openSnackMessage(e,4e3))}getUploadingFiles(){return this.files.filter(e=>{if(e.status===r.FileUploadStatus.Pending||e.status===r.FileUploadStatus.Progress||e.status===r.FileUploadStatus.Starting)return e})}};i.a([Object(o.ContentChild)(o.TemplateRef)],s.prototype,"template",void 0),i.a([Object(o.Input)()],s.prototype,"files",void 0),s=i.a([Object(o.Component)({selector:"adf-file-uploading-list",template:n(493),styles:[n(494)]})],s)},function(e,t){e.exports=f},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(134));n.n(r);let a=class{constructor(e){this.ratingService=e,this.average=0,this.ratingType="fiveStar",this.changeVote=new o.EventEmitter,this.stars=[]}ngOnChanges(){let e=this.ratingService.getRating(this.nodeId,this.ratingType);return e.subscribe(e=>{e.entry.aggregate&&(this.average=e.entry.aggregate.average,this.calculateStars())}),e}calculateStars(){this.stars=[];for(let e=0;e<5;e++)e<this.average?this.stars.push({fill:!0}):this.stars.push({fill:!1});this.changeVote.emit(this.average)}updateVote(e){this.ratingService.postRating(this.nodeId,this.ratingType,e).subscribe(e=>{e.entry.aggregate&&this.average!==e.entry.aggregate.average&&(this.average=e.entry.aggregate.average,this.calculateStars())})}};i.a([Object(o.Input)()],a.prototype,"nodeId",void 0),i.a([Object(o.Output)()],a.prototype,"changeVote",void 0),a=i.a([Object(o.Component)({selector:"adf-rating",styles:[n(445)],template:n(447),providers:[r.RatingService],encapsulation:o.ViewEncapsulation.None})],a)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(134),s=function(){function e(e){this.ratingService=e,this.likesCounter=0,this.ratingType="likes",this.isLike=!1,this.changeVote=new r.EventEmitter}return e.prototype.ngOnChanges=function(){var e=this;this.clean();var t=this.ratingService.getRating(this.nodeId,this.ratingType);return t.subscribe(function(t){t.entry.aggregate&&(e.likesCounter=t.entry.aggregate.numberOfRatings,t.entry.ratedAt&&(e.isLike=!0))}),t},e.prototype.likeClick=function(){var e=this;this.isLike?this.ratingService.deleteRating(this.nodeId,this.ratingType).subscribe(function(){e.likesCounter-=1,e.isLike=!1}):this.ratingService.postRating(this.nodeId,this.ratingType,!0).subscribe(function(t){e.likesCounter=t.entry.aggregate.numberOfRatings,e.isLike=!0}),this.changeVote.emit(this.likesCounter)},e.prototype.clean=function(){this.isLike=!1,this.likesCounter=0},i([r.Input(),o("design:type",String)],e.prototype,"nodeId",void 0),i([r.Output(),o("design:type",Object)],e.prototype,"changeVote",void 0),e=i([r.Component({selector:"adf-like",styles:[n(448)],template:n(450),providers:[a.RatingService],encapsulation:r.ViewEncapsulation.None}),o("design:paramtypes",["function"==typeof(t=void 0!==a.RatingService&&a.RatingService)&&t||Object])],e);var t}();t.LikeComponent=s},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e,t){this.tagService=e,this.translateService=t,this.successAdd=new o.EventEmitter,this.error=new o.EventEmitter,this.result=new o.EventEmitter,this.disableAddTag=!0,this.tagService.refresh.subscribe(()=>{this.refreshTag()})}ngOnChanges(){return this.refreshTag()}refreshTag(){this.tagService.getTagsByNodeId(this.nodeId).subscribe(e=>{this.tagsEntries=e.list.entries,this.disableAddTag=!1,this.result.emit(this.tagsEntries)},()=>{this.tagsEntries=null,this.disableAddTag=!0,this.result.emit(this.tagsEntries)})}addTag(){this.searchTag(this.newTagName)?(this.translateService.get("TAG.MESSAGES.EXIST").subscribe(e=>{this.errorMsg=e}),this.error.emit(this.errorMsg)):this.tagService.addTag(this.nodeId,this.newTagName).subscribe(()=>{this.newTagName="",this.successAdd.emit(this.nodeId)})}searchTag(e){if(this.tagsEntries)return this.tagsEntries.find(t=>e===t.entry.tag)}cleanErrorMsg(){this.errorMsg=""}removeTag(e){this.tagService.removeTag(this.nodeId,e)}};i.a([Object(o.Input)()],r.prototype,"nodeId",void 0),i.a([Object(o.Output)()],r.prototype,"successAdd",void 0),i.a([Object(o.Output)()],r.prototype,"error",void 0),i.a([Object(o.Output)()],r.prototype,"result",void 0),r=i.a([Object(o.Component)({selector:"adf-tag-node-actions-list",template:n(454),styles:[n(455)],encapsulation:o.ViewEncapsulation.None})],r)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.tagService=e,this.result=new o.EventEmitter,this.tagService.refresh.subscribe(()=>{this.refreshTag()})}ngOnInit(){return this.refreshTag()}refreshTag(){this.tagService.getAllTheTags().subscribe(e=>{this.tagsEntries=e.list.entries,this.result.emit(this.tagsEntries)})}};i.a([Object(o.Output)()],r.prototype,"result",void 0),r=i.a([Object(o.Component)({selector:"adf-tag-list",template:n(457),styles:[n(458)],encapsulation:o.ViewEncapsulation.None})],r)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.tagService=e,this.results=new o.EventEmitter,this.tagService.refresh.subscribe(()=>{this.refreshTag()})}ngOnChanges(){return this.refreshTag()}refreshTag(){this.tagService.getTagsByNodeId(this.nodeId).subscribe(e=>{this.tagsEntries=e.list.entries,this.results.emit(this.tagsEntries)})}removeTag(e){this.tagService.removeTag(this.nodeId,e).subscribe(()=>{this.refreshTag()})}};i.a([Object(o.Input)()],r.prototype,"nodeId",void 0),i.a([Object(o.Output)()],r.prototype,"results",void 0),r=i.a([Object(o.Component)({selector:"adf-tag-node-list",template:n(460),styles:[n(461)],encapsulation:o.ViewEncapsulation.None})],r)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(3));n.n(r);let a=class{constructor(e,t){this.apiService=e,this.logService=t,this.refresh=new o.EventEmitter}getTagsByNodeId(e){return r.Observable.fromPromise(this.apiService.getInstance().core.tagsApi.getNodeTags(e)).catch(e=>this.handleError(e))}getAllTheTags(){return r.Observable.fromPromise(this.apiService.getInstance().core.tagsApi.getTags()).catch(e=>this.handleError(e))}addTag(e,t){let n=new(this.apiService.getInstance().core.TagBody);n.tag=t;let i=r.Observable.fromPromise(this.apiService.getInstance().core.tagsApi.addTag(e,n));return i.subscribe(e=>{this.refresh.emit(e)},e=>{this.handleError(e)}),i}removeTag(e,t){let n=r.Observable.fromPromise(this.apiService.getInstance().core.tagsApi.removeTag(e,t));return n.subscribe(e=>{this.refresh.emit(e)},e=>{this.handleError(e)}),n}handleError(e){return this.logService.error(e),r.Observable.throw(e||"Server error")}};i.a([Object(o.Output)()],a.prototype,"refresh",void 0),a=i.a([Object(o.Injectable)()],a)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=n(0),s=n(2),l=function(){function e(e,t){this.apiService=e,this.logService=t,this.showData=!0,this.contextRoot="alfresco",this.servicePath="service",this.contentType="TEXT",this.success=new a.EventEmitter,this.data=void 0,this.showError=!1}return e.prototype.ngOnChanges=function(e){var t=this;return this.showData&&this.clean(),new Promise(function(e,n){t.apiService.getInstance().webScript.executeWebScript("GET",t.scriptPath,t.scriptArgs,t.contextRoot,t.servicePath).then(function(n){t.data=n,t.showData&&"DATATABLE"===t.contentType&&(t.data=t.showDataAsDataTable(n)),t.success.emit(t.data),e()},function(e){t.logService.log("Error"+e),n()})})},e.prototype.showDataAsDataTable=function(e){try{e.schema||(e.schema=r.ObjectDataTableAdapter.generateSchema(e.data)),e.schema&&e.schema.length>0&&(this.data=new r.ObjectDataTableAdapter(e.data,e.schema))}catch(e){this.logService.error("error during the cast as datatable")}return null},e.prototype.clean=function(){this.data=void 0},e.prototype.isDataTableContent=function(){return"DATATABLE"===this.contentType},i([a.Input(),o("design:type",String)],e.prototype,"scriptPath",void 0),i([a.Input(),o("design:type",Object)],e.prototype,"scriptArgs",void 0),i([a.Input(),o("design:type",Boolean)],e.prototype,"showData",void 0),i([a.Input(),o("design:type",String)],e.prototype,"contextRoot",void 0),i([a.Input(),o("design:type",String)],e.prototype,"servicePath",void 0),i([a.Input(),o("design:type",String)],e.prototype,"contentType",void 0),i([a.Output(),o("design:type",Object)],e.prototype,"success",void 0),e=i([a.Component({selector:"adf-webscript-get",template:n(466)}),o("design:paramtypes",["function"==typeof(t=void 0!==s.AlfrescoApiService&&s.AlfrescoApiService)&&t||Object,"function"==typeof(l=void 0!==s.LogService&&s.LogService)&&l||Object])],e);var t,l}();t.WebscriptComponent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(9),r=(n.n(o),n(2)),a=(n.n(r),n(189));class s{constructor(e,t=[],n){this.documentListService=e,this.ERR_ROW_NOT_FOUND="Row not found",this.ERR_COL_NOT_FOUND="Column not found",this.thumbnails=!1,this.rows=[],this.columns=t||[],this.sorting=n}getRows(){return this.rows}setRows(e){this.rows=e||[],this.sort()}getColumns(){return this.columns}setColumns(e){this.columns=e||[]}getValue(e,t){if(!e)throw new Error(this.ERR_ROW_NOT_FOUND);if(!t)throw new Error(this.ERR_COL_NOT_FOUND);let n=e,i=e.getValue(t.key);if(void 0!==n.cache[t.key])return n.cache[t.key];if("date"===t.type)try{const e=this.formatDate(t,i);return n.cacheValue(t.key,e)}catch(e){return console.error(`Error parsing date ${i} to format ${t.format}`),"Error"}if("$thumbnail"===t.key){if(this.imageResolver){let n=this.imageResolver(e,t);if(n)return n}const n=e.node;if(n.entry.isFolder)return this.documentListService.getMimeTypeIcon("folder");if(n.entry.isFile&&this.thumbnails)return this.documentListService.getDocumentThumbnailUrl(n);if(n.entry.content){const e=n.entry.content.mimeType;if(e)return this.documentListService.getMimeTypeIcon(e)}return this.documentListService.getDefaultMimeTypeIcon()}if("image"===t.type&&this.imageResolver){let n=this.imageResolver(e,t);if(n)return n}return n.cacheValue(t.key,i)}formatDate(e,t){if("date"===e.type){const n=e.format||"medium";if("timeAgo"===n){return(new r.TimeAgoPipe).transform(t)}return new o.DatePipe("en-US").transform(t,n)}return t}getSorting(){return this.sorting}setSorting(e){this.sorting=e,this.sortRows(this.rows,this.sorting)}sort(e,t){let n=this.sorting||new i.DataSorting;e&&(n.key=e,n.direction=t||"asc"),this.setSorting(n)}setFilter(e){this.filter=e}setImageResolver(e){this.imageResolver=e}sortRows(e,t){const n={};t&&t.key&&e&&e.length>0&&((t.key.includes("sizeInBytes")||"name"===t.key)&&(n.numeric=!0),e.sort((e,i)=>{if(e.node.entry.isFolder!==i.node.entry.isFolder)return e.node.entry.isFolder?-1:1;let o=e.getValue(t.key);o=o?o instanceof Date?o.valueOf().toString():o.toString():"";let r=i.getValue(t.key);return r=r?r instanceof Date?r.valueOf().toString():r.toString():"","asc"===t.direction?o.localeCompare(r,void 0,n):r.localeCompare(o,void 0,n)}))}loadPage(e,t=!1){this.page=e;let n=[];if(e&&e.list){let t=e.list.entries;if(t&&t.length>0&&(n=t.map(e=>new a.ShareDataRow(e,this.documentListService,this.permissionsStyle)),this.filter&&(n=n.filter(this.filter)),this.columns&&this.columns.length>0)){let e=this.getSorting();if(e)this.sortRows(n,e);else{let e=this.columns.filter(e=>e.sortable);e.length>0?this.sort(e[0].key,"asc"):this.sort(this.columns[0].key,"asc")}}}this.rows=t?this.rows.concat(n):n}}t.ShareDataTableAdapter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);n.n(i);class o{constructor(e,t,n){if(this.obj=e,this.documentListService=t,this.permissionsStyle=n,this.cache={},this.isSelected=!1,this.cssClass="",!e)throw new Error(o.ERR_OBJECT_NOT_FOUND);this.isDropTarget=this.isFolderAndHasPermissionToUpload(e),n&&(this.cssClass=this.getPermissionClass(e))}get node(){return this.obj}getPermissionClass(e){let t="";return this.permissionsStyle.forEach(n=>{(this.applyPermissionStyleToFolder(e.entry,n)||this.applyPermissionStyleToFile(e.entry,n))&&this.documentListService.hasPermission(e.entry,n.permission)&&(t+=` ${n.css}`)}),t}applyPermissionStyleToFile(e,t){return t.isFile&&e.isFile}applyPermissionStyleToFolder(e,t){return t.isFolder&&e.isFolder}isFolderAndHasPermissionToUpload(e){return this.isFolder(e)&&this.documentListService.hasPermission(e.entry,"create")}isFolder(e){return e.entry&&e.entry.isFolder}cacheValue(e,t){return this.cache[e]=t,t}getValue(e){return void 0!==this.cache[e]?this.cache[e]:i.ObjectUtils.getValue(this.obj.entry,e)}hasValue(e){return void 0!==this.getValue(e)}}t.ShareDataRow=o,o.ERR_OBJECT_NOT_FOUND="Object source not found"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);n.n(i);class o extends i.BaseEvent{constructor(e){super(),this.value=e}}t.NodeEntityEvent=o;class r extends i.BaseEvent{constructor(e){super(),this.value=e}}t.NodeEntryEvent=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ContentColumnComponent",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e,t){this.list=e,this.logService=t,this.type="text",this.sortable=!1,this.title="",this.logService.log("ContentColumnComponent is deprecated starting with 1.7.0 and may be removed in future versions. Use DataColumnComponent instead.")}ngOnInit(){this.srTitle||"$thumbnail"!==this.key||(this.srTitle="Thumbnail")}ngAfterContentInit(){this.register()}register(){return!!this.list&&this.list.registerColumn(this)}};i.a([Object(o.Input)()],r.prototype,"key",void 0),i.a([Object(o.Input)()],r.prototype,"type",void 0),i.a([Object(o.Input)()],r.prototype,"format",void 0),i.a([Object(o.Input)()],r.prototype,"sortable",void 0),i.a([Object(o.Input)()],r.prototype,"title",void 0),i.a([Object(o.ContentChild)(o.TemplateRef)],r.prototype,"template",void 0),i.a([Object(o.Input)("sr-title")],r.prototype,"srTitle",void 0),i.a([Object(o.Input)("class")],r.prototype,"cssClass",void 0),r=i.a([Object(o.Component)({selector:"content-column",template:""})],r)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=n(125),l=function(){function e(e,t){this.documentList=e,this.logService=t,this.logService.log("ContentColumnListComponent is deprecated starting with 1.7.0 and may be removed in future versions. Use DataColumnListComponent instead.")}return e.prototype.registerColumn=function(e){if(this.documentList&&e){return this.documentList.data.getColumns().push(e),!0}return!1},e=i([r.Component({selector:"content-columns",template:""}),o("design:paramtypes",["function"==typeof(t=void 0!==s.DocumentListComponent&&s.DocumentListComponent)&&t||Object,"function"==typeof(n=void 0!==a.LogService&&a.LogService)&&n||Object])],e);var t,n}();t.ContentColumnListComponent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ContentActionComponent",function(){return l});var i=n(1),o=n(0),r=(n.n(o),n(150)),a=n(151),s=(n.n(a),n(149));n.n(s);let l=class{constructor(e,t,n){this.list=e,this.documentActions=t,this.folderActions=n,this.title="Action",this.disabled=!1,this.execute=new o.EventEmitter,this.permissionEvent=new o.EventEmitter,this.error=new o.EventEmitter,this.success=new o.EventEmitter,this.model=new s.ContentActionModel}ngOnInit(){this.model=new s.ContentActionModel({title:this.title,icon:this.icon,permission:this.permission,disableWithNoPermission:this.disableWithNoPermission,target:this.target,disabled:this.disabled}),this.handler&&(this.model.handler=this.getSystemHandler(this.target,this.handler)),this.execute&&(this.model.execute=(e=>{this.execute.emit({value:e})})),this.register()}register(){return!!this.list&&this.list.registerAction(this.model)}ngOnChanges(e){this.model.title=this.title}getSystemHandler(e,t){if(e){let n=e.toLowerCase();if("document"===n)return this.documentActions?(this.documentActions.permissionEvent.subscribe(e=>{this.permissionEvent.emit(e)}),this.documentActions.error.subscribe(e=>{this.error.emit(e)}),this.documentActions.success.subscribe(e=>{this.success.emit(e)}),this.documentActions.getHandler(t)):null;if("folder"===n)return this.folderActions?(this.folderActions.permissionEvent.subscribe(e=>{this.permissionEvent.emit(e)}),this.folderActions.error.subscribe(e=>{this.error.emit(e)}),this.folderActions.success.subscribe(e=>{this.success.emit(e)}),this.folderActions.getHandler(t)):null}return null}};i.a([Object(o.Input)()],l.prototype,"title",void 0),i.a([Object(o.Input)()],l.prototype,"icon",void 0),i.a([Object(o.Input)()],l.prototype,"handler",void 0),i.a([Object(o.Input)()],l.prototype,"target",void 0),i.a([Object(o.Input)()],l.prototype,"permission",void 0),i.a([Object(o.Input)()],l.prototype,"disableWithNoPermission",void 0),i.a([Object(o.Input)()],l.prototype,"disabled",void 0),i.a([Object(o.Output)()],l.prototype,"execute",void 0),i.a([Object(o.Output)()],l.prototype,"permissionEvent",void 0),i.a([Object(o.Output)()],l.prototype,"error",void 0),i.a([Object(o.Output)()],l.prototype,"success",void 0),l=i.a([Object(o.Component)({selector:"content-action",template:"",providers:[r.DocumentActionsService,a.FolderActionsService]})],l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ContentActionListComponent",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.documentList=e}registerAction(e){return!(!this.documentList||!e)&&(this.documentList.actions.push(e),!0)}};r=i.a([Object(o.Component)({selector:"content-actions",template:""})],r)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(125),s=function(){function e(e){this.documentList=e}return e.prototype.ngAfterContentInit=function(){this.documentList.emptyFolderTemplate=this.template,this.documentList.dataTable.noContentTemplate=this.template},i([r.ContentChild(r.TemplateRef),o("design:type",Object)],e.prototype,"template",void 0),e=i([r.Directive({selector:"empty-folder-content"}),o("design:paramtypes",["function"==typeof(t=void 0!==a.DocumentListComponent&&a.DocumentListComponent)&&t||Object])],e);var t}();t.EmptyFolderContentDirective=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"NoPermissionContentDirective",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.documentList=e}ngAfterContentInit(){this.documentList.noPermissionTemplate=this.template,this.documentList.dataTable.noPermissionTemplate=this.template}};i.a([Object(o.ContentChild)(o.TemplateRef)],r.prototype,"template",void 0),r=i.a([Object(o.Directive)({selector:"no-permission-content"})],r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DropdownSitesComponent",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(2));n.n(r);let a=class{constructor(e){this.sitesService=e,this.hideMyFiles=!1,this.change=new o.EventEmitter,this.MY_FILES_VALUE="default",this.siteList=[]}ngOnInit(){this.sitesService.getSites().subscribe(e=>{this.siteList=e},e=>{})}selectedSite(){let e;e=this.siteSelected===this.MY_FILES_VALUE?new r.SiteModel:this.siteList.find(e=>e.guid===this.siteSelected),this.change.emit(e)}};i.a([Object(o.Input)()],a.prototype,"hideMyFiles",void 0),i.a([Object(o.Output)()],a.prototype,"change",void 0),a=i.a([Object(o.Component)({selector:"adf-sites-dropdown",styles:[n(483)],template:n(485)})],a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(489);n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"UploadButtonComponent",function(){return l});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(3)),s=(n.n(a),n(135));let l=c=class{constructor(e,t,n,i,r){this.uploadService=e,this.translateService=t,this.logService=n,this.notificationService=i,this.apiService=r,this.showNotificationBar=!0,this.currentFolderPath="/",this.disableWithNoPermission=!1,this.disabled=!1,this.uploadFolders=!1,this.multipleFiles=!1,this.versioning=!1,this.acceptedFilesType="*",this.tooltip=null,this.rootFolderId="-root-",this.success=new o.EventEmitter,this.error=new o.EventEmitter,this.createFolder=new o.EventEmitter,this.permissionEvent=new o.EventEmitter,this.hasPermission=!1,this.permissionValue=new a.Subject}ngOnInit(){this.permissionValue.subscribe(e=>{this.hasPermission=e})}ngOnChanges(e){let t=e.rootFolderId;t&&t.currentValue&&this.checkPermission()}isButtonDisabled(){return this.isForceDisable()||this.isDisableWithNoPermission()}isForceDisable(){return!!this.disabled||void 0}isDisableWithNoPermission(){return!(this.hasPermission||!this.disableWithNoPermission)||void 0}onFilesAdded(e){let t=r.FileUtils.toFileArray(e.currentTarget.files);this.hasPermission?this.uploadFiles(t):this.permissionEvent.emit(new s.PermissionModel({type:"content",action:"upload",permission:"create"})),e.target.value=""}onDirectoryAdded(e){if(this.hasPermission){let t=r.FileUtils.toFileArray(e.currentTarget.files);this.uploadFiles(t)}else this.permissionEvent.emit(new s.PermissionModel({type:"content",action:"upload",permission:"create"}));e.target.value=""}uploadFiles(e){const t=e.map(this.createFileModel.bind(this)).filter(this.isFileAcceptable.bind(this)).filter(this.isFileSizeAcceptable.bind(this));t.length>0&&(this.uploadService.addToQueue(...t),this.uploadService.uploadFilesInTheQueue(this.success),this.showNotificationBar&&this.showUndoNotificationBar(t))}createFileModel(e){return new r.FileModel(e,{newVersion:this.versioning,parentId:this.rootFolderId,path:(e.webkitRelativePath||"").replace(/\/[^\/]*$/,"")})}isFileAcceptable(e){if("*"===this.acceptedFilesType)return!0;return-1!==this.acceptedFilesType.split(",").map(e=>e.replace(/^\./,"")).indexOf(e.extension)}isFileSizeAcceptable(e){let t=!0;return void 0!==this.maxFilesSize&&null!==this.maxFilesSize&&(this.maxFilesSize<=0||e.size>this.maxFilesSize)&&(t=!1,this.translateService.get("FILE_UPLOAD.MESSAGES.EXCEED_MAX_FILE_SIZE",{fileName:e.name}).subscribe(e=>{this.error.emit(e)})),t}showUndoNotificationBar(e){let t,n;t=this.translateService.get("FILE_UPLOAD.MESSAGES.PROGRESS"),n=this.translateService.get("FILE_UPLOAD.ACTION.UNDO"),this.notificationService.openSnackMessageAction(t.value,n.value,3e3).onAction().subscribe(()=>{this.uploadService.cancelUpload(...e)})}checkPermission(){this.rootFolderId&&this.getFolderNode(this.rootFolderId).subscribe(e=>this.permissionValue.next(this.hasCreatePermission(e)),e=>this.error.emit(e))}getFolderNode(e){return a.Observable.fromPromise(this.apiService.getInstance().nodes.getNodeInfo(e,{includeSource:!0,include:["allowableOperations"]})).catch(e=>this.handleError(e))}handleError(e){return this.logService.error(e),a.Observable.throw(e||"Server error")}hasCreatePermission(e){return!(!e||!e.allowableOperations)&&!!e.allowableOperations.find(e=>"create"===e)}};i.a([Object(o.Input)()],l.prototype,"showNotificationBar",void 0),i.a([Object(o.Input)()],l.prototype,"currentFolderPath",void 0),i.a([Object(o.Input)()],l.prototype,"disableWithNoPermission",void 0),i.a([Object(o.Input)()],l.prototype,"disabled",void 0),i.a([Object(o.Input)()],l.prototype,"uploadFolders",void 0),i.a([Object(o.Input)()],l.prototype,"multipleFiles",void 0),i.a([Object(o.Input)()],l.prototype,"versioning",void 0),i.a([Object(o.Input)()],l.prototype,"acceptedFilesType",void 0),i.a([Object(o.Input)()],l.prototype,"maxFilesSize",void 0),i.a([Object(o.Input)()],l.prototype,"staticTitle",void 0),i.a([Object(o.Input)()],l.prototype,"tooltip",void 0),i.a([Object(o.Input)()],l.prototype,"rootFolderId",void 0),i.a([Object(o.Output)()],l.prototype,"success",void 0),i.a([Object(o.Output)()],l.prototype,"error",void 0),i.a([Object(o.Output)()],l.prototype,"createFolder",void 0),i.a([Object(o.Output)()],l.prototype,"permissionEvent",void 0),l=c=i.a([Object(o.Component)({selector:"adf-upload-button",template:n(490),styles:[n(491)],providers:[{provide:r.EXTENDIBLE_COMPONENT,useExisting:Object(o.forwardRef)(()=>c)}],encapsulation:o.ViewEncapsulation.None})],l);var c},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=n(3),l=n(156),c=function(){function e(e,t){this.uploadService=e,this.changeDetecor=t,this.position="right",this.filesUploadingList=[],this.isDialogActive=!1,this.totalCompleted=0,this.totalErrors=0,this.isDialogMinimized=!1,this.isConfirmation=!1}return e.prototype.ngOnInit=function(){var e=this;this.listSubscription=this.uploadService.queueChanged.subscribe(function(t){e.filesUploadingList=t,e.filesUploadingList.length&&(e.isDialogActive=!0)}),this.counterSubscription=s.Observable.merge(this.uploadService.fileUploadComplete,this.uploadService.fileUploadDeleted).subscribe(function(t){e.totalCompleted=t.totalComplete,e.changeDetecor.detectChanges()}),this.errorSubscription=this.uploadService.fileUploadError.subscribe(function(t){e.totalErrors=t.totalError,e.changeDetecor.detectChanges()}),this.fileUploadSubscription=this.uploadService.fileUpload.subscribe(function(){e.changeDetecor.detectChanges()}),this.uploadService.fileDeleted.subscribe(function(t){if(e.filesUploadingList){var n=e.filesUploadingList.find(function(e){return e.data.entry.id===t});n&&(n.status=a.FileUploadStatus.Cancelled,e.changeDetecor.detectChanges())}})},e.prototype.toggleConfirmation=function(){this.isConfirmation=!this.isConfirmation,this.isDialogMinimized&&(this.isDialogMinimized=!1)},e.prototype.cancelAllUploads=function(){this.toggleConfirmation(),this.uploadList.cancelAllFiles()},e.prototype.toggleMinimized=function(){this.isDialogMinimized=!this.isDialogMinimized,this.changeDetecor.detectChanges()},e.prototype.close=function(){this.isConfirmation=!1,this.totalCompleted=0,this.totalErrors=0,this.filesUploadingList=[],this.isDialogActive=!1,this.isDialogMinimized=!1,this.uploadService.clearQueue(),this.changeDetecor.detectChanges()},e.prototype.ngOnDestroy=function(){this.uploadService.clearQueue(),this.listSubscription.unsubscribe(),this.counterSubscription.unsubscribe(),this.fileUploadSubscription.unsubscribe(),this.errorSubscription.unsubscribe()},i([r.ViewChild(l.FileUploadingListComponent),o("design:type","function"==typeof(t=void 0!==l.FileUploadingListComponent&&l.FileUploadingListComponent)&&t||Object)],e.prototype,"uploadList",void 0),i([r.Input(),o("design:type",String)],e.prototype,"position",void 0),e=i([r.Component({selector:"adf-file-uploading-dialog, file-uploading-dialog",template:n(496),styles:[n(497)]}),o("design:paramtypes",["function"==typeof(c=void 0!==a.UploadService&&a.UploadService)&&c||Object,"function"==typeof(d=void 0!==r.ChangeDetectorRef&&r.ChangeDetectorRef)&&d||Object])],e);var t,c,d}();t.FileUploadingDialogComponent=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"UploadDragAreaComponent",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(2));n.n(r);let a=s=class{constructor(e,t,n){this.uploadService=e,this.translateService=t,this.notificationService=n,this.showNotificationBar=!0,this.currentFolderPath="/",this.rootFolderId="-root-",this.disabled=!1,this.versioning=!1,this.success=new o.EventEmitter}set enabled(e){console.warn("Deprecated: enabled input property should not be used for UploadDragAreaComponent. Please use disabled instead."),this.disabled=!e}get enabled(){return console.warn("Deprecated: enabled input property should not be used for UploadDragAreaComponent. Please use disabled instead."),!this.disabled}onFilesDropped(e){if(!this.disabled&&e.length){const t=e.map(e=>new r.FileModel(e,{newVersion:this.versioning,path:"/",parentId:this.parentId||this.rootFolderId}));this.uploadService.addToQueue(...t),this.uploadService.uploadFilesInTheQueue(this.success);let n=this.uploadService.getQueue();this.showNotificationBar&&this.showUndoNotificationBar(n)}}onFilesEntityDropped(e){this.disabled||(e.file(t=>{const n=new r.FileModel(t,{newVersion:this.versioning,parentId:this.parentId||this.rootFolderId,path:e.fullPath.replace(e.name,"")});this.uploadService.addToQueue(n),this.uploadService.uploadFilesInTheQueue(this.success)}),this.showNotificationBar&&this.showUndoNotificationBar(e))}onFolderEntityDropped(e){!this.disabled&&e.isDirectory&&r.FileUtils.flattern(e).then(e=>{let t=e.map(e=>new r.FileModel(e.file,{newVersion:this.versioning,parentId:this.parentId||this.rootFolderId,path:e.relativeFolder}));if(this.uploadService.addToQueue(...t),this.showNotificationBar){let e=this.uploadService.getQueue();this.showUndoNotificationBar(e)}this.uploadService.uploadFilesInTheQueue(this.success)})}showUndoNotificationBar(e){let t,n;t=this.translateService.get("FILE_UPLOAD.MESSAGES.PROGRESS"),n=this.translateService.get("FILE_UPLOAD.ACTION.UNDO"),this.notificationService.openSnackMessageAction(t.value,n.value,3e3).onAction().subscribe(()=>{this.uploadService.cancelUpload(...e)})}showErrorNotificationBar(e){this.notificationService.openSnackMessage(e,3e3)}isDroppable(){return!this.disabled}onUploadFiles(e){e.stopPropagation(),e.preventDefault();if(this.hasCreatePermission(e.detail.data.obj.entry)){let t=e.detail.files;if(t&&t.length>0){let n=this.parentId||this.rootFolderId;e.detail.data&&e.detail.data.obj.entry.isFolder&&(n=e.detail.data.obj.entry.id||this.parentId||this.rootFolderId);const i=t.map(e=>new r.FileModel(e.file,{newVersion:this.versioning,path:e.relativeFolder,parentId:n}));this.uploadFiles(i)}}}uploadFiles(e){if(e.length){this.uploadService.addToQueue(...e),this.uploadService.uploadFilesInTheQueue(this.success);let t=this.uploadService.getQueue();this.showNotificationBar&&this.showUndoNotificationBar(t)}}hasCreatePermission(e){let t=!1;if(e&&e.allowableOperations){t=!!e.allowableOperations.find(e=>"create"===e)}return t}};i.a([Object(o.Input)()],a.prototype,"enabled",null),i.a([Object(o.Input)()],a.prototype,"showNotificationBar",void 0),i.a([Object(o.Input)()],a.prototype,"currentFolderPath",void 0),i.a([Object(o.Input)()],a.prototype,"rootFolderId",void 0),i.a([Object(o.Input)()],a.prototype,"disabled",void 0),i.a([Object(o.Input)()],a.prototype,"versioning",void 0),i.a([Object(o.Input)()],a.prototype,"parentId",void 0),i.a([Object(o.Output)()],a.prototype,"success",void 0),a=s=i.a([Object(o.Component)({selector:"adf-upload-drag-area",template:n(499),styles:[n(500)],providers:[{provide:r.EXTENDIBLE_COMPONENT,useExisting:Object(o.forwardRef)(()=>s)}],encapsulation:o.ViewEncapsulation.None})],a);var s},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=function(){function e(){this.cancel=new r.EventEmitter,this.remove=new r.EventEmitter,this.FileUploadStatus=a.FileUploadStatus}return e.prototype.onCancel=function(e){this.cancel.emit(e)},e.prototype.onRemove=function(e){this.remove.emit(e)},i([r.Input(),o("design:type","function"==typeof(t=void 0!==a.FileModel&&a.FileModel)&&t||Object)],e.prototype,"file",void 0),i([r.Output(),o("design:type","function"==typeof(s=void 0!==r.EventEmitter&&r.EventEmitter)&&s||Object)],e.prototype,"cancel",void 0),i([r.Output(),o("design:type","function"==typeof(l=void 0!==r.EventEmitter&&r.EventEmitter)&&l||Object)],e.prototype,"remove",void 0),e=i([r.Component({selector:"adf-file-uploading-list-row",template:n(502),styles:[n(503)]})],e);var t,s,l}();t.FileUploadingListRowComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FileDraggableDirective",function(){return a});var i=n(1),o=n(0),r=(n.n(o),n(2));n.n(r);let a=class{constructor(e,t){this.ngZone=t,this.enabled=!0,this.filesDropped=new o.EventEmitter,this.filesEntityDropped=new o.EventEmitter,this.folderEntityDropped=new o.EventEmitter,this.cssClassName="file-draggable__input-focus",this.element=e.nativeElement}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.element.addEventListener("dragenter",this.onDragEnter.bind(this)),this.element.addEventListener("dragover",this.onDragOver.bind(this)),this.element.addEventListener("dragleave",this.onDragLeave.bind(this)),this.element.addEventListener("drop",this.onDropFiles.bind(this))})}ngOnDestroy(){this.element.removeEventListener("dragenter",this.onDragEnter),this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("dragleave",this.onDragLeave),this.element.removeEventListener("drop",this.onDropFiles)}onDropFiles(e){if(this.enabled&&!e.defaultPrevented){this.preventDefault(e);let t=e.dataTransfer.items;if(t)for(let n=0;n<t.length;n++)if(void 0!==t[n].webkitGetAsEntry){let e=t[n].webkitGetAsEntry();e&&(e.isFile?this.filesEntityDropped.emit(e):e.isDirectory&&this.folderEntityDropped.emit(e))}else{let t=r.FileUtils.toFileArray(e.dataTransfer.files);this.filesDropped.emit(t)}else{let t=r.FileUtils.toFileArray(e.dataTransfer.files);this.filesDropped.emit(t)}this.element.classList.remove(this.cssClassName)}}onDragEnter(e){this.enabled&&!e.defaultPrevented&&(this.preventDefault(e),this.element.classList.add(this.cssClassName))}onDragLeave(e){this.enabled&&!e.defaultPrevented&&(this.preventDefault(e),this.element.classList.remove(this.cssClassName))}onDragOver(e){this.enabled&&!e.defaultPrevented&&(this.preventDefault(e),this.element.classList.add(this.cssClassName))}preventDefault(e){e.stopPropagation(),e.preventDefault()}};i.a([Object(o.Input)("file-draggable")],a.prototype,"enabled",void 0),i.a([Object(o.Output)()],a.prototype,"filesDropped",void 0),i.a([Object(o.Output)()],a.prototype,"filesEntityDropped",void 0),i.a([Object(o.Output)()],a.prototype,"folderEntityDropped",void 0),a=i.a([Object(o.Directive)({selector:"[file-draggable]"})],a)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=n(127),l=function(){function e(e,t,n){var i=this;this.searchService=e,this.changeDetectorRef=t,this._elementRef=n,this.displayWith=null,this.maxResults=20,this.resultSort=null,this.rootNodeId="-root-",this.resultType=null,this.searchTerm="",this.resultLoaded=new r.EventEmitter,this.error=new r.EventEmitter,this.showPanel=!1,this._isOpen=!1,this.keyPressedStream=new s.Subject,this._classList={},this.keyPressedStream.asObservable().debounceTime(200).subscribe(function(e){i.displaySearchResults(e)})}return Object.defineProperty(e.prototype,"classList",{set:function(e){var t=this;e&&e.length&&(e.split(" ").forEach(function(e){return t._classList[e.trim()]=!0}),this._elementRef.nativeElement.className="")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen&&this.showPanel},set:function(e){this._isOpen=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.setVisibility()},e.prototype.ngOnChanges=function(e){e.searchTerm&&(this.resetResults(),this.displaySearchResults(e.searchTerm.currentValue))},e.prototype.resetResults=function(){this.cleanResults(),this.setVisibility()},e.prototype.reload=function(){this.displaySearchResults(this.searchTerm)},e.prototype.cleanResults=function(){this.results&&(this.results={})},e.prototype.displaySearchResults=function(e){var t=this,n={include:["path","allowableOperations"],rootNodeId:this.rootNodeId,nodeType:this.resultType,maxItems:this.maxResults,orderBy:this.resultSort};null!==e&&""!==e&&(e+="*",this.searchService.getNodeQueryResults(e,n).subscribe(function(e){t.results=e,t.resultLoaded.emit(t.results),t.isOpen=!0,t.setVisibility()},function(e){400!==e.status&&(t.results=null,t.error.emit(e))}))},e.prototype.hidePanel=function(){this.isOpen&&(this._classList["adf-search-show"]=!1,this._classList["adf-search-hide"]=!0,this.isOpen=!1,this.changeDetectorRef.markForCheck())},e.prototype.setVisibility=function(){this.showPanel=!!this.results&&!!this.results.list,this._classList["adf-search-show"]=this.showPanel,this._classList["adf-search-hide"]=!this.showPanel,this.changeDetectorRef.markForCheck()},i([r.ViewChild("panel"),o("design:type","function"==typeof(t=void 0!==r.ElementRef&&r.ElementRef)&&t||Object)],e.prototype,"panel",void 0),i([r.ContentChild(r.TemplateRef),o("design:type","function"==typeof(l=void 0!==r.TemplateRef&&r.TemplateRef)&&l||Object)],e.prototype,"template",void 0),i([r.Input(),o("design:type",Object)],e.prototype,"displayWith",void 0),i([r.Input(),o("design:type",Number)],e.prototype,"maxResults",void 0),i([r.Input(),o("design:type",String)],e.prototype,"resultSort",void 0),i([r.Input(),o("design:type",String)],e.prototype,"rootNodeId",void 0),i([r.Input(),o("design:type",String)],e.prototype,"resultType",void 0),i([r.Input(),o("design:type",String)],e.prototype,"searchTerm",void 0),i([r.Input("class"),o("design:type",String),o("design:paramtypes",[String])],e.prototype,"classList",null),i([r.Output(),o("design:type","function"==typeof(c=void 0!==r.EventEmitter&&r.EventEmitter)&&c||Object)],e.prototype,"resultLoaded",void 0),i([r.Output(),o("design:type","function"==typeof(d=void 0!==r.EventEmitter&&r.EventEmitter)&&d||Object)],e.prototype,"error",void 0),e=i([r.Component({selector:"adf-search",template:n(523),styles:[n(524)],encapsulation:r.ViewEncapsulation.None,preserveWhitespaces:!1,changeDetection:r.ChangeDetectionStrategy.OnPush,exportAs:"searchAutocomplete",host:{class:"adf-search"}}),o("design:paramtypes",["function"==typeof(u=void 0!==a.SearchService&&a.SearchService)&&u||Object,"function"==typeof(p=void 0!==r.ChangeDetectorRef&&r.ChangeDetectorRef)&&p||Object,"function"==typeof(h=void 0!==r.ElementRef&&r.ElementRef)&&h||Object])],e);var t,l,c,d,u,p,h}();t.SearchComponent=l},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(1),o=n(137),r=(n.n(o),n(0)),a=(n.n(r),n(127));n.n(a);let s=class{constructor(e,t){this.authService=e,this.thumbnailService=t,this.expandable=!0,this.highlight=!1,this.inputType="text",this.autocomplete=!1,this.liveSearchEnabled=!0,this.liveSearchRoot="-root-",this.liveSearchResultType=null,this.liveSearchResultSort=null,this.liveSearchMaxResults=5,this.submit=new r.EventEmitter,this.searchChange=new r.EventEmitter,this.optionClicked=new r.EventEmitter,this.searchTerm="",this.toggleSearch=new a.Subject,this.focusSubject=new a.Subject,this.toggleSearch.asObservable().debounceTime(100).subscribe(()=>{this.expandable&&(this.subscriptAnimationState="inactive"===this.subscriptAnimationState?"active":"inactive","inactive"===this.subscriptAnimationState&&(this.searchTerm=""))})}ngOnInit(){this.subscriptAnimationState=this.expandable?"inactive":"no-animation",this.setupFocusEventHandlers()}ngOnDestroy(){this.focusSubject.unsubscribe(),this.toggleSearch.unsubscribe()}isLoggedIn(){return this.authService.isLoggedIn()}searchSubmit(e){this.submit.emit(e),this.toggleSearchBar()}inputChange(e){this.searchChange.emit(e)}getAutoComplete(){return this.autocomplete?"on":"off"}getMimeTypeIcon(e){let t;return e.entry.content&&e.entry.content.mimeType&&(t=e.entry.content.mimeType),e.entry.isFolder&&(t="folder"),this.thumbnailService.getMimeTypeIcon(t)}isSearchBarActive(){return"active"===this.subscriptAnimationState&&this.liveSearchEnabled}toggleSearchBar(){this.toggleSearch.next()}elementClicked(e){e.entry&&(this.optionClicked.next(e),this.toggleSearchBar())}onFocus(e){this.focusSubject.next(e)}onBlur(e){this.focusSubject.next(e)}activateToolbar(e){this.isSearchBarActive()||this.toggleSearchBar()}setupFocusEventHandlers(){this.focusSubject.asObservable().distinctUntilChanged().debounceTime(50).filter(e=>this.isSearchBarActive()&&("blur"===e.type||"focusout"===e.type)).subscribe(()=>{this.toggleSearchBar()})}};i.a([Object(r.Input)()],s.prototype,"expandable",void 0),i.a([Object(r.Input)()],s.prototype,"highlight",void 0),i.a([Object(r.Input)()],s.prototype,"inputType",void 0),i.a([Object(r.Input)()],s.prototype,"autocomplete",void 0),i.a([Object(r.Input)()],s.prototype,"liveSearchEnabled",void 0),i.a([Object(r.Input)()],s.prototype,"liveSearchRoot",void 0),i.a([Object(r.Input)()],s.prototype,"liveSearchResultType",void 0),i.a([Object(r.Input)()],s.prototype,"liveSearchResultSort",void 0),i.a([Object(r.Input)()],s.prototype,"liveSearchMaxResults",void 0),i.a([Object(r.Output)()],s.prototype,"submit",void 0),i.a([Object(r.Output)()],s.prototype,"searchChange",void 0),i.a([Object(r.Output)()],s.prototype,"optionClicked",void 0),s=i.a([Object(r.Component)({selector:"adf-search-control",template:n(526),styles:[n(527)],animations:[Object(o.trigger)("transitionMessages",[Object(o.state)("active",Object(o.style)({transform:"translateX(0%)"})),Object(o.state)("inactive",Object(o.style)({transform:"translateX(83%)",overflow:"hidden"})),Object(o.state)("no-animation",Object(o.style)({transform:"translateX(0%)",width:"100%"})),Object(o.transition)("inactive => active",Object(o.animate)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")),Object(o.transition)("active => inactive",Object(o.animate)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])]})],s)},function(e,t,n){"use strict";n.d(t,"d",function(){return h});var i=n(1),o=n(59),r=(n.n(o),n(0)),a=(n.n(r),n(6)),s=(n.n(a),n(157)),l=(n.n(s),n(58)),c=(n.n(l),n(529)),d=(n.n(c),n(530)),u=(n.n(d),n(127));n.n(u);t.a=48;t.b=256;const p={provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)(()=>h),multi:!0};t.c=p;let h=class{constructor(e,t,n,i){this.element=e,this.ngZone=t,this.changeDetectorRef=n,this.document=i,this._panelOpen=!1,this.escapeEventStream=new u.Subject,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnDestroy(){this.escapeEventStream.unsubscribe()}get panelOpen(){return this._panelOpen&&this.searchPanel.showPanel}openPanel(){this.searchPanel.isOpen=this._panelOpen=!0,this.closingActionsSubscription=this.subscribeToClosingActions()}closePanel(){this._panelOpen&&(this.closingActionsSubscription.unsubscribe(),this._panelOpen=!1,this.searchPanel.resetResults(),this.searchPanel.hidePanel(),this.changeDetectorRef.detectChanges())}get panelClosingActions(){return Object(d.merge)(this.escapeEventStream,this.outsideClickStream)}get outsideClickStream(){return this.document?Object(d.merge)(Object(c.fromEvent)(this.document,"click"),Object(c.fromEvent)(this.document,"touchend")).filter(e=>{const t=e.target;return this._panelOpen&&t!==this.element.nativeElement}):l.Observable.of(null)}writeValue(e){Promise.resolve(null).then(()=>this.setTriggerValue(e))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}handleKeydown(e){const t=e.keyCode;if(t===o.ESCAPE&&this.panelOpen)this.escapeEventStream.next(),e.stopPropagation();else if(t===o.ENTER)this.escapeEventStream.next(),e.preventDefault();else{(t===o.UP_ARROW||t===o.DOWN_ARROW)&&(this.panelOpen||this.openPanel())}}handleInput(e){if(document.activeElement===e.target){let t=e.target.value;this.onChange(t),t.length>=3?(this.searchPanel.keyPressedStream.next(t),this.openPanel()):this.searchPanel.resetResults()}}isPanelOptionClicked(e){let t=!1;if(e){let n=e.target;t=!this.isNoResultOption(e)&&!!this.searchPanel.panel&&!!this.searchPanel.panel.nativeElement.contains(n)}return t}isNoResultOption(e){return!this.searchPanel.results.list||0===this.searchPanel.results.list.entries.length}subscribeToClosingActions(){const e=this.ngZone.onStable.asObservable(),t=this.searchPanel.keyPressedStream.asObservable();return Object(d.merge)(e,t).switchMap(()=>(this.searchPanel.setVisibility(),this.panelClosingActions)).first().subscribe(e=>this.setValueAndClose(e))}setTriggerValue(e){const t=this.searchPanel&&this.searchPanel.displayWith?this.searchPanel.displayWith(e):e,n=null!=t?t:"";this.element.nativeElement.value=n}setValueAndClose(e){this.isPanelOptionClicked(e)&&(this.setTriggerValue(e.target.textContent.trim()),this.onChange(e.target.textContent.trim()),this.element.nativeElement.focus()),this.closePanel()}};i.a([Object(r.Input)("searchAutocomplete")],h.prototype,"searchPanel",void 0),h=i.a([Object(r.Directive)({selector:"input[searchAutocomplete], textarea[searchAutocomplete]",host:{role:"combobox",autocomplete:"off","aria-autocomplete":"list","[attr.aria-expanded]":"panelOpen.toString()","[attr.aria-owns]":"autocomplete?.id","(blur)":"onTouched()","(input)":"handleInput($event)","(keydown)":"handleKeydown($event)"},providers:[p]}),i.b(3,Object(r.Optional)()),i.b(3,Object(r.Inject)(s.DOCUMENT))],h)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(443);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var r=n(452);n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(464);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);var s=n(468);for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);var l=n(470);for(var o in l)"default"!==o&&function(e){n.d(t,e,function(){return l[e]})}(o);var c=n(198);for(var o in c)"default"!==o&&function(e){n.d(t,e,function(){return c[e]})}(o);var d=n(521);n.n(d);for(var o in d)"default"!==o&&function(e){n.d(t,e,function(){return d[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(444);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(181);n.d(t,"RatingComponent",function(){return i.a});var o=n(182);n.n(o);for(var r in o)["RatingComponent","default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return o[e]})}(r);var a=n(451);n.d(t,"SocialModule",function(){return a.a})},function(e,t,n){var i=n(446);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-rating-container {\n  overflow: hidden;\n  width: 100%; }\n  .adf-rating-container .adf-rating-star {\n    float: left;\n    transition: all .3s;\n    padding: 1px;\n    cursor: pointer; }\n    .adf-rating-container .adf-rating-star .mat-list-item-content {\n      padding: 0 2px !important; }\n  .adf-rating-container .adf-colored-star {\n    color: #ffe944; }\n  .adf-rating-container .adf-grey-star {\n    color: #808080; }\n  .adf-rating-container .adf-stars-container {\n    padding: 0 !important;\n    margin: 0 !important;\n    display: inline-block; }\n  .adf-rating-container .adf-rating-star:hover {\n    transform: rotate(13deg) scale(1.2); }\n"},function(e,t){e.exports='<mat-list id="adf-rating-container" class="adf-rating-container">\n    <mat-list-item class="adf-rating-star" *ngFor="let currentRate of stars; let idx = index">\n            <span id="adf-rate-{{idx}}">\n                <mat-icon id="adf-grey-star-{{idx}}" *ngIf="currentRate.fill" class="adf-colored-star"\n                         (click)="updateVote(idx + 1)">star_rate\n                </mat-icon>\n                <mat-icon id="adf-colored-star-{{idx}}" *ngIf="!currentRate.fill" class="adf-grey-star"\n                         (click)="updateVote(idx + 1)">star_border\n                </mat-icon>\n            </span>\n    </mat-list-item>\n</mat-list>\n'},function(e,t,n){var i=n(449);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-like-container {\n  overflow: hidden;\n  width: 100%; }\n  .adf-like-container .adf-like {\n    padding: 5px;\n    cursor: pointer;\n    float: left;\n    margin: 5px 0px 5px 5px; }\n  .adf-like-container .adf-like-select {\n    cursor: pointer;\n    color: #2196f3; }\n  .adf-like-container .adf-like-select:hover {\n    cursor: pointer;\n    color: #808080; }\n  .adf-like-container .adf-like-grey {\n    cursor: pointer;\n    color: #808080; }\n  .adf-like-container .adf-like-grey:hover {\n    cursor: pointer;\n    color: #2196f3; }\n  .adf-like-container .adf-like-counter {\n    float: left;\n    padding: 13px 0 0 0; }\n  .adf-like-container .adf-left {\n    float: left;\n    padding: 13px 0 0 4px; }\n"},function(e,t){e.exports='<div id="adf-like-container" class="adf-like-container">\n    <div class="adf-like">\n        <span id="adf-like-{{nodeId}}" [ngClass]="{\'adf-like-select\': isLike ,\'adf-like-grey\': !isLike  }"\n              (click)="likeClick()">\n            <mat-icon>thumb_up</mat-icon>\n        </span>\n    </div>\n    <div id="adf-like-counter" class="adf-like-counter">{{likesCounter}}</div>\n    <div class="adf-left" *ngIf="likesCounter<=1">Like</div>\n    <div class="adf-left" *ngIf="likesCounter>1">Likes</div>\n</div>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(57)),s=n(134),l=(n.n(s),n(182)),c=(n.n(l),n(181));let d=class{};d=i.a([Object(o.NgModule)({imports:[r.CoreModule,a.MaterialModule],exports:[c.a,l.LikeComponent],declarations:[c.a,l.LikeComponent],providers:[s.RatingService]})],d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(453))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(183);n.d(t,"TagActionsComponent",function(){return i.a});var o=n(184);n.d(t,"TagListComponent",function(){return o.a});var r=n(185);n.d(t,"TagNodeListComponent",function(){return r.a});var a=n(463);n.d(t,"TagModule",function(){return a.a})},function(e,t){e.exports='<mat-list>\n    <mat-list-item *ngFor="let currentEntry of tagsEntries; let idx = index">\n        <div class="adf-tag-actions-container" id="tag_delete_{{idx}}" (click)="removeTag(currentEntry.entry.id)">\n            <div class="adf-tag-actions-delete-text" id="tag_name_{{idx}}">\n                {{currentEntry.entry.tag}}\n            </div>\n            <mat-icon class="adf-tag-actions-delete-icon">delete</mat-icon>\n        </div>\n    </mat-list-item>\n</mat-list>\n<table class="adf-full-width" cellspacing="0">\n    <tr>\n        <td>\n            <mat-form-field class="adf-full-width">\n                <input matInput placeholder="{{\'TAG.LABEL.NEWTAG\' | translate }}"\n                       type="text"\n                       (keypress)="cleanErrorMsg()"\n                       [(ngModel)]="newTagName"\n                       id="new-tag-text"/>\n                <mat-hint *ngIf="error" [ngStyle]="{\'color\': \'red\'}" align="start">{{errorMsg}}</mat-hint>\n            </mat-form-field>\n        </td>\n        <td>\n            <button class="adf-full-width" color="primary" id="add-tag" (click)="addTag()" [disabled]="disableAddTag"\n                    mat-raised-button>\n                {{\'TAG.BUTTON.ADD\' | translate }}\n            </button>\n        </td>\n    </tr>\n</table>\n'},function(e,t,n){var i=n(456);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-full-width {\n  width: 100%; }\n\n.adf-tag-actions-delete-icon {\n  float: right;\n  cursor: pointer; }\n\n.adf-tag-actions-delete-text {\n  font-size: 16px;\n  float: left; }\n\n.adf-tag-actions-container {\n  padding: 8px 0 8px 0;\n  height: 20px; }\n"},function(e,t){e.exports='<mat-list>\n    <mat-list-item *ngFor="let currentEntry of tagsEntries; let idx = index">\n        <div class="adf-list-tag" id="tag_name_{{idx}}">{{currentEntry.entry.tag}}</div>\n    </mat-list-item>\n</mat-list>\n'},function(e,t,n){var i=n(459);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-list-tag {\n  padding: 16px;\n  font-size: 16px; }\n"},function(e,t){e.exports='<mat-chip-list>\n    <mat-chip class="adf-tag-chips adf-primary-background-color" *ngFor="let currentEntry of tagsEntries; let idx = index">\n        <span id="tag_name_{{idx}}">{{currentEntry.entry.tag}}</span>\n        <button class="adf-tag-chips-delete" id="tag_delete_{{idx}}" type="button" (click)="removeTag(currentEntry.entry.id)">\n            <mat-icon class="adf-tag-chips-delete-icon adf-primary-contrast-text-color" matChipRemove>cancel</mat-icon>\n        </button>\n    </mat-chip>\n</mat-chip-list>\n'},function(e,t,n){var i=n(462);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-tag-chips-delete {\n  overflow: visible;\n  cursor: pointer;\n  height: 17px;\n  width: 20px;\n  float: right;\n  border: 0;\n  background: none;\n  padding: 0;\n  margin: -1px 0px 0px 10px; }\n\n.adf-tag-chips-delete-icon {\n  font-size: 20px;\n  background-repeat: no-repeat;\n  display: inline-block;\n  fill: currentColor;\n  height: 20px;\n  width: 20px; }\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(1),o=n(0),r=(n.n(o),n(2)),a=(n.n(r),n(57)),s=n(186),l=n(183),c=n(184),d=n(185);let u=class{};u=i.a([Object(o.NgModule)({imports:[r.CoreModule,a.MaterialModule],exports:[l.a,c.a,d.a],declarations:[l.a,c.a,d.a],providers:[s.a,{provide:r.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-tag",source:"assets/ng2-alfresco-tag"}}]})],u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(465);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(187);n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var r=n(467);n.d(t,"WebScriptModule",function(){return r.a})},function(e,t){e.exports='<div *ngIf="showData">\n    <div *ngIf="contentType === \'JSON\'" id="webscript-data-JSON">{{data | json}}</div>\n    <div *ngIf="contentType === \'HTML\'" id="webscript-data-HTML" [innerHTML]="data"></div>\n    <div *ngIf="contentType === \'TEXT\'" id="webscript-data-TEXT">{{data}}</div>\n    <div *ngIf="isDataTableContent()">\n        <adf-datatable id="webscript-datatable-wrapper" [data]="data"></adf-datatable>\n        <div>\n            <div *ngIf="showError" id="error">{{\'WEBSCRIPT.ERROR\' | translate: {\n                data: data,\n                contentType: contentType\n                }\n                }}\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(1),o=n(11),r=n(0),a=(n.n(r),n(2)),s=(n.n(a),n(57)),l=n(187);n.n(l);let c=class{};c=i.a([Object(r.NgModule)({imports:[a.CoreModule,s.MaterialModule,o.DataTableModule],exports:[l.WebscriptComponent],declarations:[l.WebscriptComponent],providers:[{provide:a.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-webscript",source:"assets/ng2-alfresco-webscript"}}]})],c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(469);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(134);n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var r=n(186);n.d(t,"TagService",function(){return r.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(471);n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(125)),i(n(190)),i(n(191)),i(n(192)),i(n(193)),i(n(194)),i(n(154)),i(n(195)),i(n(196)),i(n(155)),i(n(197)),i(n(188)),i(n(189)),i(n(151)),i(n(150)),i(n(152)),i(n(153)),i(n(149)),i(n(486)),i(n(135)),i(n(487)),i(n(488))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presetsDefaultModel={"-trashcan-":[{key:"$thumbnail",type:"image",srTitle:"ADF-DOCUMENT-LIST.LAYOUT.THUMBNAIL",sortable:!1},{key:"name",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.NAME",cssClass:"full-width ellipsis-cell",sortable:!0},{key:"path",type:"location",title:"ADF-DOCUMENT-LIST.LAYOUT.LOCATION",format:this.locationFormat,sortable:!0},{key:"content.sizeInBytes",type:"fileSize",title:"ADF-DOCUMENT-LIST.LAYOUT.SIZE",sortable:!0},{key:"archivedAt",type:"date",title:"ADF-DOCUMENT-LIST.LAYOUT.DELETED_ON",format:"timeAgo",sortable:!0},{key:"archivedByUser.displayName",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.DELETED_BY",sortable:!0}],"-sites-":[{key:"$thumbnail",type:"image",srTitle:"ADF-DOCUMENT-LIST.LAYOUT.THUMBNAIL",sortable:!1},{key:"title",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.NAME",cssClass:"full-width ellipsis-cell",sortable:!0},{key:"visibility",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.STATUS",sortable:!0}],"-mysites-":[{key:"$thumbnail",type:"image",srTitle:"ADF-DOCUMENT-LIST.LAYOUT.THUMBNAIL",sortable:!1},{key:"title",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.NAME",cssClass:"full-width ellipsis-cell",sortable:!0},{key:"visibility",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.STATUS",sortable:!0}],"-favorites-":[{key:"$thumbnail",type:"image",srTitle:"ADF-DOCUMENT-LIST.LAYOUT.THUMBNAIL",sortable:!1},{key:"name",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.NAME",cssClass:"full-width ellipsis-cell",sortable:!0},{key:"path",type:"location",title:"ADF-DOCUMENT-LIST.LAYOUT.LOCATION",format:this.locationFormat,sortable:!0},{key:"content.sizeInBytes",type:"fileSize",title:"ADF-DOCUMENT-LIST.LAYOUT.SIZE",sortable:!0},{key:"modifiedAt",type:"date",title:"ADF-DOCUMENT-LIST.LAYOUT.MODIFIED_ON",format:"timeAgo",sortable:!0},{key:"modifiedByUser.displayName",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.MODIFIED_BY",sortable:!0}],"-recent-":[{key:"$thumbnail",type:"image",srTitle:"ADF-DOCUMENT-LIST.LAYOUT.THUMBNAIL",sortable:!1},{key:"name",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.NAME",cssClass:"full-width ellipsis-cell",sortable:!0},{key:"path",type:"location",title:"ADF-DOCUMENT-LIST.LAYOUT.LOCATION",cssClass:"ellipsis-cell",format:this.locationFormat,sortable:!0},{key:"content.sizeInBytes",type:"fileSize",title:"ADF-DOCUMENT-LIST.LAYOUT.SIZE",sortable:!0},{key:"modifiedAt",type:"date",title:"ADF-DOCUMENT-LIST.LAYOUT.MODIFIED_ON",format:"timeAgo",sortable:!0}],"-sharedlinks-":[{key:"$thumbnail",type:"image",srTitle:"ADF-DOCUMENT-LIST.LAYOUT.THUMBNAIL",sortable:!1},{key:"name",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.NAME",cssClass:"full-width ellipsis-cell",sortable:!0},{key:"path",type:"location",title:"ADF-DOCUMENT-LIST.LAYOUT.LOCATION",cssClass:"ellipsis-cell",format:this.locationFormat,sortable:!0},{key:"content.sizeInBytes",type:"fileSize",title:"ADF-DOCUMENT-LIST.LAYOUT.SIZE",sortable:!0},{key:"modifiedAt",type:"date",title:"ADF-DOCUMENT-LIST.LAYOUT.MODIFIED_ON",format:"timeAgo",sortable:!0},{key:"modifiedByUser.displayName",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.MODIFIED_BY",sortable:!0},{key:"sharedByUser.displayName",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.SHARED_BY",sortable:!0}],default:[{key:"$thumbnail",type:"image",srTitle:"ADF-DOCUMENT-LIST.LAYOUT.THUMBNAIL",sortable:!1},{key:"name",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.NAME",cssClass:"full-width ellipsis-cell",sortable:!0},{key:"content.sizeInBytes",type:"fileSize",title:"ADF-DOCUMENT-LIST.LAYOUT.SIZE",sortable:!0},{key:"modifiedAt",type:"date",title:"ADF-DOCUMENT-LIST.LAYOUT.MODIFIED_ON",format:"timeAgo",sortable:!0},{key:"modifiedByUser.displayName",type:"text",title:"ADF-DOCUMENT-LIST.LAYOUT.MODIFIED_BY",sortable:!0}]}},function(e,t,n){e.exports=n.p+"content-services/document-list/assets/images/empty_doc_lib.a89c064e4edfa54d2e347bf594947219.svg"},function(e,t,n){var i=n(475);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports='<adf-datatable\n    [selectionMode]="selectionMode"\n    [data]="data"\n    [actions]="contentActions"\n    [actionsPosition]="contentActionsPosition"\n    [multiselect]="multiselect"\n    [allowDropFiles]="allowDropFiles"\n    [contextMenu]="contextMenuActions"\n    [rowStyle]="rowStyle"\n    [rowStyleClass]="rowStyleClass"\n    [loading]="loading"\n    [noPermission]="noPermission"\n    [showHeader]="!isEmpty()"\n    (showRowContextMenu)="onShowRowContextMenu($event)"\n    (showRowActionsMenu)="onShowRowActionsMenu($event)"\n    (executeRowAction)="onExecuteRowAction($event)"\n    (rowClick)="onNodeClick($event.value?.node)"\n    (rowDblClick)="onNodeDblClick($event.value?.node)"\n    (row-select)="onNodeSelect($event.detail)"\n    (row-unselect)="onNodeUnselect($event.detail)">\n\n    <div *ngIf="!isEmptyTemplateDefined()">\n        <no-content-template>\n            <ng-template>\n                <adf-empty-list>\n                    <div class="adf-empty-list_template adf-empty-folder">\n                        <div class="adf-empty-folder-this-space-is-empty">{{\'ADF-DOCUMENT-LIST.EMPTY.HEADER\' | translate}}</div>\n                        <div fxHide.lt-md="true" class="adf-empty-folder-drag-drop">{{ \'ADF-DATATABLE.EMPTY.DRAG-AND-DROP.TITLE\' | translate }}</div>\n                        <div fxHide.lt-md="true" class="adf-empty-folder-any-files-here-to-add">{{ \'ADF-DATATABLE.EMPTY.DRAG-AND-DROP.SUBTITLE\' | translate }}</div>\n                        <img class="adf-empty-folder-image" [src]="emptyFolderImageUrl">\n                    </div>\n                    \x3c!-- <div adf-empty-list-header class="adf-empty-list-header"> {{\'ADF-DOCUMENT-LIST.EMPTY.HEADER\' | translate}} </div> --\x3e\n                </adf-empty-list>\n            </ng-template>\n        </no-content-template>\n    </div>\n\n    <div *ngIf="!isNoPermissionTemplateDefined()">\n        <no-permission-template>\n            <ng-template>\n                <div class="adf-no-permission__template">\n                    <mat-icon>ic_error</mat-icon>\n                    <p class="adf-no-permission__template--text">{{ \'ADF-DOCUMENT-LIST.NO_PERMISSION\' | translate }}</p>\n                </div>\n            </ng-template>\n        </no-permission-template>\n    </div>\n\n    <div>\n        <loading-content-template>\n            <ng-template>\n                <div class="adf-document-list-loading-container">\n                    <mat-progress-spinner\n                        id="adf-document-list-loading"\n                        class="adf-document-list-loading-margin"\n                        [color]="\'primary\'"\n                        [mode]="\'indeterminate\'">\n                    </mat-progress-spinner>\n                </div>\n            </ng-template>\n        </loading-content-template>\n    </div>\n</adf-datatable>\n\n<ng-container *ngIf="isPaginationEnabled()">\n    <adf-pagination\n        *ngIf="isPaginationNeeded()"\n        class="adf-documentlist-pagination"\n        (changePageSize)="onChangePageSize($event)"\n        (changePageNumber)="onChangePageNumber($event)"\n        (nextPage)="onNextPage($event)"\n        (prevPage)="onPrevPage($event)"\n        [pagination]="pagination"\n        [supportedPageSizes]="supportedPageSizes">\n    </adf-pagination>\n\n    <adf-infinite-pagination\n        *ngIf="!isPaginationNeeded()"\n        [pagination]="pagination"\n        [pageSize]="pageSize"\n        [loading]="infiniteLoading"\n        (loadMore)="loadNextBatch($event)">\n            {{ \'ADF-DOCUMENT-LIST.LAYOUT.LOAD_MORE\' | translate }}\n    </adf-infinite-pagination>\n</ng-container>\n'},function(e,t,n){var i=n(478);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports='<header matDialogTitle\n    class="adf-content-node-selector-title"\n    data-automation-id="content-node-selector-title">{{title}}</header>\n\n<section matDialogContent\n    class="adf-content-node-selector-content"\n    (node-select)="onNodeSelect($event)">\n\n    <mat-form-field floatPlaceholder="never" class="adf-content-node-selector-content-input">\n        <input #searchInput\n            matInput\n            placeholder="Search"\n            (input)="search(searchInput.value)"\n            [value]="searchTerm"\n            data-automation-id="content-node-selector-search-input">\n\n        <mat-icon *ngIf="searchTerm.length > 0"\n                matSuffix (click)="clear()"\n                class="adf-content-node-selector-content-input-icon"\n                data-automation-id="content-node-selector-search-clear">clear</mat-icon>\n\n        <mat-icon *ngIf="searchTerm.length === 0"\n            matSuffix\n            class="adf-content-node-selector-content-input-icon"\n            data-automation-id="content-node-selector-search-icon">search</mat-icon>\n\n    </mat-form-field>\n\n    <adf-sites-dropdown\n        (change)="siteChanged($event)"\n        data-automation-id="content-node-selector-sites-combo"></adf-sites-dropdown>\n\n    <adf-toolbar>\n        <adf-toolbar-title>\n            <adf-dropdown-breadcrumb *ngIf="needBreadcrumbs()"\n                class="adf-content-node-selector-content-breadcrumb"\n                [target]="documentList"\n                [folderNode]="breadcrumbFolderNode"\n                data-automation-id="content-node-selector-content-breadcrumb">\n            </adf-dropdown-breadcrumb>\n        </adf-toolbar-title>\n    </adf-toolbar>\n\n    <div class="adf-content-node-selector-content-list" data-automation-id="content-node-selector-content-list">\n        <adf-document-list\n                    #documentList\n                    adf-highlight\n                    adf-highlight-selector=".cell-value adf-datatable-cell .adf-datatable-cell-value"\n                    [node]="nodes"\n                    [rowFilter]="rowFilter"\n                    [imageResolver]="imageResolver"\n                    [currentFolderId]="folderIdToShow"\n                    selectionMode="single"\n                    [contextMenuActions]="false"\n                    [contentActions]="false"\n                    [allowDropFiles]="false"\n                    [enablePagination]="!showingSearchResults"\n                    paginationStrategy="{{paginationStrategy}}"\n                    [pageSize]="pageSize"\n                    (folderChange)="onFolderChange()"\n                    (ready)="onFolderLoaded()"\n                    data-automation-id="content-node-selector-document-list">\n            <empty-folder-content>\n                <ng-template>\n                    <div>{{ \'NODE_SELECTOR.NO_RESULTS\' | translate }}</div>\n                </ng-template>\n            </empty-folder-content>\n        </adf-document-list>\n\n        <adf-infinite-pagination\n            *ngIf="showingSearchResults && isSearchTermLongEnough()"\n            [pagination]="pagination"\n            [pageSize]="pageSize"\n            [loading]="loadingSearchResults"\n            (loadMore)="getNextPageOfSearch($event)"\n            data-automation-id="content-node-selector-search-pagination">\n            {{ \'ADF-DOCUMENT-LIST.LAYOUT.LOAD_MORE\' | translate }}\n        </adf-infinite-pagination>\n    </div>\n\n</section>\n\n<footer matDialogActions class="adf-content-node-selector-actions">\n\n    <button *ngIf="inDialog"\n        mat-button\n        class="adf-content-node-selector-actions-cancel"\n        (click)="close()"\n        data-automation-id="content-node-selector-actions-cancel">{{ \'NODE_SELECTOR.CANCEL\' | translate }}\n    </button>\n\n    <button mat-button\n        [disabled]="!chosenNode"\n        class="adf-content-node-selector-actions-choose"\n        (click)="choose()"\n        data-automation-id="content-node-selector-actions-choose">{{ \'NODE_SELECTOR.CHOOSE\' | translate }}\n    </button>\n\n</footer>\n'},function(e,t){e.exports='<div *ngIf="folderNode" data-automation-id="breadcrumb" class="adf-breadcrumb-container">\n    <li *ngFor="let item of route; let last = last"\n        [class.active]="last"\n        [ngSwitch]="last"\n        title="{{ item.name | translate }}"\n        class="adf-breadcrumb-item">\n\n        <a *ngSwitchDefault href="#" [attr.data-automation-id]="\'breadcrumb_\' + item.name"\n           class="adf-breadcrumb-item-anchor"\n           (click)="onRoutePathClick(item, $event)">\n            {{ item.name | translate }}\n        </a>\n\n        <div *ngSwitchCase="true" class="adf-breadcrumb-item-current">\n            {{ item.name | translate }}\n        </div>\n\n        <mat-icon class="adf-breadcrumb-item-chevron" *ngIf="!last">\n            chevron_right\n        </mat-icon>\n    </li>\n</div>\n<div *ngIf="!folderNode && hasRoot">\n    <li class="adf-breadcrumb-item">\n        <div class="adf-breadcrumb-item-current">\n            {{ root | translate }}\n        </div>\n    </li>\n</div>\n'},function(e,t,n){var i=n(482);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t,n){var i=n(484);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports='<div id="site-dropdown-container" class="adf-site-dropdown-container">\n    <mat-form-field>\n        <mat-select\n            class="adf-site-dropdown-list-element"\n            id="site-dropdown"\n            placeholder="{{\'DROPDOWN.PLACEHOLDER_LABEL\' | translate}}"\n            floatPlaceholder="never"\n            data-automation-id="site-my-files-select"\n            [(ngModel)]="siteSelected"\n            (ngModelChange)="selectedSite()">\n            <mat-option *ngIf="!hideMyFiles" data-automation-id="site-my-files-option" id="default_site_option" [value]="MY_FILES_VALUE">{{\'DROPDOWN.MY_FILES_OPTION\' | translate}}</mat-option>\n            <mat-option *ngFor="let site of siteList" [value]="site.guid">\n                {{ site.title }}\n            </mat-option>\n        </mat-select>\n    </mat-form-field>\n</div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.NodePaging=i;class o{}t.NodePagingList=o;class r{}t.NodeMinimalEntry=r;class a{}t.Pagination=a;class s{constructor(){this.properties={}}}t.NodeMinimal=s;class l{}t.UserInfo=l;class c{}t.ContentInfo=c;class d{}t.PathInfoEntity=d;class u{}t.PathElementEntity=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,n=!0,i=!0){this.isFolder=!0,this.isFile=!0,this.css=e,this.permission=t,this.isFile=n,this.isFolder=i}}t.PermissionStyleModel=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DocumentListModule",function(){return A});var i=n(1),o=n(0),r=(n.n(o),n(126)),a=(n.n(r),n(57)),s=n(11),l=n(2),c=(n.n(l),n(198)),d=n(155),u=n(506),p=n(194),h=n(193),f=n(192),m=(n.n(f),n(191)),g=n(154),v=n(125),b=n(197),y=n(510),w=n(514),O=n(518),S=(n.n(O),n(195)),C=(n.n(S),n(196)),E=n(520),I=(n.n(E),n(150)),T=n(152),_=n(151),x=(n.n(_),n(153));let A=class{};A=i.a([Object(o.NgModule)({imports:[l.CoreModule,s.DataTableModule,r.FlexLayoutModule,a.MaterialModule,c.UploadModule],declarations:[v.DocumentListComponent,m.ContentColumnComponent,f.ContentColumnListComponent,h.ContentActionComponent,p.ContentActionListComponent,S.EmptyFolderContentDirective,C.NoPermissionContentDirective,d.BreadcrumbComponent,b.DropdownSitesComponent,u.a,g.ContentNodeSelectorComponent,y.a,O.VersionUploadComponent,w.a],providers:[T.DocumentListService,_.FolderActionsService,I.DocumentActionsService,x.NodeActionsService,E.ContentNodeSelectorService,{provide:l.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-documentlist",source:"assets/ng2-alfresco-documentlist"}}],entryComponents:[g.ContentNodeSelectorComponent],exports:[v.DocumentListComponent,m.ContentColumnComponent,f.ContentColumnListComponent,h.ContentActionComponent,p.ContentActionListComponent,S.EmptyFolderContentDirective,C.NoPermissionContentDirective,d.BreadcrumbComponent,b.DropdownSitesComponent,u.a,g.ContentNodeSelectorComponent,y.a,O.VersionUploadComponent,w.a]})],A)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(199)),i(n(200)),i(n(201)),i(n(156)),i(n(202)),i(n(203)),i(n(505))},function(e,t){e.exports='<form class="adf-upload-button-file-container">\n    \x3c!--Files Upload--\x3e\n    <a *ngIf="!uploadFolders"\n        [disabled]="isButtonDisabled()"\n        mat-raised-button color="primary">\n        <mat-icon>file_upload</mat-icon>\n\n        \x3c!--Multiple Files Upload--\x3e\n        <span *ngIf="multipleFiles">\n            <label\n                id="upload-multiple-file-label"\n                *ngIf="!staticTitle"\n                for="upload-multiple-files">{{ \'FILE_UPLOAD.BUTTON.UPLOAD_FILE\' | translate }}</label>\n            <label\n                id="upload-multiple-file-label-static"\n                *ngIf="staticTitle"\n                for="upload-multiple-files">{{ staticTitle }}</label>\n            <input #uploadFiles\n                id="upload-multiple-files"\n                data-automation-id="upload-multiple-files"\n                type="file"\n                name="uploadFiles"\n                multiple="multiple"\n                accept="{{acceptedFilesType}}"\n                [attr.disabled]="isButtonDisabled()"\n                [title]="tooltip"\n                (change)="onFilesAdded($event)">\n        </span>\n\n        \x3c!--Single Files Upload--\x3e\n        <span *ngIf="!multipleFiles">\n            <label\n                id="upload-single-file-label"\n                *ngIf="!staticTitle"\n                for="upload-single-file">{{ \'FILE_UPLOAD.BUTTON.UPLOAD_FILE\' | translate }}</label>\n            <label\n                id="upload-single-file-label-static"\n                *ngIf="staticTitle"\n                for="upload-single-file">{{ staticTitle }}</label>\n            <input #uploadFiles\n                id="upload-single-file"\n                data-automation-id="upload-single-file"\n                type="file"\n                name="uploadFiles"\n                accept="{{acceptedFilesType}}"\n                [attr.disabled]="isButtonDisabled()"\n                [title]="tooltip"\n                (change)="onFilesAdded($event)">\n        </span>\n    </a>\n\n    \x3c!--Folders Upload--\x3e\n    <a *ngIf="uploadFolders"\n        [disabled]="isButtonDisabled()" mat-raised-button color="primary">\n        <mat-icon>file_upload</mat-icon>\n        <label\n            id="uploadFolder-label"\n            *ngIf="!staticTitle"\n            for="uploadFolder">{{ \'FILE_UPLOAD.BUTTON.UPLOAD_FOLDER\' | translate }}</label>\n        <label\n            id="uploadFolder-label-static"\n            *ngIf="staticTitle"\n            for="uploadFolder">{{ staticTitle }}</label>\n        <input #uploadFolders\n            id="uploadFolder"\n            data-automation-id="uploadFolder"\n            type="file"\n            name="uploadFiles"\n            multiple="multiple"\n            accept="{{acceptedFilesType}}"\n            webkitdirectory directory\n            [attr.disabled]="isButtonDisabled()"\n            [title]="tooltip"\n            (change)="onDirectoryAdded($event)">\n    </a>\n</form>\n'},function(e,t,n){var i=n(492);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-upload-button-file-container input {\n  cursor: pointer;\n  height: 100%;\n  right: 0;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  width: 300px;\n  z-index: 4; }\n"},function(e,t){e.exports='<div class="upload-list">\n    <ng-template\n        ngFor\n        [ngForOf]="files"\n        [ngForTemplate]="template">\n    </ng-template>\n</div>\n'},function(e,t,n){var i=n(495);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=":host {\n  display: flex;\n  flex-direction: column; }\n"},function(e,t){e.exports='<div *ngIf="isDialogActive"\n     class="upload-dialog"\n     [class.upload-dialog--minimized]="isDialogMinimized"\n     [class.upload-dialog--position-left]="position === \'left\'"\n     [class.upload-dialog--position-right]="position === \'right\'">\n    <header class="upload-dialog__header">\n        <button\n            mat-button\n            color="secondary"\n            [disabled]="isConfirmation"\n            (click)="toggleMinimized()">\n            <mat-icon\n                mat-list-icon\n                title="{{ (isDialogMinimized ? \'ADF_FILE_UPLOAD.BUTTON.MAXIMIZE\': \'ADF_FILE_UPLOAD.BUTTON.MINIMIZE\') | translate }}">\n                    {{ isDialogMinimized ? \'keyboard_arrow_up\' : \'keyboard_arrow_down\' }}\n            </mat-icon>\n        </button>\n\n        <span\n            class="upload-dialog__title"\n            *ngIf="!uploadList.isUploadCompleted() && !uploadList.isUploadCancelled()">\n            {{ \'FILE_UPLOAD.MESSAGES.UPLOAD_PROGRESS\'\n                | translate: {\n                    completed: totalCompleted,\n                    total: filesUploadingList.length\n                }\n            }}\n        </span>\n\n        <span\n            class="upload-dialog__title"\n            *ngIf="uploadList.isUploadCompleted()">\n            {{ \'FILE_UPLOAD.MESSAGES.UPLOAD_COMPLETED\'\n                | translate: {\n                    completed: totalCompleted,\n                    total: filesUploadingList.length\n                }\n            }}\n        </span>\n\n        <span\n            class="upload-dialog__title"\n            *ngIf="uploadList.isUploadCancelled()">\n            {{ \'FILE_UPLOAD.MESSAGES.UPLOAD_CANCELED\' | translate }}\n        </span>\n    </header>\n\n    <section\n        class="upload-dialog__info"\n        *ngIf="totalErrors">\n        {{\n            (totalErrors > 1\n                 ? \'FILE_UPLOAD.MESSAGES.UPLOAD_ERRORS\'\n                 : \'FILE_UPLOAD.MESSAGES.UPLOAD_ERROR\')\n                 | translate: { total: totalErrors }\n        }}\n    </section>\n\n    <section\n        class="upload-dialog__content"\n        [class.upload-dialog--padding]="isConfirmation">\n        <adf-file-uploading-list\n            [class.upload-dialog--hide]="isConfirmation"\n            #uploadList\n            [files]="filesUploadingList">\n                <ng-template let-file="$implicit">\n                     <adf-file-uploading-list-row\n                        [file]="file"\n                        (remove)="uploadList.removeFile(file)"\n                        (cancel)="uploadList.cancelFile(file)">\n                    </adf-file-uploading-list-row>\n                </ng-template>\n        </adf-file-uploading-list>\n\n        <div\n            class="upload-dialog__confirmation"\n            [class.upload-dialog--hide]="!isConfirmation">\n                <p class="upload-dialog__confirmation--title">\n                    {{ \'ADF_FILE_UPLOAD.CONFIRMATION.MESSAGE.TITLE\' | translate }}\n                </p>\n\n                <p class="upload-dialog__confirmation--text">\n                    {{ \'ADF_FILE_UPLOAD.CONFIRMATION.MESSAGE.TEXT\' | translate }}\n                </p>\n        </div>\n    </section>\n\n    <footer\n        class="upload-dialog__actions"\n        [class.upload-dialog--hide]="isConfirmation">\n        <button\n            color="primary"\n            mat-button\n            *ngIf="!uploadList.isUploadCompleted() && !uploadList.isUploadCancelled()"\n            (click)="toggleConfirmation()">\n            {{ \'ADF_FILE_UPLOAD.BUTTON.CANCEL_ALL\' | translate }}\n        </button>\n\n        <button\n            *ngIf="uploadList.isUploadCompleted() || uploadList.isUploadCancelled()"\n            mat-button\n            color="primary"\n            (click)="close($event)">\n            {{ \'ADF_FILE_UPLOAD.BUTTON.CLOSE\' | translate }}\n        </button>\n    </footer>\n\n    <footer\n        class="upload-dialog__actions"\n        [class.upload-dialog--hide]="!isConfirmation">\n        <button\n            color="secondary"\n            mat-button\n            (click)="cancelAllUploads()">\n            {{ \'ADF_FILE_UPLOAD.CONFIRMATION.BUTTON.CANCEL\' | translate }}\n        </button>\n\n        <button\n            mat-button\n            color="primary"\n            (click)="toggleConfirmation()">\n            {{ \'ADF_FILE_UPLOAD.CONFIRMATION.BUTTON.CONTINUE\' | translate }}\n        </button>\n    </footer>\n</div>\n'},function(e,t,n){var i=n(498);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports='<div [file-draggable]="isDroppable()" id="UploadBorder" class="upload-border"\n     (filesDropped)="onFilesDropped($event)"\n     (filesEntityDropped)="onFilesEntityDropped($event)"\n     (folderEntityDropped)="onFolderEntityDropped($event)"\n     (upload-files)="onUploadFiles($event)"\n     dropzone="" webkitdropzone="*" #droparea>\n    <ng-content></ng-content>\n</div>\n'},function(e,t,n){var i=n(501);e.exports="string"==typeof i?i:i.toString()},function(e,t,n){(e.exports=n(15)()).push([e.i,".upload-border {\n    vertical-align: middle;\n    text-align: center;\n}\n\n.file-draggable__input-focus {\n    color: #2196F3;\n    border: 1px dashed #2196F3;\n}\n",""])},function(e,t){e.exports='<div class="adf-file-uploading-row">\n    <mat-icon\n        mat-list-icon\n        class="adf-file-uploading-row__type">\n        insert_drive_file\n    </mat-icon>\n\n    <span\n        class="adf-file-uploading-row__name"\n        title="{{ file.name }}">\n        {{ file.name }}\n    </span>\n\n    <div\n        *ngIf="file.status === FileUploadStatus.Progress || file.status === FileUploadStatus.Starting"\n        (click)="onCancel(file)"\n        class="adf-file-uploading-row__group adf-file-uploading-row__group--toggle"\n        title="{{ \'ADF_FILE_UPLOAD.BUTTON.CANCEL_FILE\' | translate }}">\n        <span class="adf-file-uploading-row__status">\n            {{ file.progress.loaded | adfFileSize }} / {{ file.progress.total | adfFileSize }}\n        </span>\n\n        <mat-icon\n            mat-list-icon\n            class="adf-file-uploading-row__action adf-file-uploading-row__action--cancel">\n            clear\n        </mat-icon>\n    </div>\n\n    <div\n        *ngIf="file.status === FileUploadStatus.Complete"\n        (click)="onRemove(file)"\n        class="adf-file-uploading-row__group adf-file-uploading-row__group--toggle"\n        title="{{ \'ADF_FILE_UPLOAD.BUTTON.REMOVE_FILE\' | translate }}">\n        <mat-icon\n            mat-list-icon\n            class="adf-file-uploading-row__status adf-file-uploading-row__status--done">\n            check_circle\n        </mat-icon>\n\n        <mat-icon\n            mat-list-icon\n            class="adf-file-uploading-row__action adf-file-uploading-row__action--remove">\n            remove_circle\n        </mat-icon>\n    </div>\n\n    <div\n        *ngIf="file.status === FileUploadStatus.Pending"\n        (click)="onCancel(file)"\n        class="adf-file-uploading-row__group adf-file-uploading-row__group--toggle">\n        <mat-icon\n            mat-list-icon\n            class="adf-file-uploading-row__status adf-file-uploading-row__status--pending">\n            schedule\n        </mat-icon>\n\n        <mat-icon\n            mat-list-icon\n            class="adf-file-uploading-row__action adf-file-uploading-row__action--remove">\n            remove_circle\n        </mat-icon>\n    </div>\n\n    <div\n        *ngIf="file.status === FileUploadStatus.Error"\n        class="adf-file-uploading-row__block adf-file-uploading-row__status--error"\n        title="{{ file.response }}">\n        <mat-icon mat-list-icon>\n            report_problem\n        </mat-icon>\n    </div>\n\n    <div\n        *ngIf="file.status === FileUploadStatus.Cancelled  ||\n            file.status === FileUploadStatus.Aborted ||\n            file.status === FileUploadStatus.Deleted"\n        class="adf-file-uploading-row__block adf-file-uploading-row__status--cancelled">\n        {{ \'ADF_FILE_UPLOAD.STATUS.FILE_CANCELED_STATUS\' | translate }}\n    </div>\n<div>'},function(e,t,n){var i=n(504);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),a=n(57),s=n(200),l=n(202),c=n(156),d=n(199),u=n(201),p=n(203),h=function(){function e(){}return e=i([o.NgModule({imports:[r.CoreModule,a.MaterialModule],declarations:[p.FileDraggableDirective,u.UploadDragAreaComponent,d.UploadButtonComponent,s.FileUploadingDialogComponent,c.FileUploadingListComponent,l.FileUploadingListRowComponent],providers:[{provide:r.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-upload",source:"assets/ng2-alfresco-upload"}}],exports:[p.FileDraggableDirective,u.UploadDragAreaComponent,d.UploadButtonComponent,s.FileUploadingDialogComponent,c.FileUploadingListComponent,l.FileUploadingListRowComponent]})],e)}();t.UploadModule=h},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(1),o=n(0),r=(n.n(o),n(4)),a=(n.n(r),n(155));let s=class extends a.BreadcrumbComponent{ngOnChanges(e){super.ngOnChanges(e),this.recalculateNodes()}recalculateNodes(){this.currentNode=this.route[this.route.length-1],this.previousNodes=this.route.slice(0,this.route.length-1).reverse()}open(){this.selectbox&&this.selectbox.open()}hasPreviousNodes(){return this.previousNodes.length>0}};i.a([Object(o.ViewChild)(r.MatSelect)],s.prototype,"selectbox",void 0),s=i.a([Object(o.Component)({selector:"adf-dropdown-breadcrumb",template:n(507),styles:[n(508)],encapsulation:o.ViewEncapsulation.None,host:{class:"adf-dropdown-breadcrumb"}})],s)},function(e,t){e.exports='<ng-container *ngIf="route.length > 0">\n\n    <button\n        tabindex="0"\n        class="adf-dropdown-breadcumb-trigger"\n        (click)="open()"\n        data-automation-id="dropdown-breadcrumb-trigger">\n        <mat-icon [class.isRoot]="!hasPreviousNodes()">folder</mat-icon>\n    </button>\n    <mat-icon class="adf-dropddown-breadcrumb-item-chevron">chevron_right</mat-icon>\n\n    <mat-select\n        *ngIf="hasPreviousNodes()"\n        class="adf-dropdown-breadcrumb-path"\n        tabindex="0"\n        data-automation-id="dropdown-breadcrumb-path" >\n\n        <mat-option\n            *ngFor="let node of previousNodes;"\n            (click)="onRoutePathClick(node, $event)"\n            class="adf-dropdown-breadcrumb-path-option"\n            tabindex="0"\n            data-automation-class="dropdown-breadcrumb-path-option">\n            {{ node.name }}\n        </mat-option>\n    </mat-select>\n\n    <span\n        class="adf-current-folder"\n        [class.isRoot]="!hasPreviousNodes()"\n        data-automation-id="current-folder">{{ currentNode.name }}</span>\n</ng-container>\n'},function(e,t,n){var i=n(509);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{constructor(e){this.alfrescoApi=e,this.versions=[],this.isLoading=!0,this.versionsApi=this.alfrescoApi.versionsApi}ngOnChanges(){this.loadVersionHistory()}restore(e){this.versionsApi.revertVersion(this.id,e,{majorVersion:!0,comment:""}).then(this.loadVersionHistory.bind(this))}loadVersionHistory(){this.isLoading=!0,this.versionsApi.listVersionHistory(this.id).then(e=>{this.versions=e.list.entries,this.isLoading=!1})}};i.a([Object(o.Input)()],r.prototype,"id",void 0),r=i.a([Object(o.Component)({selector:"adf-version-list",template:n(511),styles:[n(512)],encapsulation:o.ViewEncapsulation.None,host:{class:"adf-version-list"}})],r)},function(e,t){e.exports='<mat-list class="adf-version-list" *ngIf="!isLoading; else loading_template">\n    <mat-list-item *ngFor="let version of versions">\n        <mat-icon mat-list-icon>insert_drive_file</mat-icon>\n        <h4 mat-line class="adf-version-list-item-name">{{version.entry.name}}</h4>\n        <p mat-line>\n            <span class="adf-version-list-item-version">{{version.entry.id}}</span> -\n            <span class="adf-version-list-item-date">{{version.entry.modifiedAt | date}}</span>\n        </p>\n        <p mat-line class="adf-version-list-item-comment">{{version.entry.versionComment}}</p>\n\n        <mat-menu #versionMenu="matMenu" yPosition="below" xPosition="before">\n            <button mat-menu-item (click)="restore(version.entry.id)"> Restore </button>\n        </mat-menu>\n\n        <button mat-icon-button [matMenuTriggerFor]="versionMenu">\n            <mat-icon>more_vert</mat-icon>\n        </button>\n    </mat-list-item>\n</mat-list>\n\n<ng-template #loading_template>\n    <mat-progress-bar data-automation-id="version-history-loading-bar" mode="indeterminate" color="accent"></mat-progress-bar>\n</ng-template>\n'},function(e,t,n){var i=n(513);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-version-list .mat-list-item {\n  border-bottom: 1px solid #d8d8d8; }\n\n.adf-version-list-item-version {\n  font-weight: bold; }\n\n.adf-version-list-item-date {\n  opacity: 0.6; }\n\n.adf-version-list-item-comment {\n  opacity: 0.5; }\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),o=n(0);n.n(o);let r=class{};i.a([Object(o.Input)()],r.prototype,"node",void 0),r=i.a([Object(o.Component)({selector:"adf-version-manager",template:n(515),styles:[n(516)],encapsulation:o.ViewEncapsulation.None})],r)},function(e,t){e.exports='<div class="adf-new-version-uploader-container" fxLayout="row" fxLayoutAlign="end center">\n    <adf-version-upload [node]="node"></adf-version-upload>\n</div>\n<div class="adf-version-list-container">\n    <adf-version-list [id]="node.id"></adf-version-list>\n</div>\n'},function(e,t,n){var i=n(517);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=".adf-button.upload-new-version {\n  box-shadow: none; }\n\n.adf-new-version-uploader-container {\n  border-bottom: 1px solid #d8d8d8;\n  padding: 16px 0; }\n"},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(136),s=function(){function e(){}return i([r.Input(),o("design:type","function"==typeof(t=void 0!==a.MinimalNodeEntryEntity&&a.MinimalNodeEntryEntity)&&t||Object)],e.prototype,"node",void 0),e=i([r.Component({selector:"adf-version-upload",template:n(519),encapsulation:r.ViewEncapsulation.None,host:{class:"adf-version-upload"}})],e);var t}();t.VersionUploadComponent=s},function(e,t){e.exports='<adf-upload-button\n    data-automation-id="adf-new-version-file-upload"\n    class="adf-new-version-file-upload"\n    staticTitle="Upload new version"\n    [rootFolderId]="node.parentId"\n    tooltip="Restriction: upload file with the same name to create a new version of it"\n    [versioning]="true">\n</adf-upload-button>\n'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),s=function(){function e(e){this.searchService=e}return e.prototype.search=function(e,t,n,i){e+="*";var o={include:["path","allowableOperations"],skipCount:n,rootNodeId:t,nodeType:"cm:folder",maxItems:i,orderBy:null};return this.searchService.getNodeQueryResults(e,o)},e=i([r.Injectable(),o("design:paramtypes",["function"==typeof(t=void 0!==a.SearchService&&a.SearchService)&&t||Object])],e);var t}();t.ContentNodeSelectorService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(522))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(204);n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var r=n(205);n.d(t,"SearchControlComponent",function(){return r.a});var a=n(206);n.d(t,"AUTOCOMPLETE_OPTION_HEIGHT",function(){return a.a}),n.d(t,"AUTOCOMPLETE_PANEL_HEIGHT",function(){return a.b}),n.d(t,"SEARCH_AUTOCOMPLETE_VALUE_ACCESSOR",function(){return a.c}),n.d(t,"SearchTriggerDirective",function(){return a.d});var s=n(531);n.d(t,"ALFRESCO_SEARCH_DIRECTIVES",function(){return s.a}),n.d(t,"ALFRESCO_SEARCH_PROVIDERS",function(){return s.b}),n.d(t,"SearchModule",function(){return s.c})},function(e,t){e.exports='<div role="listbox" id="adf-search-results-content" [ngClass]="_classList" #panel>\n    <ng-template\n        [ngTemplateOutlet]="template"\n        [ngTemplateOutletContext]="{ $implicit: results }">\n    </ng-template>\n</div>\n\n\n'},function(e,t,n){var i=n(525);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports='<div class="adf-search-container" *ngIf="isLoggedIn()"\n[@transitionMessages]="subscriptAnimationState">\n<a mat-icon-button\n    *ngIf="expandable"\n    id="adf-search-button"\n    class="adf-search-button"\n    (click)="toggleSearchBar($event)"\n    (keyup.enter)="toggleSearchBar($event)">\n    <mat-icon aria-label="search button">search</mat-icon>\n</a>\n<mat-form-field class="adf-input-form-field-divider">\n    <input matInput\n        [type]="inputType"\n        [autocomplete]="getAutoComplete()"\n        id="adf-control-input"\n        [(ngModel)]="searchTerm"\n        (focus)="activateToolbar()"\n        (blur)="onBlur($event)"\n        (keyup.escape)="toggleSearchBar()"\n        (ngModelChange)="inputChange($event)"\n        [searchAutocomplete]="auto"\n        (keyup.enter)="searchSubmit($event)">\n</mat-form-field>\n</div>\n\n<adf-search #auto="searchAutocomplete"\n            class="adf-search-result-autocomplete"\n            [rootNodeId]="liveSearchRoot"\n            [resultType]="liveSearchResultType"\n            [resultSort]="liveSearchResultSort"\n            [maxResults]="liveSearchMaxResults">\n    <ng-template let-data>\n        <mat-list *ngIf="isSearchBarActive()" id="autocomplete-search-result-list">\n            <mat-list-item\n                *ngFor="let item of data?.list?.entries; let idx = index"\n                id="result_option_{{idx}}"\n                [tabindex]="0"\n                (focus)="onFocus($event)"\n                (blur)="onBlur($event)"\n                class="adf-search-autocomplete-item"\n                (click)="elementClicked(item)"\n                (keyup.enter)="elementClicked(item)">\n                <mat-icon mat-list-icon>\n                    <img [src]="getMimeTypeIcon(item)" />\n                </mat-icon>\n                    <h4 mat-line id="result_name_{{idx}}"\n                        *ngIf="highlight; else elseBlock"\n                        class="adf-search-fixed-text"\n                        [innerHtml]="item.entry.name | highlight: searchTerm">\n                        {{ item?.entry.name }}</h4>\n                    <ng-template #elseBlock>\n                        <h4 class="adf-search-fixed-text" mat-line id="result_name_{{idx}}" [innerHtml]="item.entry.name"></h4>\n                    </ng-template>\n                    <p mat-line class="adf-search-fixed-text"> {{item?.entry.createdByUser.displayName}} </p>\n            </mat-list-item>\n            <mat-list-item\n                id="search_no_result"\n                data-automation-id="search_no_result_found"\n                *ngIf="data?.list?.entries.length === 0">\n                <p mat-line class="adf-search-fixed-text">{{ \'SEARCH.RESULTS.NONE\' | translate:{searchTerm: searchTerm} }}</p>\n            </mat-list-item>\n        </mat-list>\n    </ng-template>\n</adf-search>\n'},function(e,t,n){var i=n(528);e.exports="string"==typeof i?i:i.toString()},function(e,t){e.exports=""},function(e,t){e.exports=m},function(e,t){e.exports=g},function(e,t,n){"use strict";n.d(t,"c",function(){return h});var i=n(1),o=n(0),r=(n.n(o),n(6)),a=(n.n(r),n(57)),s=n(2),l=(n.n(s),n(206)),c=n(205),d=n(204);n.n(d);const u=[d.SearchComponent,c.a,l.d];t.a=u;const p=[s.SearchService];t.b=p;let h=class{};h=i.a([Object(o.NgModule)({imports:[s.CoreModule,r.FormsModule,r.ReactiveFormsModule,a.MaterialModule],declarations:[...u],providers:[...p,{provide:s.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"ng2-alfresco-search",source:"assets/ng2-alfresco-search"}}],exports:[...u]})],h)}])});
//# sourceMappingURL=content-services.js.map